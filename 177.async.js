(self.webpackChunk=self.webpackChunk||[]).push([[177],{98099:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var k=T(97117);function Te(O,P){return P===void 0&&(P=0),(O[P+0]<<8|O[P+1])<<16>>16}b.readInt16BE=Te;function Ue(O,P){return P===void 0&&(P=0),(O[P+0]<<8|O[P+1])>>>0}b.readUint16BE=Ue;function xe(O,P){return P===void 0&&(P=0),(O[P+1]<<8|O[P])<<16>>16}b.readInt16LE=xe;function V(O,P){return P===void 0&&(P=0),(O[P+1]<<8|O[P])>>>0}b.readUint16LE=V;function ce(O,P,$){return P===void 0&&(P=new Uint8Array(2)),$===void 0&&($=0),P[$+0]=O>>>8,P[$+1]=O>>>0,P}b.writeUint16BE=ce,b.writeInt16BE=ce;function Q(O,P,$){return P===void 0&&(P=new Uint8Array(2)),$===void 0&&($=0),P[$+0]=O>>>0,P[$+1]=O>>>8,P}b.writeUint16LE=Q,b.writeInt16LE=Q;function F(O,P){return P===void 0&&(P=0),O[P]<<24|O[P+1]<<16|O[P+2]<<8|O[P+3]}b.readInt32BE=F;function G(O,P){return P===void 0&&(P=0),(O[P]<<24|O[P+1]<<16|O[P+2]<<8|O[P+3])>>>0}b.readUint32BE=G;function Y(O,P){return P===void 0&&(P=0),O[P+3]<<24|O[P+2]<<16|O[P+1]<<8|O[P]}b.readInt32LE=Y;function Ie(O,P){return P===void 0&&(P=0),(O[P+3]<<24|O[P+2]<<16|O[P+1]<<8|O[P])>>>0}b.readUint32LE=Ie;function Re(O,P,$){return P===void 0&&(P=new Uint8Array(4)),$===void 0&&($=0),P[$+0]=O>>>24,P[$+1]=O>>>16,P[$+2]=O>>>8,P[$+3]=O>>>0,P}b.writeUint32BE=Re,b.writeInt32BE=Re;function ee(O,P,$){return P===void 0&&(P=new Uint8Array(4)),$===void 0&&($=0),P[$+0]=O>>>0,P[$+1]=O>>>8,P[$+2]=O>>>16,P[$+3]=O>>>24,P}b.writeUint32LE=ee,b.writeInt32LE=ee;function _e(O,P){P===void 0&&(P=0);var $=F(O,P),Se=F(O,P+4);return $*4294967296+Se-(Se>>31)*4294967296}b.readInt64BE=_e;function re(O,P){P===void 0&&(P=0);var $=G(O,P),Se=G(O,P+4);return $*4294967296+Se}b.readUint64BE=re;function Be(O,P){P===void 0&&(P=0);var $=Y(O,P),Se=Y(O,P+4);return Se*4294967296+$-($>>31)*4294967296}b.readInt64LE=Be;function ze(O,P){P===void 0&&(P=0);var $=Ie(O,P),Se=Ie(O,P+4);return Se*4294967296+$}b.readUint64LE=ze;function ke(O,P,$){return P===void 0&&(P=new Uint8Array(8)),$===void 0&&($=0),Re(O/4294967296>>>0,P,$),Re(O>>>0,P,$+4),P}b.writeUint64BE=ke,b.writeInt64BE=ke;function je(O,P,$){return P===void 0&&(P=new Uint8Array(8)),$===void 0&&($=0),ee(O>>>0,P,$),ee(O/4294967296>>>0,P,$+4),P}b.writeUint64LE=je,b.writeInt64LE=je;function ve(O,P,$){if($===void 0&&($=0),O%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(O/8>P.length-$)throw new Error("readUintBE: array is too short for the given bitLength");for(var Se=0,Z=1,be=O/8+$-1;be>=$;be--)Se+=P[be]*Z,Z*=256;return Se}b.readUintBE=ve;function se(O,P,$){if($===void 0&&($=0),O%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(O/8>P.length-$)throw new Error("readUintLE: array is too short for the given bitLength");for(var Se=0,Z=1,be=$;be<$+O/8;be++)Se+=P[be]*Z,Z*=256;return Se}b.readUintLE=se;function De(O,P,$,Se){if($===void 0&&($=new Uint8Array(O/8)),Se===void 0&&(Se=0),O%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!k.isSafeInteger(P))throw new Error("writeUintBE value must be an integer");for(var Z=1,be=O/8+Se-1;be>=Se;be--)$[be]=P/Z&255,Z*=256;return $}b.writeUintBE=De;function _(O,P,$,Se){if($===void 0&&($=new Uint8Array(O/8)),Se===void 0&&(Se=0),O%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!k.isSafeInteger(P))throw new Error("writeUintLE value must be an integer");for(var Z=1,be=Se;be<Se+O/8;be++)$[be]=P/Z&255,Z*=256;return $}b.writeUintLE=_;function d(O,P){P===void 0&&(P=0);var $=new DataView(O.buffer,O.byteOffset,O.byteLength);return $.getFloat32(P)}b.readFloat32BE=d;function x(O,P){P===void 0&&(P=0);var $=new DataView(O.buffer,O.byteOffset,O.byteLength);return $.getFloat32(P,!0)}b.readFloat32LE=x;function U(O,P){P===void 0&&(P=0);var $=new DataView(O.buffer,O.byteOffset,O.byteLength);return $.getFloat64(P)}b.readFloat64BE=U;function g(O,P){P===void 0&&(P=0);var $=new DataView(O.buffer,O.byteOffset,O.byteLength);return $.getFloat64(P,!0)}b.readFloat64LE=g;function R(O,P,$){P===void 0&&(P=new Uint8Array(4)),$===void 0&&($=0);var Se=new DataView(P.buffer,P.byteOffset,P.byteLength);return Se.setFloat32($,O),P}b.writeFloat32BE=R;function I(O,P,$){P===void 0&&(P=new Uint8Array(4)),$===void 0&&($=0);var Se=new DataView(P.buffer,P.byteOffset,P.byteLength);return Se.setFloat32($,O,!0),P}b.writeFloat32LE=I;function A(O,P,$){P===void 0&&(P=new Uint8Array(8)),$===void 0&&($=0);var Se=new DataView(P.buffer,P.byteOffset,P.byteLength);return Se.setFloat64($,O),P}b.writeFloat64BE=A;function C(O,P,$){P===void 0&&(P=new Uint8Array(8)),$===void 0&&($=0);var Se=new DataView(P.buffer,P.byteOffset,P.byteLength);return Se.setFloat64($,O,!0),P}b.writeFloat64LE=C},25439:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var k=T(98099),Te=T(17309),Ue=20;function xe(F,G,Y){for(var Ie=1634760805,Re=857760878,ee=2036477234,_e=1797285236,re=Y[3]<<24|Y[2]<<16|Y[1]<<8|Y[0],Be=Y[7]<<24|Y[6]<<16|Y[5]<<8|Y[4],ze=Y[11]<<24|Y[10]<<16|Y[9]<<8|Y[8],ke=Y[15]<<24|Y[14]<<16|Y[13]<<8|Y[12],je=Y[19]<<24|Y[18]<<16|Y[17]<<8|Y[16],ve=Y[23]<<24|Y[22]<<16|Y[21]<<8|Y[20],se=Y[27]<<24|Y[26]<<16|Y[25]<<8|Y[24],De=Y[31]<<24|Y[30]<<16|Y[29]<<8|Y[28],_=G[3]<<24|G[2]<<16|G[1]<<8|G[0],d=G[7]<<24|G[6]<<16|G[5]<<8|G[4],x=G[11]<<24|G[10]<<16|G[9]<<8|G[8],U=G[15]<<24|G[14]<<16|G[13]<<8|G[12],g=Ie,R=Re,I=ee,A=_e,C=re,O=Be,P=ze,$=ke,Se=je,Z=ve,be=se,Je=De,Pe=_,We=d,Ze=x,it=U,ot=0;ot<Ue;ot+=2)g=g+C|0,Pe^=g,Pe=Pe>>>32-16|Pe<<16,Se=Se+Pe|0,C^=Se,C=C>>>32-12|C<<12,R=R+O|0,We^=R,We=We>>>32-16|We<<16,Z=Z+We|0,O^=Z,O=O>>>32-12|O<<12,I=I+P|0,Ze^=I,Ze=Ze>>>32-16|Ze<<16,be=be+Ze|0,P^=be,P=P>>>32-12|P<<12,A=A+$|0,it^=A,it=it>>>32-16|it<<16,Je=Je+it|0,$^=Je,$=$>>>32-12|$<<12,I=I+P|0,Ze^=I,Ze=Ze>>>32-8|Ze<<8,be=be+Ze|0,P^=be,P=P>>>32-7|P<<7,A=A+$|0,it^=A,it=it>>>32-8|it<<8,Je=Je+it|0,$^=Je,$=$>>>32-7|$<<7,R=R+O|0,We^=R,We=We>>>32-8|We<<8,Z=Z+We|0,O^=Z,O=O>>>32-7|O<<7,g=g+C|0,Pe^=g,Pe=Pe>>>32-8|Pe<<8,Se=Se+Pe|0,C^=Se,C=C>>>32-7|C<<7,g=g+O|0,it^=g,it=it>>>32-16|it<<16,be=be+it|0,O^=be,O=O>>>32-12|O<<12,R=R+P|0,Pe^=R,Pe=Pe>>>32-16|Pe<<16,Je=Je+Pe|0,P^=Je,P=P>>>32-12|P<<12,I=I+$|0,We^=I,We=We>>>32-16|We<<16,Se=Se+We|0,$^=Se,$=$>>>32-12|$<<12,A=A+C|0,Ze^=A,Ze=Ze>>>32-16|Ze<<16,Z=Z+Ze|0,C^=Z,C=C>>>32-12|C<<12,I=I+$|0,We^=I,We=We>>>32-8|We<<8,Se=Se+We|0,$^=Se,$=$>>>32-7|$<<7,A=A+C|0,Ze^=A,Ze=Ze>>>32-8|Ze<<8,Z=Z+Ze|0,C^=Z,C=C>>>32-7|C<<7,R=R+P|0,Pe^=R,Pe=Pe>>>32-8|Pe<<8,Je=Je+Pe|0,P^=Je,P=P>>>32-7|P<<7,g=g+O|0,it^=g,it=it>>>32-8|it<<8,be=be+it|0,O^=be,O=O>>>32-7|O<<7;k.writeUint32LE(g+Ie|0,F,0),k.writeUint32LE(R+Re|0,F,4),k.writeUint32LE(I+ee|0,F,8),k.writeUint32LE(A+_e|0,F,12),k.writeUint32LE(C+re|0,F,16),k.writeUint32LE(O+Be|0,F,20),k.writeUint32LE(P+ze|0,F,24),k.writeUint32LE($+ke|0,F,28),k.writeUint32LE(Se+je|0,F,32),k.writeUint32LE(Z+ve|0,F,36),k.writeUint32LE(be+se|0,F,40),k.writeUint32LE(Je+De|0,F,44),k.writeUint32LE(Pe+_|0,F,48),k.writeUint32LE(We+d|0,F,52),k.writeUint32LE(Ze+x|0,F,56),k.writeUint32LE(it+U|0,F,60)}function V(F,G,Y,Ie,Re){if(Re===void 0&&(Re=0),F.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(Ie.length<Y.length)throw new Error("ChaCha: destination is shorter than source");var ee,_e;if(Re===0){if(G.length!==8&&G.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");ee=new Uint8Array(16),_e=ee.length-G.length,ee.set(G,_e)}else{if(G.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");ee=G,_e=Re}for(var re=new Uint8Array(64),Be=0;Be<Y.length;Be+=64){xe(re,ee,F);for(var ze=Be;ze<Be+64&&ze<Y.length;ze++)Ie[ze]=Y[ze]^re[ze-Be];Q(ee,0,_e)}return Te.wipe(re),Re===0&&Te.wipe(ee),Ie}b.streamXOR=V;function ce(F,G,Y,Ie){return Ie===void 0&&(Ie=0),Te.wipe(Y),V(F,G,Y,Y,Ie)}b.stream=ce;function Q(F,G,Y){for(var Ie=1;Y--;)Ie=Ie+(F[G]&255)|0,F[G]=Ie&255,Ie>>>=8,G++;if(Ie>0)throw new Error("ChaCha: counter overflow")}},15501:function(rt,b,T){"use strict";var k;k={value:!0};var Te=T(25439),Ue=T(63027),xe=T(17309),V=T(98099),ce=T(4153);b.Cv=32,b.WH=12,b.pg=16;var Q=new Uint8Array(16),F=function(){function G(Y){if(this.nonceLength=b.WH,this.tagLength=b.pg,Y.length!==b.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(Y)}return G.prototype.seal=function(Y,Ie,Re,ee){if(Y.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var _e=new Uint8Array(16);_e.set(Y,_e.length-Y.length);var re=new Uint8Array(32);Te.stream(this._key,_e,re,4);var Be=Ie.length+this.tagLength,ze;if(ee){if(ee.length!==Be)throw new Error("ChaCha20Poly1305: incorrect destination length");ze=ee}else ze=new Uint8Array(Be);return Te.streamXOR(this._key,_e,Ie,ze,4),this._authenticate(ze.subarray(ze.length-this.tagLength,ze.length),re,ze.subarray(0,ze.length-this.tagLength),Re),xe.wipe(_e),ze},G.prototype.open=function(Y,Ie,Re,ee){if(Y.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(Ie.length<this.tagLength)return null;var _e=new Uint8Array(16);_e.set(Y,_e.length-Y.length);var re=new Uint8Array(32);Te.stream(this._key,_e,re,4);var Be=new Uint8Array(this.tagLength);if(this._authenticate(Be,re,Ie.subarray(0,Ie.length-this.tagLength),Re),!ce.equal(Be,Ie.subarray(Ie.length-this.tagLength,Ie.length)))return null;var ze=Ie.length-this.tagLength,ke;if(ee){if(ee.length!==ze)throw new Error("ChaCha20Poly1305: incorrect destination length");ke=ee}else ke=new Uint8Array(ze);return Te.streamXOR(this._key,_e,Ie.subarray(0,Ie.length-this.tagLength),ke,4),xe.wipe(_e),ke},G.prototype.clean=function(){return xe.wipe(this._key),this},G.prototype._authenticate=function(Y,Ie,Re,ee){var _e=new Ue.Poly1305(Ie);ee&&(_e.update(ee),ee.length%16>0&&_e.update(Q.subarray(ee.length%16))),_e.update(Re),Re.length%16>0&&_e.update(Q.subarray(Re.length%16));var re=new Uint8Array(8);ee&&V.writeUint64LE(ee.length,re),_e.update(re),V.writeUint64LE(Re.length,re),_e.update(re);for(var Be=_e.digest(),ze=0;ze<Be.length;ze++)Y[ze]=Be[ze];_e.clean(),xe.wipe(Be),xe.wipe(re)},G}();b.OK=F},4153:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});function T(xe,V,ce){return~(xe-1)&V|xe-1&ce}b.select=T;function k(xe,V){return(xe|0)-(V|0)-1>>>31&1}b.lessOrEqual=k;function Te(xe,V){if(xe.length!==V.length)return 0;for(var ce=0,Q=0;Q<xe.length;Q++)ce|=xe[Q]^V[Q];return 1&ce-1>>>8}b.compare=Te;function Ue(xe,V){return xe.length===0||V.length===0?!1:Te(xe,V)!==0}b.equal=Ue},31050:function(rt,b,T){"use strict";var k;k={value:!0},k=k=k=b.Xx=k=k=b._w=b.aP=b.KS=k=b.jQ=void 0;const Te=T(31416),Ue=T(93350),xe=T(17309);b.jQ=64,k=32,b.KS=64,b.aP=32;function V(Le){const Me=new Float64Array(16);if(Le)for(let Ae=0;Ae<Le.length;Ae++)Me[Ae]=Le[Ae];return Me}const ce=new Uint8Array(32);ce[0]=9;const Q=V(),F=V([1]),G=V([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Y=V([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Ie=V([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Re=V([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ee=V([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _e(Le,Me){for(let Ae=0;Ae<16;Ae++)Le[Ae]=Me[Ae]|0}function re(Le){let Me=1;for(let Ae=0;Ae<16;Ae++){let m=Le[Ae]+Me+65535;Me=Math.floor(m/65536),Le[Ae]=m-Me*65536}Le[0]+=Me-1+37*(Me-1)}function Be(Le,Me,Ae){const m=~(Ae-1);for(let ae=0;ae<16;ae++){const nt=m&(Le[ae]^Me[ae]);Le[ae]^=nt,Me[ae]^=nt}}function ze(Le,Me){const Ae=V(),m=V();for(let ae=0;ae<16;ae++)m[ae]=Me[ae];re(m),re(m),re(m);for(let ae=0;ae<2;ae++){Ae[0]=m[0]-65517;for(let yt=1;yt<15;yt++)Ae[yt]=m[yt]-65535-(Ae[yt-1]>>16&1),Ae[yt-1]&=65535;Ae[15]=m[15]-32767-(Ae[14]>>16&1);const nt=Ae[15]>>16&1;Ae[14]&=65535,Be(m,Ae,1-nt)}for(let ae=0;ae<16;ae++)Le[2*ae]=m[ae]&255,Le[2*ae+1]=m[ae]>>8}function ke(Le,Me){let Ae=0;for(let m=0;m<32;m++)Ae|=Le[m]^Me[m];return(1&Ae-1>>>8)-1}function je(Le,Me){const Ae=new Uint8Array(32),m=new Uint8Array(32);return ze(Ae,Le),ze(m,Me),ke(Ae,m)}function ve(Le){const Me=new Uint8Array(32);return ze(Me,Le),Me[0]&1}function se(Le,Me){for(let Ae=0;Ae<16;Ae++)Le[Ae]=Me[2*Ae]+(Me[2*Ae+1]<<8);Le[15]&=32767}function De(Le,Me,Ae){for(let m=0;m<16;m++)Le[m]=Me[m]+Ae[m]}function _(Le,Me,Ae){for(let m=0;m<16;m++)Le[m]=Me[m]-Ae[m]}function d(Le,Me,Ae){let m,ae,nt=0,yt=0,Nt=0,zt=0,H=0,w=0,S=0,J=0,Ee=0,Ve=0,qe=0,ft=0,ht=0,lt=0,vt=0,gt=0,bt=0,Ft=0,jt=0,Vt=0,Wt=0,Ht=0,kt=0,Gt=0,Rn=0,Lr=0,kn=0,di=0,Ri=0,ii=0,si=0,lr=Ae[0],hr=Ae[1],cr=Ae[2],ir=Ae[3],xr=Ae[4],_r=Ae[5],dr=Ae[6],Ir=Ae[7],Sr=Ae[8],yr=Ae[9],pr=Ae[10],er=Ae[11],Dr=Ae[12],Or=Ae[13],Ar=Ae[14],Pr=Ae[15];m=Me[0],nt+=m*lr,yt+=m*hr,Nt+=m*cr,zt+=m*ir,H+=m*xr,w+=m*_r,S+=m*dr,J+=m*Ir,Ee+=m*Sr,Ve+=m*yr,qe+=m*pr,ft+=m*er,ht+=m*Dr,lt+=m*Or,vt+=m*Ar,gt+=m*Pr,m=Me[1],yt+=m*lr,Nt+=m*hr,zt+=m*cr,H+=m*ir,w+=m*xr,S+=m*_r,J+=m*dr,Ee+=m*Ir,Ve+=m*Sr,qe+=m*yr,ft+=m*pr,ht+=m*er,lt+=m*Dr,vt+=m*Or,gt+=m*Ar,bt+=m*Pr,m=Me[2],Nt+=m*lr,zt+=m*hr,H+=m*cr,w+=m*ir,S+=m*xr,J+=m*_r,Ee+=m*dr,Ve+=m*Ir,qe+=m*Sr,ft+=m*yr,ht+=m*pr,lt+=m*er,vt+=m*Dr,gt+=m*Or,bt+=m*Ar,Ft+=m*Pr,m=Me[3],zt+=m*lr,H+=m*hr,w+=m*cr,S+=m*ir,J+=m*xr,Ee+=m*_r,Ve+=m*dr,qe+=m*Ir,ft+=m*Sr,ht+=m*yr,lt+=m*pr,vt+=m*er,gt+=m*Dr,bt+=m*Or,Ft+=m*Ar,jt+=m*Pr,m=Me[4],H+=m*lr,w+=m*hr,S+=m*cr,J+=m*ir,Ee+=m*xr,Ve+=m*_r,qe+=m*dr,ft+=m*Ir,ht+=m*Sr,lt+=m*yr,vt+=m*pr,gt+=m*er,bt+=m*Dr,Ft+=m*Or,jt+=m*Ar,Vt+=m*Pr,m=Me[5],w+=m*lr,S+=m*hr,J+=m*cr,Ee+=m*ir,Ve+=m*xr,qe+=m*_r,ft+=m*dr,ht+=m*Ir,lt+=m*Sr,vt+=m*yr,gt+=m*pr,bt+=m*er,Ft+=m*Dr,jt+=m*Or,Vt+=m*Ar,Wt+=m*Pr,m=Me[6],S+=m*lr,J+=m*hr,Ee+=m*cr,Ve+=m*ir,qe+=m*xr,ft+=m*_r,ht+=m*dr,lt+=m*Ir,vt+=m*Sr,gt+=m*yr,bt+=m*pr,Ft+=m*er,jt+=m*Dr,Vt+=m*Or,Wt+=m*Ar,Ht+=m*Pr,m=Me[7],J+=m*lr,Ee+=m*hr,Ve+=m*cr,qe+=m*ir,ft+=m*xr,ht+=m*_r,lt+=m*dr,vt+=m*Ir,gt+=m*Sr,bt+=m*yr,Ft+=m*pr,jt+=m*er,Vt+=m*Dr,Wt+=m*Or,Ht+=m*Ar,kt+=m*Pr,m=Me[8],Ee+=m*lr,Ve+=m*hr,qe+=m*cr,ft+=m*ir,ht+=m*xr,lt+=m*_r,vt+=m*dr,gt+=m*Ir,bt+=m*Sr,Ft+=m*yr,jt+=m*pr,Vt+=m*er,Wt+=m*Dr,Ht+=m*Or,kt+=m*Ar,Gt+=m*Pr,m=Me[9],Ve+=m*lr,qe+=m*hr,ft+=m*cr,ht+=m*ir,lt+=m*xr,vt+=m*_r,gt+=m*dr,bt+=m*Ir,Ft+=m*Sr,jt+=m*yr,Vt+=m*pr,Wt+=m*er,Ht+=m*Dr,kt+=m*Or,Gt+=m*Ar,Rn+=m*Pr,m=Me[10],qe+=m*lr,ft+=m*hr,ht+=m*cr,lt+=m*ir,vt+=m*xr,gt+=m*_r,bt+=m*dr,Ft+=m*Ir,jt+=m*Sr,Vt+=m*yr,Wt+=m*pr,Ht+=m*er,kt+=m*Dr,Gt+=m*Or,Rn+=m*Ar,Lr+=m*Pr,m=Me[11],ft+=m*lr,ht+=m*hr,lt+=m*cr,vt+=m*ir,gt+=m*xr,bt+=m*_r,Ft+=m*dr,jt+=m*Ir,Vt+=m*Sr,Wt+=m*yr,Ht+=m*pr,kt+=m*er,Gt+=m*Dr,Rn+=m*Or,Lr+=m*Ar,kn+=m*Pr,m=Me[12],ht+=m*lr,lt+=m*hr,vt+=m*cr,gt+=m*ir,bt+=m*xr,Ft+=m*_r,jt+=m*dr,Vt+=m*Ir,Wt+=m*Sr,Ht+=m*yr,kt+=m*pr,Gt+=m*er,Rn+=m*Dr,Lr+=m*Or,kn+=m*Ar,di+=m*Pr,m=Me[13],lt+=m*lr,vt+=m*hr,gt+=m*cr,bt+=m*ir,Ft+=m*xr,jt+=m*_r,Vt+=m*dr,Wt+=m*Ir,Ht+=m*Sr,kt+=m*yr,Gt+=m*pr,Rn+=m*er,Lr+=m*Dr,kn+=m*Or,di+=m*Ar,Ri+=m*Pr,m=Me[14],vt+=m*lr,gt+=m*hr,bt+=m*cr,Ft+=m*ir,jt+=m*xr,Vt+=m*_r,Wt+=m*dr,Ht+=m*Ir,kt+=m*Sr,Gt+=m*yr,Rn+=m*pr,Lr+=m*er,kn+=m*Dr,di+=m*Or,Ri+=m*Ar,ii+=m*Pr,m=Me[15],gt+=m*lr,bt+=m*hr,Ft+=m*cr,jt+=m*ir,Vt+=m*xr,Wt+=m*_r,Ht+=m*dr,kt+=m*Ir,Gt+=m*Sr,Rn+=m*yr,Lr+=m*pr,kn+=m*er,di+=m*Dr,Ri+=m*Or,ii+=m*Ar,si+=m*Pr,nt+=38*bt,yt+=38*Ft,Nt+=38*jt,zt+=38*Vt,H+=38*Wt,w+=38*Ht,S+=38*kt,J+=38*Gt,Ee+=38*Rn,Ve+=38*Lr,qe+=38*kn,ft+=38*di,ht+=38*Ri,lt+=38*ii,vt+=38*si,ae=1,m=nt+ae+65535,ae=Math.floor(m/65536),nt=m-ae*65536,m=yt+ae+65535,ae=Math.floor(m/65536),yt=m-ae*65536,m=Nt+ae+65535,ae=Math.floor(m/65536),Nt=m-ae*65536,m=zt+ae+65535,ae=Math.floor(m/65536),zt=m-ae*65536,m=H+ae+65535,ae=Math.floor(m/65536),H=m-ae*65536,m=w+ae+65535,ae=Math.floor(m/65536),w=m-ae*65536,m=S+ae+65535,ae=Math.floor(m/65536),S=m-ae*65536,m=J+ae+65535,ae=Math.floor(m/65536),J=m-ae*65536,m=Ee+ae+65535,ae=Math.floor(m/65536),Ee=m-ae*65536,m=Ve+ae+65535,ae=Math.floor(m/65536),Ve=m-ae*65536,m=qe+ae+65535,ae=Math.floor(m/65536),qe=m-ae*65536,m=ft+ae+65535,ae=Math.floor(m/65536),ft=m-ae*65536,m=ht+ae+65535,ae=Math.floor(m/65536),ht=m-ae*65536,m=lt+ae+65535,ae=Math.floor(m/65536),lt=m-ae*65536,m=vt+ae+65535,ae=Math.floor(m/65536),vt=m-ae*65536,m=gt+ae+65535,ae=Math.floor(m/65536),gt=m-ae*65536,nt+=ae-1+37*(ae-1),ae=1,m=nt+ae+65535,ae=Math.floor(m/65536),nt=m-ae*65536,m=yt+ae+65535,ae=Math.floor(m/65536),yt=m-ae*65536,m=Nt+ae+65535,ae=Math.floor(m/65536),Nt=m-ae*65536,m=zt+ae+65535,ae=Math.floor(m/65536),zt=m-ae*65536,m=H+ae+65535,ae=Math.floor(m/65536),H=m-ae*65536,m=w+ae+65535,ae=Math.floor(m/65536),w=m-ae*65536,m=S+ae+65535,ae=Math.floor(m/65536),S=m-ae*65536,m=J+ae+65535,ae=Math.floor(m/65536),J=m-ae*65536,m=Ee+ae+65535,ae=Math.floor(m/65536),Ee=m-ae*65536,m=Ve+ae+65535,ae=Math.floor(m/65536),Ve=m-ae*65536,m=qe+ae+65535,ae=Math.floor(m/65536),qe=m-ae*65536,m=ft+ae+65535,ae=Math.floor(m/65536),ft=m-ae*65536,m=ht+ae+65535,ae=Math.floor(m/65536),ht=m-ae*65536,m=lt+ae+65535,ae=Math.floor(m/65536),lt=m-ae*65536,m=vt+ae+65535,ae=Math.floor(m/65536),vt=m-ae*65536,m=gt+ae+65535,ae=Math.floor(m/65536),gt=m-ae*65536,nt+=ae-1+37*(ae-1),Le[0]=nt,Le[1]=yt,Le[2]=Nt,Le[3]=zt,Le[4]=H,Le[5]=w,Le[6]=S,Le[7]=J,Le[8]=Ee,Le[9]=Ve,Le[10]=qe,Le[11]=ft,Le[12]=ht,Le[13]=lt,Le[14]=vt,Le[15]=gt}function x(Le,Me){d(Le,Me,Me)}function U(Le,Me){const Ae=V();let m;for(m=0;m<16;m++)Ae[m]=Me[m];for(m=253;m>=0;m--)x(Ae,Ae),m!==2&&m!==4&&d(Ae,Ae,Me);for(m=0;m<16;m++)Le[m]=Ae[m]}function g(Le,Me){const Ae=V();let m;for(m=0;m<16;m++)Ae[m]=Me[m];for(m=250;m>=0;m--)x(Ae,Ae),m!==1&&d(Ae,Ae,Me);for(m=0;m<16;m++)Le[m]=Ae[m]}function R(Le,Me){const Ae=V(),m=V(),ae=V(),nt=V(),yt=V(),Nt=V(),zt=V(),H=V(),w=V();_(Ae,Le[1],Le[0]),_(w,Me[1],Me[0]),d(Ae,Ae,w),De(m,Le[0],Le[1]),De(w,Me[0],Me[1]),d(m,m,w),d(ae,Le[3],Me[3]),d(ae,ae,Y),d(nt,Le[2],Me[2]),De(nt,nt,nt),_(yt,m,Ae),_(Nt,nt,ae),De(zt,nt,ae),De(H,m,Ae),d(Le[0],yt,Nt),d(Le[1],H,zt),d(Le[2],zt,Nt),d(Le[3],yt,H)}function I(Le,Me,Ae){for(let m=0;m<4;m++)Be(Le[m],Me[m],Ae)}function A(Le,Me){const Ae=V(),m=V(),ae=V();U(ae,Me[2]),d(Ae,Me[0],ae),d(m,Me[1],ae),ze(Le,m),Le[31]^=ve(Ae)<<7}function C(Le,Me,Ae){_e(Le[0],Q),_e(Le[1],F),_e(Le[2],F),_e(Le[3],Q);for(let m=255;m>=0;--m){const ae=Ae[m/8|0]>>(m&7)&1;I(Le,Me,ae),R(Me,Le),R(Le,Le),I(Le,Me,ae)}}function O(Le,Me){const Ae=[V(),V(),V(),V()];_e(Ae[0],Ie),_e(Ae[1],Re),_e(Ae[2],F),d(Ae[3],Ie,Re),C(Le,Ae,Me)}function P(Le){if(Le.length!==b.aP)throw new Error(`ed25519: seed must be ${b.aP} bytes`);const Me=(0,Ue.hash)(Le);Me[0]&=248,Me[31]&=127,Me[31]|=64;const Ae=new Uint8Array(32),m=[V(),V(),V(),V()];O(m,Me),A(Ae,m);const ae=new Uint8Array(64);return ae.set(Le),ae.set(Ae,32),{publicKey:Ae,secretKey:ae}}b._w=P;function $(Le){const Me=(0,Te.randomBytes)(32,Le),Ae=P(Me);return(0,xe.wipe)(Me),Ae}k=$;function Se(Le){if(Le.length!==b.KS)throw new Error(`ed25519: secret key must be ${b.KS} bytes`);return new Uint8Array(Le.subarray(32))}k=Se;const Z=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function be(Le,Me){let Ae,m,ae,nt;for(m=63;m>=32;--m){for(Ae=0,ae=m-32,nt=m-12;ae<nt;++ae)Me[ae]+=Ae-16*Me[m]*Z[ae-(m-32)],Ae=Math.floor((Me[ae]+128)/256),Me[ae]-=Ae*256;Me[ae]+=Ae,Me[m]=0}for(Ae=0,ae=0;ae<32;ae++)Me[ae]+=Ae-(Me[31]>>4)*Z[ae],Ae=Me[ae]>>8,Me[ae]&=255;for(ae=0;ae<32;ae++)Me[ae]-=Ae*Z[ae];for(m=0;m<32;m++)Me[m+1]+=Me[m]>>8,Le[m]=Me[m]&255}function Je(Le){const Me=new Float64Array(64);for(let Ae=0;Ae<64;Ae++)Me[Ae]=Le[Ae];for(let Ae=0;Ae<64;Ae++)Le[Ae]=0;be(Le,Me)}function Pe(Le,Me){const Ae=new Float64Array(64),m=[V(),V(),V(),V()],ae=(0,Ue.hash)(Le.subarray(0,32));ae[0]&=248,ae[31]&=127,ae[31]|=64;const nt=new Uint8Array(64);nt.set(ae.subarray(32),32);const yt=new Ue.SHA512;yt.update(nt.subarray(32)),yt.update(Me);const Nt=yt.digest();yt.clean(),Je(Nt),O(m,Nt),A(nt,m),yt.reset(),yt.update(nt.subarray(0,32)),yt.update(Le.subarray(32)),yt.update(Me);const zt=yt.digest();Je(zt);for(let H=0;H<32;H++)Ae[H]=Nt[H];for(let H=0;H<32;H++)for(let w=0;w<32;w++)Ae[H+w]+=zt[H]*ae[w];return be(nt.subarray(32),Ae),nt}b.Xx=Pe;function We(Le,Me){const Ae=V(),m=V(),ae=V(),nt=V(),yt=V(),Nt=V(),zt=V();return _e(Le[2],F),se(Le[1],Me),x(ae,Le[1]),d(nt,ae,G),_(ae,ae,Le[2]),De(nt,Le[2],nt),x(yt,nt),x(Nt,yt),d(zt,Nt,yt),d(Ae,zt,ae),d(Ae,Ae,nt),g(Ae,Ae),d(Ae,Ae,ae),d(Ae,Ae,nt),d(Ae,Ae,nt),d(Le[0],Ae,nt),x(m,Le[0]),d(m,m,nt),je(m,ae)&&d(Le[0],Le[0],ee),x(m,Le[0]),d(m,m,nt),je(m,ae)?-1:(ve(Le[0])===Me[31]>>7&&_(Le[0],Q,Le[0]),d(Le[3],Le[0],Le[1]),0)}function Ze(Le,Me,Ae){const m=new Uint8Array(32),ae=[V(),V(),V(),V()],nt=[V(),V(),V(),V()];if(Ae.length!==b.jQ)throw new Error(`ed25519: signature must be ${b.jQ} bytes`);if(We(nt,Le))return!1;const yt=new Ue.SHA512;yt.update(Ae.subarray(0,32)),yt.update(Le),yt.update(Me);const Nt=yt.digest();return Je(Nt),C(ae,nt,Nt),O(nt,Ae.subarray(32)),R(ae,nt),A(m,ae),!ke(Ae,m)}k=Ze;function it(Le){let Me=[V(),V(),V(),V()];if(We(Me,Le))throw new Error("Ed25519: invalid public key");let Ae=V(),m=V(),ae=Me[1];De(Ae,F,ae),_(m,F,ae),U(m,m),d(Ae,Ae,m);let nt=new Uint8Array(32);return ze(nt,Ae),nt}k=it;function ot(Le){const Me=(0,Ue.hash)(Le.subarray(0,32));Me[0]&=248,Me[31]&=127,Me[31]|=64;const Ae=new Uint8Array(Me.subarray(0,32));return(0,xe.wipe)(Me),Ae}k=ot},79984:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});function T(k){return typeof k.saveState<"u"&&typeof k.restoreState<"u"&&typeof k.cleanSavedState<"u"}b.isSerializableHash=T},512:function(rt,b,T){"use strict";var k;k={value:!0};var Te=T(25629),Ue=T(17309),xe=function(){function V(ce,Q,F,G){F===void 0&&(F=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=ce,this._info=G;var Y=Te.hmac(this._hash,F,Q);this._hmac=new Te.HMAC(ce,Y),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return V.prototype._fillBuffer=function(){this._counter[0]++;var ce=this._counter[0];if(ce===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),ce>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},V.prototype.expand=function(ce){for(var Q=new Uint8Array(ce),F=0;F<Q.length;F++)this._bufpos===this._buffer.length&&this._fillBuffer(),Q[F]=this._buffer[this._bufpos++];return Q},V.prototype.clean=function(){this._hmac.clean(),Ue.wipe(this._buffer),Ue.wipe(this._counter),this._bufpos=0},V}();b.t=xe},25629:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var k=T(79984),Te=T(4153),Ue=T(17309),xe=function(){function ce(Q,F){this._finished=!1,this._inner=new Q,this._outer=new Q,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var G=new Uint8Array(this.blockSize);F.length>this.blockSize?this._inner.update(F).finish(G).clean():G.set(F);for(var Y=0;Y<G.length;Y++)G[Y]^=54;this._inner.update(G);for(var Y=0;Y<G.length;Y++)G[Y]^=106;this._outer.update(G),k.isSerializableHash(this._inner)&&k.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Ue.wipe(G)}return ce.prototype.reset=function(){if(!k.isSerializableHash(this._inner)||!k.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},ce.prototype.clean=function(){k.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),k.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},ce.prototype.update=function(Q){return this._inner.update(Q),this},ce.prototype.finish=function(Q){return this._finished?(this._outer.finish(Q),this):(this._inner.finish(Q),this._outer.update(Q.subarray(0,this.digestLength)).finish(Q),this._finished=!0,this)},ce.prototype.digest=function(){var Q=new Uint8Array(this.digestLength);return this.finish(Q),Q},ce.prototype.saveState=function(){if(!k.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},ce.prototype.restoreState=function(Q){if(!k.isSerializableHash(this._inner)||!k.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(Q),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},ce.prototype.cleanSavedState=function(Q){if(!k.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(Q)},ce}();b.HMAC=xe;function V(ce,Q,F){var G=new xe(ce,Q);G.update(F);var Y=G.digest();return G.clean(),Y}b.hmac=V,b.equal=Te.equal},97117:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});function T(ce,Q){var F=ce>>>16&65535,G=ce&65535,Y=Q>>>16&65535,Ie=Q&65535;return G*Ie+(F*Ie+G*Y<<16>>>0)|0}b.mul=Math.imul||T;function k(ce,Q){return ce+Q|0}b.add=k;function Te(ce,Q){return ce-Q|0}b.sub=Te;function Ue(ce,Q){return ce<<Q|ce>>>32-Q}b.rotl=Ue;function xe(ce,Q){return ce<<32-Q|ce>>>Q}b.rotr=xe;function V(ce){return typeof ce=="number"&&isFinite(ce)&&Math.floor(ce)===ce}b.isInteger=Number.isInteger||V,b.MAX_SAFE_INTEGER=9007199254740991,b.isSafeInteger=function(ce){return b.isInteger(ce)&&ce>=-b.MAX_SAFE_INTEGER&&ce<=b.MAX_SAFE_INTEGER}},63027:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var k=T(4153),Te=T(17309);b.DIGEST_LENGTH=16;var Ue=function(){function ce(Q){this.digestLength=b.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var F=Q[0]|Q[1]<<8;this._r[0]=F&8191;var G=Q[2]|Q[3]<<8;this._r[1]=(F>>>13|G<<3)&8191;var Y=Q[4]|Q[5]<<8;this._r[2]=(G>>>10|Y<<6)&7939;var Ie=Q[6]|Q[7]<<8;this._r[3]=(Y>>>7|Ie<<9)&8191;var Re=Q[8]|Q[9]<<8;this._r[4]=(Ie>>>4|Re<<12)&255,this._r[5]=Re>>>1&8190;var ee=Q[10]|Q[11]<<8;this._r[6]=(Re>>>14|ee<<2)&8191;var _e=Q[12]|Q[13]<<8;this._r[7]=(ee>>>11|_e<<5)&8065;var re=Q[14]|Q[15]<<8;this._r[8]=(_e>>>8|re<<8)&8191,this._r[9]=re>>>5&127,this._pad[0]=Q[16]|Q[17]<<8,this._pad[1]=Q[18]|Q[19]<<8,this._pad[2]=Q[20]|Q[21]<<8,this._pad[3]=Q[22]|Q[23]<<8,this._pad[4]=Q[24]|Q[25]<<8,this._pad[5]=Q[26]|Q[27]<<8,this._pad[6]=Q[28]|Q[29]<<8,this._pad[7]=Q[30]|Q[31]<<8}return ce.prototype._blocks=function(Q,F,G){for(var Y=this._fin?0:2048,Ie=this._h[0],Re=this._h[1],ee=this._h[2],_e=this._h[3],re=this._h[4],Be=this._h[5],ze=this._h[6],ke=this._h[7],je=this._h[8],ve=this._h[9],se=this._r[0],De=this._r[1],_=this._r[2],d=this._r[3],x=this._r[4],U=this._r[5],g=this._r[6],R=this._r[7],I=this._r[8],A=this._r[9];G>=16;){var C=Q[F+0]|Q[F+1]<<8;Ie+=C&8191;var O=Q[F+2]|Q[F+3]<<8;Re+=(C>>>13|O<<3)&8191;var P=Q[F+4]|Q[F+5]<<8;ee+=(O>>>10|P<<6)&8191;var $=Q[F+6]|Q[F+7]<<8;_e+=(P>>>7|$<<9)&8191;var Se=Q[F+8]|Q[F+9]<<8;re+=($>>>4|Se<<12)&8191,Be+=Se>>>1&8191;var Z=Q[F+10]|Q[F+11]<<8;ze+=(Se>>>14|Z<<2)&8191;var be=Q[F+12]|Q[F+13]<<8;ke+=(Z>>>11|be<<5)&8191;var Je=Q[F+14]|Q[F+15]<<8;je+=(be>>>8|Je<<8)&8191,ve+=Je>>>5|Y;var Pe=0,We=Pe;We+=Ie*se,We+=Re*(5*A),We+=ee*(5*I),We+=_e*(5*R),We+=re*(5*g),Pe=We>>>13,We&=8191,We+=Be*(5*U),We+=ze*(5*x),We+=ke*(5*d),We+=je*(5*_),We+=ve*(5*De),Pe+=We>>>13,We&=8191;var Ze=Pe;Ze+=Ie*De,Ze+=Re*se,Ze+=ee*(5*A),Ze+=_e*(5*I),Ze+=re*(5*R),Pe=Ze>>>13,Ze&=8191,Ze+=Be*(5*g),Ze+=ze*(5*U),Ze+=ke*(5*x),Ze+=je*(5*d),Ze+=ve*(5*_),Pe+=Ze>>>13,Ze&=8191;var it=Pe;it+=Ie*_,it+=Re*De,it+=ee*se,it+=_e*(5*A),it+=re*(5*I),Pe=it>>>13,it&=8191,it+=Be*(5*R),it+=ze*(5*g),it+=ke*(5*U),it+=je*(5*x),it+=ve*(5*d),Pe+=it>>>13,it&=8191;var ot=Pe;ot+=Ie*d,ot+=Re*_,ot+=ee*De,ot+=_e*se,ot+=re*(5*A),Pe=ot>>>13,ot&=8191,ot+=Be*(5*I),ot+=ze*(5*R),ot+=ke*(5*g),ot+=je*(5*U),ot+=ve*(5*x),Pe+=ot>>>13,ot&=8191;var Le=Pe;Le+=Ie*x,Le+=Re*d,Le+=ee*_,Le+=_e*De,Le+=re*se,Pe=Le>>>13,Le&=8191,Le+=Be*(5*A),Le+=ze*(5*I),Le+=ke*(5*R),Le+=je*(5*g),Le+=ve*(5*U),Pe+=Le>>>13,Le&=8191;var Me=Pe;Me+=Ie*U,Me+=Re*x,Me+=ee*d,Me+=_e*_,Me+=re*De,Pe=Me>>>13,Me&=8191,Me+=Be*se,Me+=ze*(5*A),Me+=ke*(5*I),Me+=je*(5*R),Me+=ve*(5*g),Pe+=Me>>>13,Me&=8191;var Ae=Pe;Ae+=Ie*g,Ae+=Re*U,Ae+=ee*x,Ae+=_e*d,Ae+=re*_,Pe=Ae>>>13,Ae&=8191,Ae+=Be*De,Ae+=ze*se,Ae+=ke*(5*A),Ae+=je*(5*I),Ae+=ve*(5*R),Pe+=Ae>>>13,Ae&=8191;var m=Pe;m+=Ie*R,m+=Re*g,m+=ee*U,m+=_e*x,m+=re*d,Pe=m>>>13,m&=8191,m+=Be*_,m+=ze*De,m+=ke*se,m+=je*(5*A),m+=ve*(5*I),Pe+=m>>>13,m&=8191;var ae=Pe;ae+=Ie*I,ae+=Re*R,ae+=ee*g,ae+=_e*U,ae+=re*x,Pe=ae>>>13,ae&=8191,ae+=Be*d,ae+=ze*_,ae+=ke*De,ae+=je*se,ae+=ve*(5*A),Pe+=ae>>>13,ae&=8191;var nt=Pe;nt+=Ie*A,nt+=Re*I,nt+=ee*R,nt+=_e*g,nt+=re*U,Pe=nt>>>13,nt&=8191,nt+=Be*x,nt+=ze*d,nt+=ke*_,nt+=je*De,nt+=ve*se,Pe+=nt>>>13,nt&=8191,Pe=(Pe<<2)+Pe|0,Pe=Pe+We|0,We=Pe&8191,Pe=Pe>>>13,Ze+=Pe,Ie=We,Re=Ze,ee=it,_e=ot,re=Le,Be=Me,ze=Ae,ke=m,je=ae,ve=nt,F+=16,G-=16}this._h[0]=Ie,this._h[1]=Re,this._h[2]=ee,this._h[3]=_e,this._h[4]=re,this._h[5]=Be,this._h[6]=ze,this._h[7]=ke,this._h[8]=je,this._h[9]=ve},ce.prototype.finish=function(Q,F){F===void 0&&(F=0);var G=new Uint16Array(10),Y,Ie,Re,ee;if(this._leftover){for(ee=this._leftover,this._buffer[ee++]=1;ee<16;ee++)this._buffer[ee]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(Y=this._h[1]>>>13,this._h[1]&=8191,ee=2;ee<10;ee++)this._h[ee]+=Y,Y=this._h[ee]>>>13,this._h[ee]&=8191;for(this._h[0]+=Y*5,Y=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=Y,Y=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=Y,G[0]=this._h[0]+5,Y=G[0]>>>13,G[0]&=8191,ee=1;ee<10;ee++)G[ee]=this._h[ee]+Y,Y=G[ee]>>>13,G[ee]&=8191;for(G[9]-=8192,Ie=(Y^1)-1,ee=0;ee<10;ee++)G[ee]&=Ie;for(Ie=~Ie,ee=0;ee<10;ee++)this._h[ee]=this._h[ee]&Ie|G[ee];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,Re=this._h[0]+this._pad[0],this._h[0]=Re&65535,ee=1;ee<8;ee++)Re=(this._h[ee]+this._pad[ee]|0)+(Re>>>16)|0,this._h[ee]=Re&65535;return Q[F+0]=this._h[0]>>>0,Q[F+1]=this._h[0]>>>8,Q[F+2]=this._h[1]>>>0,Q[F+3]=this._h[1]>>>8,Q[F+4]=this._h[2]>>>0,Q[F+5]=this._h[2]>>>8,Q[F+6]=this._h[3]>>>0,Q[F+7]=this._h[3]>>>8,Q[F+8]=this._h[4]>>>0,Q[F+9]=this._h[4]>>>8,Q[F+10]=this._h[5]>>>0,Q[F+11]=this._h[5]>>>8,Q[F+12]=this._h[6]>>>0,Q[F+13]=this._h[6]>>>8,Q[F+14]=this._h[7]>>>0,Q[F+15]=this._h[7]>>>8,this._finished=!0,this},ce.prototype.update=function(Q){var F=0,G=Q.length,Y;if(this._leftover){Y=16-this._leftover,Y>G&&(Y=G);for(var Ie=0;Ie<Y;Ie++)this._buffer[this._leftover+Ie]=Q[F+Ie];if(G-=Y,F+=Y,this._leftover+=Y,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(G>=16&&(Y=G-G%16,this._blocks(Q,F,Y),F+=Y,G-=Y),G){for(var Ie=0;Ie<G;Ie++)this._buffer[this._leftover+Ie]=Q[F+Ie];this._leftover+=G}return this},ce.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var Q=new Uint8Array(16);return this.finish(Q),Q},ce.prototype.clean=function(){return Te.wipe(this._buffer),Te.wipe(this._r),Te.wipe(this._h),Te.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},ce}();b.Poly1305=Ue;function xe(ce,Q){var F=new Ue(ce);F.update(Q);var G=F.digest();return F.clean(),G}b.oneTimeAuth=xe;function V(ce,Q){return ce.length!==b.DIGEST_LENGTH||Q.length!==b.DIGEST_LENGTH?!1:k.equal(ce,Q)}b.equal=V},31416:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.randomStringForEntropy=b.randomString=b.randomUint32=b.randomBytes=b.defaultRandomSource=void 0;const k=T(46008),Te=T(98099),Ue=T(17309);b.defaultRandomSource=new k.SystemRandomSource;function xe(G,Y=b.defaultRandomSource){return Y.randomBytes(G)}b.randomBytes=xe;function V(G=b.defaultRandomSource){const Y=xe(4,G),Ie=(0,Te.readUint32LE)(Y);return(0,Ue.wipe)(Y),Ie}b.randomUint32=V;const ce="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Q(G,Y=ce,Ie=b.defaultRandomSource){if(Y.length<2)throw new Error("randomString charset is too short");if(Y.length>256)throw new Error("randomString charset is too long");let Re="";const ee=Y.length,_e=256-256%ee;for(;G>0;){const re=xe(Math.ceil(G*256/_e),Ie);for(let Be=0;Be<re.length&&G>0;Be++){const ze=re[Be];ze<_e&&(Re+=Y.charAt(ze%ee),G--)}(0,Ue.wipe)(re)}return Re}b.randomString=Q;function F(G,Y=ce,Ie=b.defaultRandomSource){const Re=Math.ceil(G/(Math.log(Y.length)/Math.LN2));return Q(Re,Y,Ie)}b.randomStringForEntropy=F},75455:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BrowserRandomSource=void 0;const T=65536;class k{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const Ue=typeof self<"u"?self.crypto||self.msCrypto:null;Ue&&Ue.getRandomValues!==void 0&&(this._crypto=Ue,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(Ue){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const xe=new Uint8Array(Ue);for(let V=0;V<xe.length;V+=T)this._crypto.getRandomValues(xe.subarray(V,V+Math.min(xe.length-V,T)));return xe}}b.BrowserRandomSource=k},58871:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeRandomSource=void 0;const k=T(17309);class Te{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const xe=T(35883);xe&&xe.randomBytes&&(this._crypto=xe,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(xe){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let V=this._crypto.randomBytes(xe);if(V.length!==xe)throw new Error("NodeRandomSource: got fewer bytes than requested");const ce=new Uint8Array(xe);for(let Q=0;Q<ce.length;Q++)ce[Q]=V[Q];return(0,k.wipe)(V),ce}}b.NodeRandomSource=Te},46008:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SystemRandomSource=void 0;const k=T(75455),Te=T(58871);class Ue{constructor(){if(this.isAvailable=!1,this.name="",this._source=new k.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Te.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(V){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(V)}}b.SystemRandomSource=Ue},73294:function(rt,b,T){"use strict";var k;k={value:!0};var Te=T(98099),Ue=T(17309);b.k=32,b.cn=64;var xe=function(){function F(){this.digestLength=b.k,this.blockSize=b.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return F.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},F.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},F.prototype.clean=function(){Ue.wipe(this._buffer),Ue.wipe(this._temp),this.reset()},F.prototype.update=function(G,Y){if(Y===void 0&&(Y=G.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var Ie=0;if(this._bytesHashed+=Y,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&Y>0;)this._buffer[this._bufferLength++]=G[Ie++],Y--;this._bufferLength===this.blockSize&&(ce(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(Y>=this.blockSize&&(Ie=ce(this._temp,this._state,G,Ie,Y),Y%=this.blockSize);Y>0;)this._buffer[this._bufferLength++]=G[Ie++],Y--;return this},F.prototype.finish=function(G){if(!this._finished){var Y=this._bytesHashed,Ie=this._bufferLength,Re=Y/536870912|0,ee=Y<<3,_e=Y%64<56?64:128;this._buffer[Ie]=128;for(var re=Ie+1;re<_e-8;re++)this._buffer[re]=0;Te.writeUint32BE(Re,this._buffer,_e-8),Te.writeUint32BE(ee,this._buffer,_e-4),ce(this._temp,this._state,this._buffer,0,_e),this._finished=!0}for(var re=0;re<this.digestLength/4;re++)Te.writeUint32BE(this._state[re],G,re*4);return this},F.prototype.digest=function(){var G=new Uint8Array(this.digestLength);return this.finish(G),G},F.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},F.prototype.restoreState=function(G){return this._state.set(G.state),this._bufferLength=G.bufferLength,G.buffer&&this._buffer.set(G.buffer),this._bytesHashed=G.bytesHashed,this._finished=!1,this},F.prototype.cleanSavedState=function(G){Ue.wipe(G.state),G.buffer&&Ue.wipe(G.buffer),G.bufferLength=0,G.bytesHashed=0},F}();b.mE=xe;var V=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function ce(F,G,Y,Ie,Re){for(;Re>=64;){for(var ee=G[0],_e=G[1],re=G[2],Be=G[3],ze=G[4],ke=G[5],je=G[6],ve=G[7],se=0;se<16;se++){var De=Ie+se*4;F[se]=Te.readUint32BE(Y,De)}for(var se=16;se<64;se++){var _=F[se-2],d=(_>>>17|_<<32-17)^(_>>>19|_<<32-19)^_>>>10;_=F[se-15];var x=(_>>>7|_<<32-7)^(_>>>18|_<<32-18)^_>>>3;F[se]=(d+F[se-7]|0)+(x+F[se-16]|0)}for(var se=0;se<64;se++){var d=(((ze>>>6|ze<<26)^(ze>>>11|ze<<21)^(ze>>>25|ze<<7))+(ze&ke^~ze&je)|0)+(ve+(V[se]+F[se]|0)|0)|0,x=((ee>>>2|ee<<32-2)^(ee>>>13|ee<<32-13)^(ee>>>22|ee<<32-22))+(ee&_e^ee&re^_e&re)|0;ve=je,je=ke,ke=ze,ze=Be+d|0,Be=re,re=_e,_e=ee,ee=d+x|0}G[0]+=ee,G[1]+=_e,G[2]+=re,G[3]+=Be,G[4]+=ze,G[5]+=ke,G[6]+=je,G[7]+=ve,Ie+=64,Re-=64}return Ie}function Q(F){var G=new xe;G.update(F);var Y=G.digest();return G.clean(),Y}b.vp=Q},93350:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var k=T(98099),Te=T(17309);b.DIGEST_LENGTH=64,b.BLOCK_SIZE=128;var Ue=function(){function Q(){this.digestLength=b.DIGEST_LENGTH,this.blockSize=b.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return Q.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},Q.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},Q.prototype.clean=function(){Te.wipe(this._buffer),Te.wipe(this._tempHi),Te.wipe(this._tempLo),this.reset()},Q.prototype.update=function(F,G){if(G===void 0&&(G=F.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var Y=0;if(this._bytesHashed+=G,this._bufferLength>0){for(;this._bufferLength<b.BLOCK_SIZE&&G>0;)this._buffer[this._bufferLength++]=F[Y++],G--;this._bufferLength===this.blockSize&&(V(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(G>=this.blockSize&&(Y=V(this._tempHi,this._tempLo,this._stateHi,this._stateLo,F,Y,G),G%=this.blockSize);G>0;)this._buffer[this._bufferLength++]=F[Y++],G--;return this},Q.prototype.finish=function(F){if(!this._finished){var G=this._bytesHashed,Y=this._bufferLength,Ie=G/536870912|0,Re=G<<3,ee=G%128<112?128:256;this._buffer[Y]=128;for(var _e=Y+1;_e<ee-8;_e++)this._buffer[_e]=0;k.writeUint32BE(Ie,this._buffer,ee-8),k.writeUint32BE(Re,this._buffer,ee-4),V(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,ee),this._finished=!0}for(var _e=0;_e<this.digestLength/8;_e++)k.writeUint32BE(this._stateHi[_e],F,_e*8),k.writeUint32BE(this._stateLo[_e],F,_e*8+4);return this},Q.prototype.digest=function(){var F=new Uint8Array(this.digestLength);return this.finish(F),F},Q.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},Q.prototype.restoreState=function(F){return this._stateHi.set(F.stateHi),this._stateLo.set(F.stateLo),this._bufferLength=F.bufferLength,F.buffer&&this._buffer.set(F.buffer),this._bytesHashed=F.bytesHashed,this._finished=!1,this},Q.prototype.cleanSavedState=function(F){Te.wipe(F.stateHi),Te.wipe(F.stateLo),F.buffer&&Te.wipe(F.buffer),F.bufferLength=0,F.bytesHashed=0},Q}();b.SHA512=Ue;var xe=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function V(Q,F,G,Y,Ie,Re,ee){for(var _e=G[0],re=G[1],Be=G[2],ze=G[3],ke=G[4],je=G[5],ve=G[6],se=G[7],De=Y[0],_=Y[1],d=Y[2],x=Y[3],U=Y[4],g=Y[5],R=Y[6],I=Y[7],A,C,O,P,$,Se,Z,be;ee>=128;){for(var Je=0;Je<16;Je++){var Pe=8*Je+Re;Q[Je]=k.readUint32BE(Ie,Pe),F[Je]=k.readUint32BE(Ie,Pe+4)}for(var Je=0;Je<80;Je++){var We=_e,Ze=re,it=Be,ot=ze,Le=ke,Me=je,Ae=ve,m=se,ae=De,nt=_,yt=d,Nt=x,zt=U,H=g,w=R,S=I;if(A=se,C=I,$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=(ke>>>14|U<<32-14)^(ke>>>18|U<<32-18)^(U>>>41-32|ke<<32-(41-32)),C=(U>>>14|ke<<32-14)^(U>>>18|ke<<32-18)^(ke>>>41-32|U<<32-(41-32)),$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,A=ke&je^~ke&ve,C=U&g^~U&R,$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,A=xe[Je*2],C=xe[Je*2+1],$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,A=Q[Je%16],C=F[Je%16],$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,O=Z&65535|be<<16,P=$&65535|Se<<16,A=O,C=P,$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=(_e>>>28|De<<32-28)^(De>>>34-32|_e<<32-(34-32))^(De>>>39-32|_e<<32-(39-32)),C=(De>>>28|_e<<32-28)^(_e>>>34-32|De<<32-(34-32))^(_e>>>39-32|De<<32-(39-32)),$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,A=_e&re^_e&Be^re&Be,C=De&_^De&d^_&d,$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,m=Z&65535|be<<16,S=$&65535|Se<<16,A=ot,C=Nt,$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=O,C=P,$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,ot=Z&65535|be<<16,Nt=$&65535|Se<<16,re=We,Be=Ze,ze=it,ke=ot,je=Le,ve=Me,se=Ae,_e=m,_=ae,d=nt,x=yt,U=Nt,g=zt,R=H,I=w,De=S,Je%16===15)for(var Pe=0;Pe<16;Pe++)A=Q[Pe],C=F[Pe],$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=Q[(Pe+9)%16],C=F[(Pe+9)%16],$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,O=Q[(Pe+1)%16],P=F[(Pe+1)%16],A=(O>>>1|P<<32-1)^(O>>>8|P<<32-8)^O>>>7,C=(P>>>1|O<<32-1)^(P>>>8|O<<32-8)^(P>>>7|O<<32-7),$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,O=Q[(Pe+14)%16],P=F[(Pe+14)%16],A=(O>>>19|P<<32-19)^(P>>>61-32|O<<32-(61-32))^O>>>6,C=(P>>>19|O<<32-19)^(O>>>61-32|P<<32-(61-32))^(P>>>6|O<<32-6),$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,Q[Pe]=Z&65535|be<<16,F[Pe]=$&65535|Se<<16}A=_e,C=De,$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=G[0],C=Y[0],$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,G[0]=_e=Z&65535|be<<16,Y[0]=De=$&65535|Se<<16,A=re,C=_,$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=G[1],C=Y[1],$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,G[1]=re=Z&65535|be<<16,Y[1]=_=$&65535|Se<<16,A=Be,C=d,$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=G[2],C=Y[2],$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,G[2]=Be=Z&65535|be<<16,Y[2]=d=$&65535|Se<<16,A=ze,C=x,$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=G[3],C=Y[3],$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,G[3]=ze=Z&65535|be<<16,Y[3]=x=$&65535|Se<<16,A=ke,C=U,$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=G[4],C=Y[4],$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,G[4]=ke=Z&65535|be<<16,Y[4]=U=$&65535|Se<<16,A=je,C=g,$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=G[5],C=Y[5],$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,G[5]=je=Z&65535|be<<16,Y[5]=g=$&65535|Se<<16,A=ve,C=R,$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=G[6],C=Y[6],$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,G[6]=ve=Z&65535|be<<16,Y[6]=R=$&65535|Se<<16,A=se,C=I,$=C&65535,Se=C>>>16,Z=A&65535,be=A>>>16,A=G[7],C=Y[7],$+=C&65535,Se+=C>>>16,Z+=A&65535,be+=A>>>16,Se+=$>>>16,Z+=Se>>>16,be+=Z>>>16,G[7]=se=Z&65535|be<<16,Y[7]=I=$&65535|Se<<16,Re+=128,ee-=128}return Re}function ce(Q){var F=new Ue;F.update(Q);var G=F.digest();return F.clean(),G}b.hash=ce},17309:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});function T(k){for(var Te=0;Te<k.length;Te++)k[Te]=0;return k}b.wipe=T},57664:function(rt,b,T){"use strict";var k;k={value:!0},b.gi=b.Au=k=k=k=k=b.KS=b.kz=void 0;const Te=T(31416),Ue=T(17309);b.kz=32,b.KS=32,k=32;function xe(se){const De=new Float64Array(16);if(se)for(let _=0;_<se.length;_++)De[_]=se[_];return De}const V=new Uint8Array(32);V[0]=9;const ce=xe([56129,1]);function Q(se){let De=1;for(let _=0;_<16;_++){let d=se[_]+De+65535;De=Math.floor(d/65536),se[_]=d-De*65536}se[0]+=De-1+37*(De-1)}function F(se,De,_){const d=~(_-1);for(let x=0;x<16;x++){const U=d&(se[x]^De[x]);se[x]^=U,De[x]^=U}}function G(se,De){const _=xe(),d=xe();for(let x=0;x<16;x++)d[x]=De[x];Q(d),Q(d),Q(d);for(let x=0;x<2;x++){_[0]=d[0]-65517;for(let g=1;g<15;g++)_[g]=d[g]-65535-(_[g-1]>>16&1),_[g-1]&=65535;_[15]=d[15]-32767-(_[14]>>16&1);const U=_[15]>>16&1;_[14]&=65535,F(d,_,1-U)}for(let x=0;x<16;x++)se[2*x]=d[x]&255,se[2*x+1]=d[x]>>8}function Y(se,De){for(let _=0;_<16;_++)se[_]=De[2*_]+(De[2*_+1]<<8);se[15]&=32767}function Ie(se,De,_){for(let d=0;d<16;d++)se[d]=De[d]+_[d]}function Re(se,De,_){for(let d=0;d<16;d++)se[d]=De[d]-_[d]}function ee(se,De,_){let d,x,U=0,g=0,R=0,I=0,A=0,C=0,O=0,P=0,$=0,Se=0,Z=0,be=0,Je=0,Pe=0,We=0,Ze=0,it=0,ot=0,Le=0,Me=0,Ae=0,m=0,ae=0,nt=0,yt=0,Nt=0,zt=0,H=0,w=0,S=0,J=0,Ee=_[0],Ve=_[1],qe=_[2],ft=_[3],ht=_[4],lt=_[5],vt=_[6],gt=_[7],bt=_[8],Ft=_[9],jt=_[10],Vt=_[11],Wt=_[12],Ht=_[13],kt=_[14],Gt=_[15];d=De[0],U+=d*Ee,g+=d*Ve,R+=d*qe,I+=d*ft,A+=d*ht,C+=d*lt,O+=d*vt,P+=d*gt,$+=d*bt,Se+=d*Ft,Z+=d*jt,be+=d*Vt,Je+=d*Wt,Pe+=d*Ht,We+=d*kt,Ze+=d*Gt,d=De[1],g+=d*Ee,R+=d*Ve,I+=d*qe,A+=d*ft,C+=d*ht,O+=d*lt,P+=d*vt,$+=d*gt,Se+=d*bt,Z+=d*Ft,be+=d*jt,Je+=d*Vt,Pe+=d*Wt,We+=d*Ht,Ze+=d*kt,it+=d*Gt,d=De[2],R+=d*Ee,I+=d*Ve,A+=d*qe,C+=d*ft,O+=d*ht,P+=d*lt,$+=d*vt,Se+=d*gt,Z+=d*bt,be+=d*Ft,Je+=d*jt,Pe+=d*Vt,We+=d*Wt,Ze+=d*Ht,it+=d*kt,ot+=d*Gt,d=De[3],I+=d*Ee,A+=d*Ve,C+=d*qe,O+=d*ft,P+=d*ht,$+=d*lt,Se+=d*vt,Z+=d*gt,be+=d*bt,Je+=d*Ft,Pe+=d*jt,We+=d*Vt,Ze+=d*Wt,it+=d*Ht,ot+=d*kt,Le+=d*Gt,d=De[4],A+=d*Ee,C+=d*Ve,O+=d*qe,P+=d*ft,$+=d*ht,Se+=d*lt,Z+=d*vt,be+=d*gt,Je+=d*bt,Pe+=d*Ft,We+=d*jt,Ze+=d*Vt,it+=d*Wt,ot+=d*Ht,Le+=d*kt,Me+=d*Gt,d=De[5],C+=d*Ee,O+=d*Ve,P+=d*qe,$+=d*ft,Se+=d*ht,Z+=d*lt,be+=d*vt,Je+=d*gt,Pe+=d*bt,We+=d*Ft,Ze+=d*jt,it+=d*Vt,ot+=d*Wt,Le+=d*Ht,Me+=d*kt,Ae+=d*Gt,d=De[6],O+=d*Ee,P+=d*Ve,$+=d*qe,Se+=d*ft,Z+=d*ht,be+=d*lt,Je+=d*vt,Pe+=d*gt,We+=d*bt,Ze+=d*Ft,it+=d*jt,ot+=d*Vt,Le+=d*Wt,Me+=d*Ht,Ae+=d*kt,m+=d*Gt,d=De[7],P+=d*Ee,$+=d*Ve,Se+=d*qe,Z+=d*ft,be+=d*ht,Je+=d*lt,Pe+=d*vt,We+=d*gt,Ze+=d*bt,it+=d*Ft,ot+=d*jt,Le+=d*Vt,Me+=d*Wt,Ae+=d*Ht,m+=d*kt,ae+=d*Gt,d=De[8],$+=d*Ee,Se+=d*Ve,Z+=d*qe,be+=d*ft,Je+=d*ht,Pe+=d*lt,We+=d*vt,Ze+=d*gt,it+=d*bt,ot+=d*Ft,Le+=d*jt,Me+=d*Vt,Ae+=d*Wt,m+=d*Ht,ae+=d*kt,nt+=d*Gt,d=De[9],Se+=d*Ee,Z+=d*Ve,be+=d*qe,Je+=d*ft,Pe+=d*ht,We+=d*lt,Ze+=d*vt,it+=d*gt,ot+=d*bt,Le+=d*Ft,Me+=d*jt,Ae+=d*Vt,m+=d*Wt,ae+=d*Ht,nt+=d*kt,yt+=d*Gt,d=De[10],Z+=d*Ee,be+=d*Ve,Je+=d*qe,Pe+=d*ft,We+=d*ht,Ze+=d*lt,it+=d*vt,ot+=d*gt,Le+=d*bt,Me+=d*Ft,Ae+=d*jt,m+=d*Vt,ae+=d*Wt,nt+=d*Ht,yt+=d*kt,Nt+=d*Gt,d=De[11],be+=d*Ee,Je+=d*Ve,Pe+=d*qe,We+=d*ft,Ze+=d*ht,it+=d*lt,ot+=d*vt,Le+=d*gt,Me+=d*bt,Ae+=d*Ft,m+=d*jt,ae+=d*Vt,nt+=d*Wt,yt+=d*Ht,Nt+=d*kt,zt+=d*Gt,d=De[12],Je+=d*Ee,Pe+=d*Ve,We+=d*qe,Ze+=d*ft,it+=d*ht,ot+=d*lt,Le+=d*vt,Me+=d*gt,Ae+=d*bt,m+=d*Ft,ae+=d*jt,nt+=d*Vt,yt+=d*Wt,Nt+=d*Ht,zt+=d*kt,H+=d*Gt,d=De[13],Pe+=d*Ee,We+=d*Ve,Ze+=d*qe,it+=d*ft,ot+=d*ht,Le+=d*lt,Me+=d*vt,Ae+=d*gt,m+=d*bt,ae+=d*Ft,nt+=d*jt,yt+=d*Vt,Nt+=d*Wt,zt+=d*Ht,H+=d*kt,w+=d*Gt,d=De[14],We+=d*Ee,Ze+=d*Ve,it+=d*qe,ot+=d*ft,Le+=d*ht,Me+=d*lt,Ae+=d*vt,m+=d*gt,ae+=d*bt,nt+=d*Ft,yt+=d*jt,Nt+=d*Vt,zt+=d*Wt,H+=d*Ht,w+=d*kt,S+=d*Gt,d=De[15],Ze+=d*Ee,it+=d*Ve,ot+=d*qe,Le+=d*ft,Me+=d*ht,Ae+=d*lt,m+=d*vt,ae+=d*gt,nt+=d*bt,yt+=d*Ft,Nt+=d*jt,zt+=d*Vt,H+=d*Wt,w+=d*Ht,S+=d*kt,J+=d*Gt,U+=38*it,g+=38*ot,R+=38*Le,I+=38*Me,A+=38*Ae,C+=38*m,O+=38*ae,P+=38*nt,$+=38*yt,Se+=38*Nt,Z+=38*zt,be+=38*H,Je+=38*w,Pe+=38*S,We+=38*J,x=1,d=U+x+65535,x=Math.floor(d/65536),U=d-x*65536,d=g+x+65535,x=Math.floor(d/65536),g=d-x*65536,d=R+x+65535,x=Math.floor(d/65536),R=d-x*65536,d=I+x+65535,x=Math.floor(d/65536),I=d-x*65536,d=A+x+65535,x=Math.floor(d/65536),A=d-x*65536,d=C+x+65535,x=Math.floor(d/65536),C=d-x*65536,d=O+x+65535,x=Math.floor(d/65536),O=d-x*65536,d=P+x+65535,x=Math.floor(d/65536),P=d-x*65536,d=$+x+65535,x=Math.floor(d/65536),$=d-x*65536,d=Se+x+65535,x=Math.floor(d/65536),Se=d-x*65536,d=Z+x+65535,x=Math.floor(d/65536),Z=d-x*65536,d=be+x+65535,x=Math.floor(d/65536),be=d-x*65536,d=Je+x+65535,x=Math.floor(d/65536),Je=d-x*65536,d=Pe+x+65535,x=Math.floor(d/65536),Pe=d-x*65536,d=We+x+65535,x=Math.floor(d/65536),We=d-x*65536,d=Ze+x+65535,x=Math.floor(d/65536),Ze=d-x*65536,U+=x-1+37*(x-1),x=1,d=U+x+65535,x=Math.floor(d/65536),U=d-x*65536,d=g+x+65535,x=Math.floor(d/65536),g=d-x*65536,d=R+x+65535,x=Math.floor(d/65536),R=d-x*65536,d=I+x+65535,x=Math.floor(d/65536),I=d-x*65536,d=A+x+65535,x=Math.floor(d/65536),A=d-x*65536,d=C+x+65535,x=Math.floor(d/65536),C=d-x*65536,d=O+x+65535,x=Math.floor(d/65536),O=d-x*65536,d=P+x+65535,x=Math.floor(d/65536),P=d-x*65536,d=$+x+65535,x=Math.floor(d/65536),$=d-x*65536,d=Se+x+65535,x=Math.floor(d/65536),Se=d-x*65536,d=Z+x+65535,x=Math.floor(d/65536),Z=d-x*65536,d=be+x+65535,x=Math.floor(d/65536),be=d-x*65536,d=Je+x+65535,x=Math.floor(d/65536),Je=d-x*65536,d=Pe+x+65535,x=Math.floor(d/65536),Pe=d-x*65536,d=We+x+65535,x=Math.floor(d/65536),We=d-x*65536,d=Ze+x+65535,x=Math.floor(d/65536),Ze=d-x*65536,U+=x-1+37*(x-1),se[0]=U,se[1]=g,se[2]=R,se[3]=I,se[4]=A,se[5]=C,se[6]=O,se[7]=P,se[8]=$,se[9]=Se,se[10]=Z,se[11]=be,se[12]=Je,se[13]=Pe,se[14]=We,se[15]=Ze}function _e(se,De){ee(se,De,De)}function re(se,De){const _=xe();for(let d=0;d<16;d++)_[d]=De[d];for(let d=253;d>=0;d--)_e(_,_),d!==2&&d!==4&&ee(_,_,De);for(let d=0;d<16;d++)se[d]=_[d]}function Be(se,De){const _=new Uint8Array(32),d=new Float64Array(80),x=xe(),U=xe(),g=xe(),R=xe(),I=xe(),A=xe();for(let $=0;$<31;$++)_[$]=se[$];_[31]=se[31]&127|64,_[0]&=248,Y(d,De);for(let $=0;$<16;$++)U[$]=d[$];x[0]=R[0]=1;for(let $=254;$>=0;--$){const Se=_[$>>>3]>>>($&7)&1;F(x,U,Se),F(g,R,Se),Ie(I,x,g),Re(x,x,g),Ie(g,U,R),Re(U,U,R),_e(R,I),_e(A,x),ee(x,g,x),ee(g,U,I),Ie(I,x,g),Re(x,x,g),_e(U,x),Re(g,R,A),ee(x,g,ce),Ie(x,x,R),ee(g,g,x),ee(x,R,A),ee(R,U,d),_e(U,I),F(x,U,Se),F(g,R,Se)}for(let $=0;$<16;$++)d[$+16]=x[$],d[$+32]=g[$],d[$+48]=U[$],d[$+64]=R[$];const C=d.subarray(32),O=d.subarray(16);re(C,C),ee(O,O,C);const P=new Uint8Array(32);return G(P,O),P}k=Be;function ze(se){return Be(se,V)}k=ze;function ke(se){if(se.length!==b.KS)throw new Error(`x25519: seed must be ${b.KS} bytes`);const De=new Uint8Array(se);return{publicKey:ze(De),secretKey:De}}k=ke;function je(se){const De=(0,Te.randomBytes)(32,se),_=ke(De);return(0,Ue.wipe)(De),_}b.Au=je;function ve(se,De,_=!1){if(se.length!==b.kz)throw new Error("X25519: incorrect secret key length");if(De.length!==b.kz)throw new Error("X25519: incorrect public key length");const d=Be(se,De);if(_){let x=0;for(let U=0;U<d.length;U++)x|=d[U];if(x===0)throw new Error("X25519: invalid shared key")}return d}b.gi=ve},20933:function(rt,b,T){"use strict";T.r(b),T.d(b,{__assign:function(){return V},__asyncDelegator:function(){return ve},__asyncGenerator:function(){return je},__asyncValues:function(){return se},__await:function(){return ke},__awaiter:function(){return Y},__classPrivateFieldGet:function(){return x},__classPrivateFieldSet:function(){return U},__createBinding:function(){return Re},__decorate:function(){return Q},__exportStar:function(){return ee},__extends:function(){return xe},__generator:function(){return Ie},__importDefault:function(){return d},__importStar:function(){return _},__makeTemplateObject:function(){return De},__metadata:function(){return G},__param:function(){return F},__read:function(){return re},__rest:function(){return ce},__spread:function(){return Be},__spreadArrays:function(){return ze},__values:function(){return _e}});var k=T(18698),Te=T.n(k);var Ue=function(R,I){return Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var O in C)C.hasOwnProperty(O)&&(A[O]=C[O])},Ue(R,I)};function xe(g,R){Ue(g,R);function I(){this.constructor=g}g.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var V=function(){return V=Object.assign||function(I){for(var A,C=1,O=arguments.length;C<O;C++){A=arguments[C];for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(I[P]=A[P])}return I},V.apply(this,arguments)};function ce(g,R){var I={};for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&R.indexOf(A)<0&&(I[A]=g[A]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,A=Object.getOwnPropertySymbols(g);C<A.length;C++)R.indexOf(A[C])<0&&Object.prototype.propertyIsEnumerable.call(g,A[C])&&(I[A[C]]=g[A[C]]);return I}function Q(g,R,I,A){var C=arguments.length,O=C<3?R:A===null?A=Object.getOwnPropertyDescriptor(R,I):A,P;if((typeof Reflect>"u"?"undefined":Te()(Reflect))==="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(g,R,I,A);else for(var $=g.length-1;$>=0;$--)(P=g[$])&&(O=(C<3?P(O):C>3?P(R,I,O):P(R,I))||O);return C>3&&O&&Object.defineProperty(R,I,O),O}function F(g,R){return function(I,A){R(I,A,g)}}function G(g,R){if((typeof Reflect>"u"?"undefined":Te()(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(g,R)}function Y(g,R,I,A){function C(O){return O instanceof I?O:new I(function(P){P(O)})}return new(I||(I=Promise))(function(O,P){function $(be){try{Z(A.next(be))}catch(Je){P(Je)}}function Se(be){try{Z(A.throw(be))}catch(Je){P(Je)}}function Z(be){be.done?O(be.value):C(be.value).then($,Se)}Z((A=A.apply(g,R||[])).next())})}function Ie(g,R){var I={label:0,sent:function(){if(O[0]&1)throw O[1];return O[1]},trys:[],ops:[]},A,C,O,P;return P={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function $(Z){return function(be){return Se([Z,be])}}function Se(Z){if(A)throw new TypeError("Generator is already executing.");for(;I;)try{if(A=1,C&&(O=Z[0]&2?C.return:Z[0]?C.throw||((O=C.return)&&O.call(C),0):C.next)&&!(O=O.call(C,Z[1])).done)return O;switch(C=0,O&&(Z=[Z[0]&2,O.value]),Z[0]){case 0:case 1:O=Z;break;case 4:return I.label++,{value:Z[1],done:!1};case 5:I.label++,C=Z[1],Z=[0];continue;case 7:Z=I.ops.pop(),I.trys.pop();continue;default:if(O=I.trys,!(O=O.length>0&&O[O.length-1])&&(Z[0]===6||Z[0]===2)){I=0;continue}if(Z[0]===3&&(!O||Z[1]>O[0]&&Z[1]<O[3])){I.label=Z[1];break}if(Z[0]===6&&I.label<O[1]){I.label=O[1],O=Z;break}if(O&&I.label<O[2]){I.label=O[2],I.ops.push(Z);break}O[2]&&I.ops.pop(),I.trys.pop();continue}Z=R.call(g,I)}catch(be){Z=[6,be],C=0}finally{A=O=0}if(Z[0]&5)throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}}function Re(g,R,I,A){A===void 0&&(A=I),g[A]=R[I]}function ee(g,R){for(var I in g)I!=="default"&&!R.hasOwnProperty(I)&&(R[I]=g[I])}function _e(g){var R=typeof Symbol=="function"&&Symbol.iterator,I=R&&g[R],A=0;if(I)return I.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&A>=g.length&&(g=void 0),{value:g&&g[A++],done:!g}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(g,R){var I=typeof Symbol=="function"&&g[Symbol.iterator];if(!I)return g;var A=I.call(g),C,O=[],P;try{for(;(R===void 0||R-- >0)&&!(C=A.next()).done;)O.push(C.value)}catch($){P={error:$}}finally{try{C&&!C.done&&(I=A.return)&&I.call(A)}finally{if(P)throw P.error}}return O}function Be(){for(var g=[],R=0;R<arguments.length;R++)g=g.concat(re(arguments[R]));return g}function ze(){for(var g=0,R=0,I=arguments.length;R<I;R++)g+=arguments[R].length;for(var A=Array(g),C=0,R=0;R<I;R++)for(var O=arguments[R],P=0,$=O.length;P<$;P++,C++)A[C]=O[P];return A}function ke(g){return this instanceof ke?(this.v=g,this):new ke(g)}function je(g,R,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=I.apply(g,R||[]),C,O=[];return C={},P("next"),P("throw"),P("return"),C[Symbol.asyncIterator]=function(){return this},C;function P(Pe){A[Pe]&&(C[Pe]=function(We){return new Promise(function(Ze,it){O.push([Pe,We,Ze,it])>1||$(Pe,We)})})}function $(Pe,We){try{Se(A[Pe](We))}catch(Ze){Je(O[0][3],Ze)}}function Se(Pe){Pe.value instanceof ke?Promise.resolve(Pe.value.v).then(Z,be):Je(O[0][2],Pe)}function Z(Pe){$("next",Pe)}function be(Pe){$("throw",Pe)}function Je(Pe,We){Pe(We),O.shift(),O.length&&$(O[0][0],O[0][1])}}function ve(g){var R,I;return R={},A("next"),A("throw",function(C){throw C}),A("return"),R[Symbol.iterator]=function(){return this},R;function A(C,O){R[C]=g[C]?function(P){return(I=!I)?{value:ke(g[C](P)),done:C==="return"}:O?O(P):P}:O}}function se(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=g[Symbol.asyncIterator],I;return R?R.call(g):(g=typeof _e=="function"?_e(g):g[Symbol.iterator](),I={},A("next"),A("throw"),A("return"),I[Symbol.asyncIterator]=function(){return this},I);function A(O){I[O]=g[O]&&function(P){return new Promise(function($,Se){P=g[O](P),C($,Se,P.done,P.value)})}}function C(O,P,$,Se){Promise.resolve(Se).then(function(Z){O({value:Z,done:$})},P)}}function De(g,R){return Object.defineProperty?Object.defineProperty(g,"raw",{value:R}):g.raw=R,g}function _(g){if(g&&g.__esModule)return g;var R={};if(g!=null)for(var I in g)Object.hasOwnProperty.call(g,I)&&(R[I]=g[I]);return R.default=g,R}function d(g){return g&&g.__esModule?g:{default:g}}function x(g,R){if(!R.has(g))throw new TypeError("attempted to get private field on non-instance");return R.get(g)}function U(g,R,I){if(!R.has(g))throw new TypeError("attempted to set private field on non-instance");return R.set(g,I),I}},72589:function(rt,b,T){"use strict";var k=T(38416).default,Te=T(27424).default,Ue=T(74704).default,xe=T(18698).default,V=T(861).default,ce=T(62072),Q=T(44020),F=T(13615),G=T(92806),Y=function(d){return d==null},Ie=Symbol("encodeFragmentIdentifier");function Re(_){switch(_.arrayFormat){case"index":return function(x){return function(U,g){var R=U.length;return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[[re(x,_),"[",R,"]"].join("")]):[].concat(V(U),[[re(x,_),"[",re(R,_),"]=",re(g,_)].join("")])}};case"bracket":return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[[re(x,_),"[]"].join("")]):[].concat(V(U),[[re(x,_),"[]=",re(g,_)].join("")])}};case"colon-list-separator":return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[[re(x,_),":list="].join("")]):[].concat(V(U),[[re(x,_),":list=",re(g,_)].join("")])}};case"comma":case"separator":case"bracket-separator":{var d=_.arrayFormat==="bracket-separator"?"[]=":"=";return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:(g=g===null?"":g,U.length===0?[[re(x,_),d,re(g,_)].join("")]:[[U,re(g,_)].join(_.arrayFormatSeparator)])}}}default:return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[re(x,_)]):[].concat(V(U),[[re(x,_),"=",re(g,_)].join("")])}}}}function ee(_){var d;switch(_.arrayFormat){case"index":return function(x,U,g){if(d=/\[(\d*)\]$/.exec(x),x=x.replace(/\[\d*\]$/,""),!d){g[x]=U;return}g[x]===void 0&&(g[x]={}),g[x][d[1]]=U};case"bracket":return function(x,U,g){if(d=/(\[\])$/.exec(x),x=x.replace(/\[\]$/,""),!d){g[x]=U;return}if(g[x]===void 0){g[x]=[U];return}g[x]=[].concat(g[x],U)};case"colon-list-separator":return function(x,U,g){if(d=/(:list)$/.exec(x),x=x.replace(/:list$/,""),!d){g[x]=U;return}if(g[x]===void 0){g[x]=[U];return}g[x]=[].concat(g[x],U)};case"comma":case"separator":return function(x,U,g){var R=typeof U=="string"&&U.includes(_.arrayFormatSeparator),I=typeof U=="string"&&!R&&Be(U,_).includes(_.arrayFormatSeparator);U=I?Be(U,_):U;var A=R||I?U.split(_.arrayFormatSeparator).map(function(C){return Be(C,_)}):U===null?U:Be(U,_);g[x]=A};case"bracket-separator":return function(x,U,g){var R=/(\[\])$/.test(x);if(x=x.replace(/\[\]$/,""),!R){g[x]=U&&Be(U,_);return}var I=U===null?[]:U.split(_.arrayFormatSeparator).map(function(A){return Be(A,_)});if(g[x]===void 0){g[x]=I;return}g[x]=[].concat(g[x],I)};default:return function(x,U,g){if(g[x]===void 0){g[x]=U;return}g[x]=[].concat(g[x],U)}}}function _e(_){if(typeof _!="string"||_.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function re(_,d){return d.encode?d.strict?ce(_):encodeURIComponent(_):_}function Be(_,d){return d.decode?Q(_):_}function ze(_){return Array.isArray(_)?_.sort():xe(_)==="object"?ze(Object.keys(_)).sort(function(d,x){return Number(d)-Number(x)}).map(function(d){return _[d]}):_}function ke(_){var d=_.indexOf("#");return d!==-1&&(_=_.slice(0,d)),_}function je(_){var d="",x=_.indexOf("#");return x!==-1&&(d=_.slice(x)),d}function ve(_){_=ke(_);var d=_.indexOf("?");return d===-1?"":_.slice(d+1)}function se(_,d){return d.parseNumbers&&!Number.isNaN(Number(_))&&typeof _=="string"&&_.trim()!==""?_=Number(_):d.parseBooleans&&_!==null&&(_.toLowerCase()==="true"||_.toLowerCase()==="false")&&(_=_.toLowerCase()==="true"),_}function De(_,d){d=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},d),_e(d.arrayFormatSeparator);var x=ee(d),U=Object.create(null);if(typeof _!="string"||(_=_.trim().replace(/^[?#&]/,""),!_))return U;var g=Ue(_.split("&")),R;try{for(g.s();!(R=g.n()).done;){var I=R.value;if(I!==""){var A=F(d.decode?I.replace(/\+/g," "):I,"="),C=Te(A,2),O=C[0],P=C[1];P=P===void 0?null:["comma","separator","bracket-separator"].includes(d.arrayFormat)?P:Be(P,d),x(Be(O,d),P,U)}}}catch(Ze){g.e(Ze)}finally{g.f()}for(var $=0,Se=Object.keys(U);$<Se.length;$++){var Z=Se[$],be=U[Z];if(xe(be)==="object"&&be!==null)for(var Je=0,Pe=Object.keys(be);Je<Pe.length;Je++){var We=Pe[Je];be[We]=se(be[We],d)}else U[Z]=se(be,d)}return d.sort===!1?U:(d.sort===!0?Object.keys(U).sort():Object.keys(U).sort(d.sort)).reduce(function(Ze,it){var ot=U[it];return ot&&xe(ot)==="object"&&!Array.isArray(ot)?Ze[it]=ze(ot):Ze[it]=ot,Ze},Object.create(null))}b.extract=ve,b.parse=De,b.stringify=function(_,d){if(!_)return"";d=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},d),_e(d.arrayFormatSeparator);for(var x=function(P){return d.skipNull&&Y(_[P])||d.skipEmptyString&&_[P]===""},U=Re(d),g={},R=0,I=Object.keys(_);R<I.length;R++){var A=I[R];x(A)||(g[A]=_[A])}var C=Object.keys(g);return d.sort!==!1&&C.sort(d.sort),C.map(function(O){var P=_[O];return P===void 0?"":P===null?re(O,d):Array.isArray(P)?P.length===0&&d.arrayFormat==="bracket-separator"?re(O,d)+"[]":P.reduce(U(O),[]).join("&"):re(O,d)+"="+re(P,d)}).filter(function(O){return O.length>0}).join("&")},b.parseUrl=function(_,d){d=Object.assign({decode:!0},d);var x=F(_,"#"),U=Te(x,2),g=U[0],R=U[1];return Object.assign({url:g.split("?")[0]||"",query:De(ve(_),d)},d&&d.parseFragmentIdentifier&&R?{fragmentIdentifier:Be(R,d)}:{})},b.stringifyUrl=function(_,d){d=Object.assign(k({encode:!0,strict:!0},Ie,!0),d);var x=ke(_.url).split("?")[0]||"",U=b.extract(_.url),g=b.parse(U,{sort:!1}),R=Object.assign(g,_.query),I=b.stringify(R,d);I&&(I="?".concat(I));var A=je(_.url);return _.fragmentIdentifier&&(A="#".concat(d[Ie]?re(_.fragmentIdentifier,d):_.fragmentIdentifier)),"".concat(x).concat(I).concat(A)},b.pick=function(_,d,x){x=Object.assign(k({parseFragmentIdentifier:!0},Ie,!1),x);var U=b.parseUrl(_,x),g=U.url,R=U.query,I=U.fragmentIdentifier;return b.stringifyUrl({url:g,query:G(R,d),fragmentIdentifier:I},x)},b.exclude=function(_,d,x){var U=Array.isArray(d)?function(g){return!d.includes(g)}:function(g,R){return!d(g,R)};return b.pick(_,U,x)}},57875:function(rt,b,T){"use strict";T.r(b),T.d(b,{__assign:function(){return V},__asyncDelegator:function(){return ve},__asyncGenerator:function(){return je},__asyncValues:function(){return se},__await:function(){return ke},__awaiter:function(){return Y},__classPrivateFieldGet:function(){return x},__classPrivateFieldSet:function(){return U},__createBinding:function(){return Re},__decorate:function(){return Q},__exportStar:function(){return ee},__extends:function(){return xe},__generator:function(){return Ie},__importDefault:function(){return d},__importStar:function(){return _},__makeTemplateObject:function(){return De},__metadata:function(){return G},__param:function(){return F},__read:function(){return re},__rest:function(){return ce},__spread:function(){return Be},__spreadArrays:function(){return ze},__values:function(){return _e}});var k=T(18698),Te=T.n(k);var Ue=function(R,I){return Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var O in C)C.hasOwnProperty(O)&&(A[O]=C[O])},Ue(R,I)};function xe(g,R){Ue(g,R);function I(){this.constructor=g}g.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var V=function(){return V=Object.assign||function(I){for(var A,C=1,O=arguments.length;C<O;C++){A=arguments[C];for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(I[P]=A[P])}return I},V.apply(this,arguments)};function ce(g,R){var I={};for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&R.indexOf(A)<0&&(I[A]=g[A]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,A=Object.getOwnPropertySymbols(g);C<A.length;C++)R.indexOf(A[C])<0&&Object.prototype.propertyIsEnumerable.call(g,A[C])&&(I[A[C]]=g[A[C]]);return I}function Q(g,R,I,A){var C=arguments.length,O=C<3?R:A===null?A=Object.getOwnPropertyDescriptor(R,I):A,P;if((typeof Reflect>"u"?"undefined":Te()(Reflect))==="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(g,R,I,A);else for(var $=g.length-1;$>=0;$--)(P=g[$])&&(O=(C<3?P(O):C>3?P(R,I,O):P(R,I))||O);return C>3&&O&&Object.defineProperty(R,I,O),O}function F(g,R){return function(I,A){R(I,A,g)}}function G(g,R){if((typeof Reflect>"u"?"undefined":Te()(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(g,R)}function Y(g,R,I,A){function C(O){return O instanceof I?O:new I(function(P){P(O)})}return new(I||(I=Promise))(function(O,P){function $(be){try{Z(A.next(be))}catch(Je){P(Je)}}function Se(be){try{Z(A.throw(be))}catch(Je){P(Je)}}function Z(be){be.done?O(be.value):C(be.value).then($,Se)}Z((A=A.apply(g,R||[])).next())})}function Ie(g,R){var I={label:0,sent:function(){if(O[0]&1)throw O[1];return O[1]},trys:[],ops:[]},A,C,O,P;return P={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function $(Z){return function(be){return Se([Z,be])}}function Se(Z){if(A)throw new TypeError("Generator is already executing.");for(;I;)try{if(A=1,C&&(O=Z[0]&2?C.return:Z[0]?C.throw||((O=C.return)&&O.call(C),0):C.next)&&!(O=O.call(C,Z[1])).done)return O;switch(C=0,O&&(Z=[Z[0]&2,O.value]),Z[0]){case 0:case 1:O=Z;break;case 4:return I.label++,{value:Z[1],done:!1};case 5:I.label++,C=Z[1],Z=[0];continue;case 7:Z=I.ops.pop(),I.trys.pop();continue;default:if(O=I.trys,!(O=O.length>0&&O[O.length-1])&&(Z[0]===6||Z[0]===2)){I=0;continue}if(Z[0]===3&&(!O||Z[1]>O[0]&&Z[1]<O[3])){I.label=Z[1];break}if(Z[0]===6&&I.label<O[1]){I.label=O[1],O=Z;break}if(O&&I.label<O[2]){I.label=O[2],I.ops.push(Z);break}O[2]&&I.ops.pop(),I.trys.pop();continue}Z=R.call(g,I)}catch(be){Z=[6,be],C=0}finally{A=O=0}if(Z[0]&5)throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}}function Re(g,R,I,A){A===void 0&&(A=I),g[A]=R[I]}function ee(g,R){for(var I in g)I!=="default"&&!R.hasOwnProperty(I)&&(R[I]=g[I])}function _e(g){var R=typeof Symbol=="function"&&Symbol.iterator,I=R&&g[R],A=0;if(I)return I.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&A>=g.length&&(g=void 0),{value:g&&g[A++],done:!g}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(g,R){var I=typeof Symbol=="function"&&g[Symbol.iterator];if(!I)return g;var A=I.call(g),C,O=[],P;try{for(;(R===void 0||R-- >0)&&!(C=A.next()).done;)O.push(C.value)}catch($){P={error:$}}finally{try{C&&!C.done&&(I=A.return)&&I.call(A)}finally{if(P)throw P.error}}return O}function Be(){for(var g=[],R=0;R<arguments.length;R++)g=g.concat(re(arguments[R]));return g}function ze(){for(var g=0,R=0,I=arguments.length;R<I;R++)g+=arguments[R].length;for(var A=Array(g),C=0,R=0;R<I;R++)for(var O=arguments[R],P=0,$=O.length;P<$;P++,C++)A[C]=O[P];return A}function ke(g){return this instanceof ke?(this.v=g,this):new ke(g)}function je(g,R,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=I.apply(g,R||[]),C,O=[];return C={},P("next"),P("throw"),P("return"),C[Symbol.asyncIterator]=function(){return this},C;function P(Pe){A[Pe]&&(C[Pe]=function(We){return new Promise(function(Ze,it){O.push([Pe,We,Ze,it])>1||$(Pe,We)})})}function $(Pe,We){try{Se(A[Pe](We))}catch(Ze){Je(O[0][3],Ze)}}function Se(Pe){Pe.value instanceof ke?Promise.resolve(Pe.value.v).then(Z,be):Je(O[0][2],Pe)}function Z(Pe){$("next",Pe)}function be(Pe){$("throw",Pe)}function Je(Pe,We){Pe(We),O.shift(),O.length&&$(O[0][0],O[0][1])}}function ve(g){var R,I;return R={},A("next"),A("throw",function(C){throw C}),A("return"),R[Symbol.iterator]=function(){return this},R;function A(C,O){R[C]=g[C]?function(P){return(I=!I)?{value:ke(g[C](P)),done:C==="return"}:O?O(P):P}:O}}function se(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=g[Symbol.asyncIterator],I;return R?R.call(g):(g=typeof _e=="function"?_e(g):g[Symbol.iterator](),I={},A("next"),A("throw"),A("return"),I[Symbol.asyncIterator]=function(){return this},I);function A(O){I[O]=g[O]&&function(P){return new Promise(function($,Se){P=g[O](P),C($,Se,P.done,P.value)})}}function C(O,P,$,Se){Promise.resolve(Se).then(function(Z){O({value:Z,done:$})},P)}}function De(g,R){return Object.defineProperty?Object.defineProperty(g,"raw",{value:R}):g.raw=R,g}function _(g){if(g&&g.__esModule)return g;var R={};if(g!=null)for(var I in g)Object.hasOwnProperty.call(g,I)&&(R[I]=g[I]);return R.default=g,R}function d(g){return g&&g.__esModule?g:{default:g}}function x(g,R){if(!R.has(g))throw new TypeError("attempted to get private field on non-instance");return R.get(g)}function U(g,R,I){if(!R.has(g))throw new TypeError("attempted to set private field on non-instance");return R.set(g,I),I}},10590:function(rt,b,T){"use strict";var k=T(38416).default,Te=T(27424).default,Ue=T(74704).default,xe=T(18698).default,V=T(861).default,ce=T(62072),Q=T(44020),F=T(13615),G=T(92806),Y=function(d){return d==null},Ie=Symbol("encodeFragmentIdentifier");function Re(_){switch(_.arrayFormat){case"index":return function(x){return function(U,g){var R=U.length;return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[[re(x,_),"[",R,"]"].join("")]):[].concat(V(U),[[re(x,_),"[",re(R,_),"]=",re(g,_)].join("")])}};case"bracket":return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[[re(x,_),"[]"].join("")]):[].concat(V(U),[[re(x,_),"[]=",re(g,_)].join("")])}};case"colon-list-separator":return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[[re(x,_),":list="].join("")]):[].concat(V(U),[[re(x,_),":list=",re(g,_)].join("")])}};case"comma":case"separator":case"bracket-separator":{var d=_.arrayFormat==="bracket-separator"?"[]=":"=";return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:(g=g===null?"":g,U.length===0?[[re(x,_),d,re(g,_)].join("")]:[[U,re(g,_)].join(_.arrayFormatSeparator)])}}}default:return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[re(x,_)]):[].concat(V(U),[[re(x,_),"=",re(g,_)].join("")])}}}}function ee(_){var d;switch(_.arrayFormat){case"index":return function(x,U,g){if(d=/\[(\d*)\]$/.exec(x),x=x.replace(/\[\d*\]$/,""),!d){g[x]=U;return}g[x]===void 0&&(g[x]={}),g[x][d[1]]=U};case"bracket":return function(x,U,g){if(d=/(\[\])$/.exec(x),x=x.replace(/\[\]$/,""),!d){g[x]=U;return}if(g[x]===void 0){g[x]=[U];return}g[x]=[].concat(g[x],U)};case"colon-list-separator":return function(x,U,g){if(d=/(:list)$/.exec(x),x=x.replace(/:list$/,""),!d){g[x]=U;return}if(g[x]===void 0){g[x]=[U];return}g[x]=[].concat(g[x],U)};case"comma":case"separator":return function(x,U,g){var R=typeof U=="string"&&U.includes(_.arrayFormatSeparator),I=typeof U=="string"&&!R&&Be(U,_).includes(_.arrayFormatSeparator);U=I?Be(U,_):U;var A=R||I?U.split(_.arrayFormatSeparator).map(function(C){return Be(C,_)}):U===null?U:Be(U,_);g[x]=A};case"bracket-separator":return function(x,U,g){var R=/(\[\])$/.test(x);if(x=x.replace(/\[\]$/,""),!R){g[x]=U&&Be(U,_);return}var I=U===null?[]:U.split(_.arrayFormatSeparator).map(function(A){return Be(A,_)});if(g[x]===void 0){g[x]=I;return}g[x]=[].concat(g[x],I)};default:return function(x,U,g){if(g[x]===void 0){g[x]=U;return}g[x]=[].concat(g[x],U)}}}function _e(_){if(typeof _!="string"||_.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function re(_,d){return d.encode?d.strict?ce(_):encodeURIComponent(_):_}function Be(_,d){return d.decode?Q(_):_}function ze(_){return Array.isArray(_)?_.sort():xe(_)==="object"?ze(Object.keys(_)).sort(function(d,x){return Number(d)-Number(x)}).map(function(d){return _[d]}):_}function ke(_){var d=_.indexOf("#");return d!==-1&&(_=_.slice(0,d)),_}function je(_){var d="",x=_.indexOf("#");return x!==-1&&(d=_.slice(x)),d}function ve(_){_=ke(_);var d=_.indexOf("?");return d===-1?"":_.slice(d+1)}function se(_,d){return d.parseNumbers&&!Number.isNaN(Number(_))&&typeof _=="string"&&_.trim()!==""?_=Number(_):d.parseBooleans&&_!==null&&(_.toLowerCase()==="true"||_.toLowerCase()==="false")&&(_=_.toLowerCase()==="true"),_}function De(_,d){d=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},d),_e(d.arrayFormatSeparator);var x=ee(d),U=Object.create(null);if(typeof _!="string"||(_=_.trim().replace(/^[?#&]/,""),!_))return U;var g=Ue(_.split("&")),R;try{for(g.s();!(R=g.n()).done;){var I=R.value;if(I!==""){var A=F(d.decode?I.replace(/\+/g," "):I,"="),C=Te(A,2),O=C[0],P=C[1];P=P===void 0?null:["comma","separator","bracket-separator"].includes(d.arrayFormat)?P:Be(P,d),x(Be(O,d),P,U)}}}catch(Ze){g.e(Ze)}finally{g.f()}for(var $=0,Se=Object.keys(U);$<Se.length;$++){var Z=Se[$],be=U[Z];if(xe(be)==="object"&&be!==null)for(var Je=0,Pe=Object.keys(be);Je<Pe.length;Je++){var We=Pe[Je];be[We]=se(be[We],d)}else U[Z]=se(be,d)}return d.sort===!1?U:(d.sort===!0?Object.keys(U).sort():Object.keys(U).sort(d.sort)).reduce(function(Ze,it){var ot=U[it];return ot&&xe(ot)==="object"&&!Array.isArray(ot)?Ze[it]=ze(ot):Ze[it]=ot,Ze},Object.create(null))}b.extract=ve,b.parse=De,b.stringify=function(_,d){if(!_)return"";d=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},d),_e(d.arrayFormatSeparator);for(var x=function(P){return d.skipNull&&Y(_[P])||d.skipEmptyString&&_[P]===""},U=Re(d),g={},R=0,I=Object.keys(_);R<I.length;R++){var A=I[R];x(A)||(g[A]=_[A])}var C=Object.keys(g);return d.sort!==!1&&C.sort(d.sort),C.map(function(O){var P=_[O];return P===void 0?"":P===null?re(O,d):Array.isArray(P)?P.length===0&&d.arrayFormat==="bracket-separator"?re(O,d)+"[]":P.reduce(U(O),[]).join("&"):re(O,d)+"="+re(P,d)}).filter(function(O){return O.length>0}).join("&")},b.parseUrl=function(_,d){d=Object.assign({decode:!0},d);var x=F(_,"#"),U=Te(x,2),g=U[0],R=U[1];return Object.assign({url:g.split("?")[0]||"",query:De(ve(_),d)},d&&d.parseFragmentIdentifier&&R?{fragmentIdentifier:Be(R,d)}:{})},b.stringifyUrl=function(_,d){d=Object.assign(k({encode:!0,strict:!0},Ie,!0),d);var x=ke(_.url).split("?")[0]||"",U=b.extract(_.url),g=b.parse(U,{sort:!1}),R=Object.assign(g,_.query),I=b.stringify(R,d);I&&(I="?".concat(I));var A=je(_.url);return _.fragmentIdentifier&&(A="#".concat(d[Ie]?re(_.fragmentIdentifier,d):_.fragmentIdentifier)),"".concat(x).concat(I).concat(A)},b.pick=function(_,d,x){x=Object.assign(k({parseFragmentIdentifier:!0},Ie,!1),x);var U=b.parseUrl(_,x),g=U.url,R=U.query,I=U.fragmentIdentifier;return b.stringifyUrl({url:g,query:G(R,d),fragmentIdentifier:I},x)},b.exclude=function(_,d,x){var U=Array.isArray(d)?function(g){return!d.includes(g)}:function(g,R){return!d(g,R)};return b.pick(_,U,x)}},62108:function(rt,b,T){"use strict";T.r(b),T.d(b,{__assign:function(){return V},__asyncDelegator:function(){return ve},__asyncGenerator:function(){return je},__asyncValues:function(){return se},__await:function(){return ke},__awaiter:function(){return Y},__classPrivateFieldGet:function(){return x},__classPrivateFieldSet:function(){return U},__createBinding:function(){return Re},__decorate:function(){return Q},__exportStar:function(){return ee},__extends:function(){return xe},__generator:function(){return Ie},__importDefault:function(){return d},__importStar:function(){return _},__makeTemplateObject:function(){return De},__metadata:function(){return G},__param:function(){return F},__read:function(){return re},__rest:function(){return ce},__spread:function(){return Be},__spreadArrays:function(){return ze},__values:function(){return _e}});var k=T(18698),Te=T.n(k);var Ue=function(R,I){return Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var O in C)C.hasOwnProperty(O)&&(A[O]=C[O])},Ue(R,I)};function xe(g,R){Ue(g,R);function I(){this.constructor=g}g.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var V=function(){return V=Object.assign||function(I){for(var A,C=1,O=arguments.length;C<O;C++){A=arguments[C];for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(I[P]=A[P])}return I},V.apply(this,arguments)};function ce(g,R){var I={};for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&R.indexOf(A)<0&&(I[A]=g[A]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,A=Object.getOwnPropertySymbols(g);C<A.length;C++)R.indexOf(A[C])<0&&Object.prototype.propertyIsEnumerable.call(g,A[C])&&(I[A[C]]=g[A[C]]);return I}function Q(g,R,I,A){var C=arguments.length,O=C<3?R:A===null?A=Object.getOwnPropertyDescriptor(R,I):A,P;if((typeof Reflect>"u"?"undefined":Te()(Reflect))==="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(g,R,I,A);else for(var $=g.length-1;$>=0;$--)(P=g[$])&&(O=(C<3?P(O):C>3?P(R,I,O):P(R,I))||O);return C>3&&O&&Object.defineProperty(R,I,O),O}function F(g,R){return function(I,A){R(I,A,g)}}function G(g,R){if((typeof Reflect>"u"?"undefined":Te()(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(g,R)}function Y(g,R,I,A){function C(O){return O instanceof I?O:new I(function(P){P(O)})}return new(I||(I=Promise))(function(O,P){function $(be){try{Z(A.next(be))}catch(Je){P(Je)}}function Se(be){try{Z(A.throw(be))}catch(Je){P(Je)}}function Z(be){be.done?O(be.value):C(be.value).then($,Se)}Z((A=A.apply(g,R||[])).next())})}function Ie(g,R){var I={label:0,sent:function(){if(O[0]&1)throw O[1];return O[1]},trys:[],ops:[]},A,C,O,P;return P={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function $(Z){return function(be){return Se([Z,be])}}function Se(Z){if(A)throw new TypeError("Generator is already executing.");for(;I;)try{if(A=1,C&&(O=Z[0]&2?C.return:Z[0]?C.throw||((O=C.return)&&O.call(C),0):C.next)&&!(O=O.call(C,Z[1])).done)return O;switch(C=0,O&&(Z=[Z[0]&2,O.value]),Z[0]){case 0:case 1:O=Z;break;case 4:return I.label++,{value:Z[1],done:!1};case 5:I.label++,C=Z[1],Z=[0];continue;case 7:Z=I.ops.pop(),I.trys.pop();continue;default:if(O=I.trys,!(O=O.length>0&&O[O.length-1])&&(Z[0]===6||Z[0]===2)){I=0;continue}if(Z[0]===3&&(!O||Z[1]>O[0]&&Z[1]<O[3])){I.label=Z[1];break}if(Z[0]===6&&I.label<O[1]){I.label=O[1],O=Z;break}if(O&&I.label<O[2]){I.label=O[2],I.ops.push(Z);break}O[2]&&I.ops.pop(),I.trys.pop();continue}Z=R.call(g,I)}catch(be){Z=[6,be],C=0}finally{A=O=0}if(Z[0]&5)throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}}function Re(g,R,I,A){A===void 0&&(A=I),g[A]=R[I]}function ee(g,R){for(var I in g)I!=="default"&&!R.hasOwnProperty(I)&&(R[I]=g[I])}function _e(g){var R=typeof Symbol=="function"&&Symbol.iterator,I=R&&g[R],A=0;if(I)return I.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&A>=g.length&&(g=void 0),{value:g&&g[A++],done:!g}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(g,R){var I=typeof Symbol=="function"&&g[Symbol.iterator];if(!I)return g;var A=I.call(g),C,O=[],P;try{for(;(R===void 0||R-- >0)&&!(C=A.next()).done;)O.push(C.value)}catch($){P={error:$}}finally{try{C&&!C.done&&(I=A.return)&&I.call(A)}finally{if(P)throw P.error}}return O}function Be(){for(var g=[],R=0;R<arguments.length;R++)g=g.concat(re(arguments[R]));return g}function ze(){for(var g=0,R=0,I=arguments.length;R<I;R++)g+=arguments[R].length;for(var A=Array(g),C=0,R=0;R<I;R++)for(var O=arguments[R],P=0,$=O.length;P<$;P++,C++)A[C]=O[P];return A}function ke(g){return this instanceof ke?(this.v=g,this):new ke(g)}function je(g,R,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=I.apply(g,R||[]),C,O=[];return C={},P("next"),P("throw"),P("return"),C[Symbol.asyncIterator]=function(){return this},C;function P(Pe){A[Pe]&&(C[Pe]=function(We){return new Promise(function(Ze,it){O.push([Pe,We,Ze,it])>1||$(Pe,We)})})}function $(Pe,We){try{Se(A[Pe](We))}catch(Ze){Je(O[0][3],Ze)}}function Se(Pe){Pe.value instanceof ke?Promise.resolve(Pe.value.v).then(Z,be):Je(O[0][2],Pe)}function Z(Pe){$("next",Pe)}function be(Pe){$("throw",Pe)}function Je(Pe,We){Pe(We),O.shift(),O.length&&$(O[0][0],O[0][1])}}function ve(g){var R,I;return R={},A("next"),A("throw",function(C){throw C}),A("return"),R[Symbol.iterator]=function(){return this},R;function A(C,O){R[C]=g[C]?function(P){return(I=!I)?{value:ke(g[C](P)),done:C==="return"}:O?O(P):P}:O}}function se(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=g[Symbol.asyncIterator],I;return R?R.call(g):(g=typeof _e=="function"?_e(g):g[Symbol.iterator](),I={},A("next"),A("throw"),A("return"),I[Symbol.asyncIterator]=function(){return this},I);function A(O){I[O]=g[O]&&function(P){return new Promise(function($,Se){P=g[O](P),C($,Se,P.done,P.value)})}}function C(O,P,$,Se){Promise.resolve(Se).then(function(Z){O({value:Z,done:$})},P)}}function De(g,R){return Object.defineProperty?Object.defineProperty(g,"raw",{value:R}):g.raw=R,g}function _(g){if(g&&g.__esModule)return g;var R={};if(g!=null)for(var I in g)Object.hasOwnProperty.call(g,I)&&(R[I]=g[I]);return R.default=g,R}function d(g){return g&&g.__esModule?g:{default:g}}function x(g,R){if(!R.has(g))throw new TypeError("attempted to get private field on non-instance");return R.get(g)}function U(g,R,I){if(!R.has(g))throw new TypeError("attempted to set private field on non-instance");return R.set(g,I),I}},26447:function(rt,b,T){"use strict";var k=T(38416).default,Te=T(27424).default,Ue=T(74704).default,xe=T(18698).default,V=T(861).default,ce=T(62072),Q=T(44020),F=T(13615),G=T(92806),Y=function(d){return d==null},Ie=Symbol("encodeFragmentIdentifier");function Re(_){switch(_.arrayFormat){case"index":return function(x){return function(U,g){var R=U.length;return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[[re(x,_),"[",R,"]"].join("")]):[].concat(V(U),[[re(x,_),"[",re(R,_),"]=",re(g,_)].join("")])}};case"bracket":return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[[re(x,_),"[]"].join("")]):[].concat(V(U),[[re(x,_),"[]=",re(g,_)].join("")])}};case"colon-list-separator":return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[[re(x,_),":list="].join("")]):[].concat(V(U),[[re(x,_),":list=",re(g,_)].join("")])}};case"comma":case"separator":case"bracket-separator":{var d=_.arrayFormat==="bracket-separator"?"[]=":"=";return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:(g=g===null?"":g,U.length===0?[[re(x,_),d,re(g,_)].join("")]:[[U,re(g,_)].join(_.arrayFormatSeparator)])}}}default:return function(x){return function(U,g){return g===void 0||_.skipNull&&g===null||_.skipEmptyString&&g===""?U:g===null?[].concat(V(U),[re(x,_)]):[].concat(V(U),[[re(x,_),"=",re(g,_)].join("")])}}}}function ee(_){var d;switch(_.arrayFormat){case"index":return function(x,U,g){if(d=/\[(\d*)\]$/.exec(x),x=x.replace(/\[\d*\]$/,""),!d){g[x]=U;return}g[x]===void 0&&(g[x]={}),g[x][d[1]]=U};case"bracket":return function(x,U,g){if(d=/(\[\])$/.exec(x),x=x.replace(/\[\]$/,""),!d){g[x]=U;return}if(g[x]===void 0){g[x]=[U];return}g[x]=[].concat(g[x],U)};case"colon-list-separator":return function(x,U,g){if(d=/(:list)$/.exec(x),x=x.replace(/:list$/,""),!d){g[x]=U;return}if(g[x]===void 0){g[x]=[U];return}g[x]=[].concat(g[x],U)};case"comma":case"separator":return function(x,U,g){var R=typeof U=="string"&&U.includes(_.arrayFormatSeparator),I=typeof U=="string"&&!R&&Be(U,_).includes(_.arrayFormatSeparator);U=I?Be(U,_):U;var A=R||I?U.split(_.arrayFormatSeparator).map(function(C){return Be(C,_)}):U===null?U:Be(U,_);g[x]=A};case"bracket-separator":return function(x,U,g){var R=/(\[\])$/.test(x);if(x=x.replace(/\[\]$/,""),!R){g[x]=U&&Be(U,_);return}var I=U===null?[]:U.split(_.arrayFormatSeparator).map(function(A){return Be(A,_)});if(g[x]===void 0){g[x]=I;return}g[x]=[].concat(g[x],I)};default:return function(x,U,g){if(g[x]===void 0){g[x]=U;return}g[x]=[].concat(g[x],U)}}}function _e(_){if(typeof _!="string"||_.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function re(_,d){return d.encode?d.strict?ce(_):encodeURIComponent(_):_}function Be(_,d){return d.decode?Q(_):_}function ze(_){return Array.isArray(_)?_.sort():xe(_)==="object"?ze(Object.keys(_)).sort(function(d,x){return Number(d)-Number(x)}).map(function(d){return _[d]}):_}function ke(_){var d=_.indexOf("#");return d!==-1&&(_=_.slice(0,d)),_}function je(_){var d="",x=_.indexOf("#");return x!==-1&&(d=_.slice(x)),d}function ve(_){_=ke(_);var d=_.indexOf("?");return d===-1?"":_.slice(d+1)}function se(_,d){return d.parseNumbers&&!Number.isNaN(Number(_))&&typeof _=="string"&&_.trim()!==""?_=Number(_):d.parseBooleans&&_!==null&&(_.toLowerCase()==="true"||_.toLowerCase()==="false")&&(_=_.toLowerCase()==="true"),_}function De(_,d){d=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},d),_e(d.arrayFormatSeparator);var x=ee(d),U=Object.create(null);if(typeof _!="string"||(_=_.trim().replace(/^[?#&]/,""),!_))return U;var g=Ue(_.split("&")),R;try{for(g.s();!(R=g.n()).done;){var I=R.value;if(I!==""){var A=F(d.decode?I.replace(/\+/g," "):I,"="),C=Te(A,2),O=C[0],P=C[1];P=P===void 0?null:["comma","separator","bracket-separator"].includes(d.arrayFormat)?P:Be(P,d),x(Be(O,d),P,U)}}}catch(Ze){g.e(Ze)}finally{g.f()}for(var $=0,Se=Object.keys(U);$<Se.length;$++){var Z=Se[$],be=U[Z];if(xe(be)==="object"&&be!==null)for(var Je=0,Pe=Object.keys(be);Je<Pe.length;Je++){var We=Pe[Je];be[We]=se(be[We],d)}else U[Z]=se(be,d)}return d.sort===!1?U:(d.sort===!0?Object.keys(U).sort():Object.keys(U).sort(d.sort)).reduce(function(Ze,it){var ot=U[it];return ot&&xe(ot)==="object"&&!Array.isArray(ot)?Ze[it]=ze(ot):Ze[it]=ot,Ze},Object.create(null))}b.extract=ve,b.parse=De,b.stringify=function(_,d){if(!_)return"";d=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},d),_e(d.arrayFormatSeparator);for(var x=function(P){return d.skipNull&&Y(_[P])||d.skipEmptyString&&_[P]===""},U=Re(d),g={},R=0,I=Object.keys(_);R<I.length;R++){var A=I[R];x(A)||(g[A]=_[A])}var C=Object.keys(g);return d.sort!==!1&&C.sort(d.sort),C.map(function(O){var P=_[O];return P===void 0?"":P===null?re(O,d):Array.isArray(P)?P.length===0&&d.arrayFormat==="bracket-separator"?re(O,d)+"[]":P.reduce(U(O),[]).join("&"):re(O,d)+"="+re(P,d)}).filter(function(O){return O.length>0}).join("&")},b.parseUrl=function(_,d){d=Object.assign({decode:!0},d);var x=F(_,"#"),U=Te(x,2),g=U[0],R=U[1];return Object.assign({url:g.split("?")[0]||"",query:De(ve(_),d)},d&&d.parseFragmentIdentifier&&R?{fragmentIdentifier:Be(R,d)}:{})},b.stringifyUrl=function(_,d){d=Object.assign(k({encode:!0,strict:!0},Ie,!0),d);var x=ke(_.url).split("?")[0]||"",U=b.extract(_.url),g=b.parse(U,{sort:!1}),R=Object.assign(g,_.query),I=b.stringify(R,d);I&&(I="?".concat(I));var A=je(_.url);return _.fragmentIdentifier&&(A="#".concat(d[Ie]?re(_.fragmentIdentifier,d):_.fragmentIdentifier)),"".concat(x).concat(I).concat(A)},b.pick=function(_,d,x){x=Object.assign(k({parseFragmentIdentifier:!0},Ie,!1),x);var U=b.parseUrl(_,x),g=U.url,R=U.query,I=U.fragmentIdentifier;return b.stringifyUrl({url:g,query:G(R,d),fragmentIdentifier:I},x)},b.exclude=function(_,d,x){var U=Array.isArray(d)?function(g){return!d.includes(g)}:function(g,R){return!d(g,R)};return b.pick(_,U,x)}},13615:function(rt){"use strict";rt.exports=function(b,T){if(!(typeof b=="string"&&typeof T=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(T==="")return[b];var k=b.indexOf(T);return k===-1?[b]:[b.slice(0,k),b.slice(k+T.length)]}},62072:function(rt){"use strict";rt.exports=function(b){return encodeURIComponent(b).replace(/[!'()*]/g,function(T){return"%".concat(T.charCodeAt(0).toString(16).toUpperCase())})}},40926:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isBrowserCryptoAvailable=b.getSubtleCrypto=b.getBrowerCrypto=void 0;function k(){return(T.g===null||T.g===void 0?void 0:T.g.crypto)||(T.g===null||T.g===void 0?void 0:T.g.msCrypto)||{}}b.getBrowerCrypto=k;function Te(){const xe=k();return xe.subtle||xe.webkitSubtle}b.getSubtleCrypto=Te;function Ue(){return!!k()&&!!Te()}b.isBrowserCryptoAvailable=Ue},88618:function(rt,b,T){"use strict";var k=T(34155);Object.defineProperty(b,"__esModule",{value:!0}),b.isBrowser=b.isNode=b.isReactNative=void 0;function Te(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}b.isReactNative=Te;function Ue(){return typeof k<"u"&&typeof k.versions<"u"&&typeof k.versions.node<"u"}b.isNode=Ue;function xe(){return!Te()&&!Ue()}b.isBrowser=xe},1468:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const k=T(20933);k.__exportStar(T(40926),b),k.__exportStar(T(88618),b)},29272:function(rt,b,T){"use strict";T.d(b,{EthereumProvider:function(){return g2}});var k={};T.r(k),T.d(k,{identity:function(){return ae}});var Te={};T.r(Te),T.d(Te,{base2:function(){return nt}});var Ue={};T.r(Ue),T.d(Ue,{base8:function(){return yt}});var xe={};T.r(xe),T.d(xe,{base10:function(){return Nt}});var V={};T.r(V),T.d(V,{base16:function(){return zt},base16upper:function(){return H}});var ce={};T.r(ce),T.d(ce,{base32:function(){return w},base32hex:function(){return Ve},base32hexpad:function(){return ft},base32hexpadupper:function(){return ht},base32hexupper:function(){return qe},base32pad:function(){return J},base32padupper:function(){return Ee},base32upper:function(){return S},base32z:function(){return lt}});var Q={};T.r(Q),T.d(Q,{base36:function(){return vt},base36upper:function(){return gt}});var F={};T.r(F),T.d(F,{base58btc:function(){return bt},base58flickr:function(){return Ft}});var G={};T.r(G),T.d(G,{base64:function(){return jt},base64pad:function(){return Vt},base64url:function(){return Wt},base64urlpad:function(){return Ht}});var Y={};T.r(Y),T.d(Y,{base256emoji:function(){return di}});var Ie={};T.r(Ie),T.d(Ie,{sha256:function(){return Wc},sha512:function(){return kc}});var Re={};T.r(Re),T.d(Re,{identity:function(){return Gc}});var ee={};T.r(ee),T.d(ee,{code:function(){return Yc},decode:function(){return Qc},encode:function(){return As},name:function(){return Jc}});var _e={};T.r(_e),T.d(_e,{code:function(){return Xc},decode:function(){return eu},encode:function(){return Zc},name:function(){return aa}});var re=T(17187),Be=T.n(re),ze=T(15501),ke=T(512),je=T(31416),ve=T(73294),se=T(57664);function De(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function _(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.alloc!=null?asUint8Array(globalThis.Buffer.alloc(r)):new Uint8Array(r)}function d(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?De(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function x(r,e){e||(e=r.reduce((f,p)=>f+p.length,0));const t=d(e);let a=0;for(const f of r)t.set(f,a),a+=f.length;return De(t)}function U(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),a=0;a<t.length;a++)t[a]=255;for(var f=0;f<r.length;f++){var p=r.charAt(f),D=p.charCodeAt(0);if(t[D]!==255)throw new TypeError(p+" is ambiguous");t[D]=f}var K=r.length,ne=r.charAt(0),B=Math.log(K)/Math.log(256),ie=Math.log(256)/Math.log(K);function oe($e){if($e instanceof Uint8Array||(ArrayBuffer.isView($e)?$e=new Uint8Array($e.buffer,$e.byteOffset,$e.byteLength):Array.isArray($e)&&($e=Uint8Array.from($e))),!($e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($e.length===0)return"";for(var et=0,ct=0,xt=0,$t=$e.length;xt!==$t&&$e[xt]===0;)xt++,et++;for(var Pt=($t-xt)*ie+1>>>0,mt=new Uint8Array(Pt);xt!==$t;){for(var _t=$e[xt],Ot=0,qt=Pt-1;(_t!==0||Ot<ct)&&qt!==-1;qt--,Ot++)_t+=256*mt[qt]>>>0,mt[qt]=_t%K>>>0,_t=_t/K>>>0;if(_t!==0)throw new Error("Non-zero carry");ct=Ot,xt++}for(var rr=Pt-ct;rr!==Pt&&mt[rr]===0;)rr++;for(var bn=ne.repeat(et);rr<Pt;++rr)bn+=r.charAt(mt[rr]);return bn}function He($e){if(typeof $e!="string")throw new TypeError("Expected String");if($e.length===0)return new Uint8Array;var et=0;if($e[et]!==" "){for(var ct=0,xt=0;$e[et]===ne;)ct++,et++;for(var $t=($e.length-et)*B+1>>>0,Pt=new Uint8Array($t);$e[et];){var mt=t[$e.charCodeAt(et)];if(mt===255)return;for(var _t=0,Ot=$t-1;(mt!==0||_t<xt)&&Ot!==-1;Ot--,_t++)mt+=K*Pt[Ot]>>>0,Pt[Ot]=mt%256>>>0,mt=mt/256>>>0;if(mt!==0)throw new Error("Non-zero carry");xt=_t,et++}if($e[et]!==" "){for(var qt=$t-xt;qt!==$t&&Pt[qt]===0;)qt++;for(var rr=new Uint8Array(ct+($t-qt)),bn=ct;qt!==$t;)rr[bn++]=Pt[qt++];return rr}}}function st($e){var et=He($e);if(et)return et;throw new Error(`Non-${e} character`)}return{encode:oe,decodeUnsafe:He,decode:st}}var g=U,R=g,I=R;const A=new Uint8Array(0),C=r=>r.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),O=r=>{const e=r.match(/../g);return e?new Uint8Array(e.map(t=>parseInt(t,16))):A},P=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},$=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Se=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),Z=r=>new TextEncoder().encode(r),be=r=>new TextDecoder().decode(r);class Je{constructor(e,t,a){this.name=e,this.prefix=t,this.baseEncode=a}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Pe{constructor(e,t,a){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=a}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Ze(this,e)}}class We{constructor(e){this.decoders=e}or(e){return Ze(this,e)}decode(e){const t=e[0],a=this.decoders[t];if(a)return a.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ze=(r,e)=>new We({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class it{constructor(e,t,a,f){this.name=e,this.prefix=t,this.baseEncode=a,this.baseDecode=f,this.encoder=new Je(e,t,a),this.decoder=new Pe(e,t,f)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ot=({name:r,prefix:e,encode:t,decode:a})=>new it(r,e,t,a),Le=({prefix:r,name:e,alphabet:t})=>{const{encode:a,decode:f}=I(t,e);return ot({prefix:r,name:e,encode:a,decode:p=>$(f(p))})},Me=(r,e,t,a)=>{const f={};for(let ie=0;ie<e.length;++ie)f[e[ie]]=ie;let p=r.length;for(;r[p-1]==="=";)--p;const D=new Uint8Array(p*t/8|0);let K=0,ne=0,B=0;for(let ie=0;ie<p;++ie){const oe=f[r[ie]];if(oe===void 0)throw new SyntaxError(`Non-${a} character`);ne=ne<<t|oe,K+=t,K>=8&&(K-=8,D[B++]=255&ne>>K)}if(K>=t||255&ne<<8-K)throw new SyntaxError("Unexpected end of data");return D},Ae=(r,e,t)=>{const a=e[e.length-1]==="=",f=(1<<t)-1;let p="",D=0,K=0;for(let ne=0;ne<r.length;++ne)for(K=K<<8|r[ne],D+=8;D>t;)D-=t,p+=e[f&K>>D];if(D&&(p+=e[f&K<<t-D]),a)for(;p.length*t&7;)p+="=";return p},m=({name:r,prefix:e,bitsPerChar:t,alphabet:a})=>ot({prefix:e,name:r,encode(f){return Ae(f,a,t)},decode(f){return Me(f,a,t,r)}}),ae=ot({prefix:"\0",name:"identity",encode:r=>be(r),decode:r=>Z(r)}),nt=m({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),yt=m({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Nt=Le({prefix:"9",name:"base10",alphabet:"0123456789"}),zt=m({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),H=m({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),w=m({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),S=m({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),J=m({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ee=m({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ve=m({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qe=m({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ft=m({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ht=m({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lt=m({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),vt=Le({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gt=Le({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),bt=Le({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ft=Le({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),jt=m({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Vt=m({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Wt=m({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ht=m({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),kt=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Gt=kt.reduce((r,e,t)=>(r[t]=e,r),[]),Rn=kt.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Lr(r){return r.reduce((e,t)=>(e+=Gt[t],e),"")}function kn(r){const e=[];for(const t of r){const a=Rn[t.codePointAt(0)];if(a===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(a)}return new Uint8Array(e)}const di=ot({prefix:"\u{1F680}",name:"base256emoji",encode:Lr,decode:kn});var Ri=cr,ii=128,si=127,lr=~si,hr=Math.pow(2,31);function cr(r,e,t){e=e||[],t=t||0;for(var a=t;r>=hr;)e[t++]=r&255|ii,r/=128;for(;r&lr;)e[t++]=r&255|ii,r>>>=7;return e[t]=r|0,cr.bytes=t-a+1,e}var ir=dr,xr=128,_r=127;function dr(r,a){var t=0,a=a||0,f=0,p=a,D,K=r.length;do{if(p>=K)throw dr.bytes=0,new RangeError("Could not decode varint");D=r[p++],t+=f<28?(D&_r)<<f:(D&_r)*Math.pow(2,f),f+=7}while(D>=xr);return dr.bytes=p-a,t}var Ir=Math.pow(2,7),Sr=Math.pow(2,14),yr=Math.pow(2,21),pr=Math.pow(2,28),er=Math.pow(2,35),Dr=Math.pow(2,42),Or=Math.pow(2,49),Ar=Math.pow(2,56),Pr=Math.pow(2,63),Bc=function(r){return r<Ir?1:r<Sr?2:r<yr?3:r<pr?4:r<er?5:r<Dr?6:r<Or?7:r<Ar?8:r<Pr?9:10},qn={encode:Ri,decode:ir,encodingLength:Bc},zc=qn,Ss=zc;const ho=(r,e=0)=>[Ss.decode(r,e),Ss.decode.bytes],Ds=(r,e,t=0)=>(Ss.encode(r,e,t),e),Os=r=>Ss.encodingLength(r),Fn=(r,e)=>{const t=e.byteLength,a=Os(r),f=a+Os(t),p=new Uint8Array(f+t);return Ds(r,p,0),Ds(t,p,a),p.set(e,f),new po(r,t,e,p)},Hc=r=>{const e=$(r),[t,a]=ho(e),[f,p]=ho(e.subarray(a)),D=e.subarray(a+p);if(D.byteLength!==f)throw new Error("Incorrect length");return new po(t,f,D,e)},Kc=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&P(r.bytes,e.bytes);class po{constructor(e,t,a,f){this.code=e,this.size=t,this.digest=a,this.bytes=f}}const ia=({name:r,code:e,encode:t})=>new Vc(r,e,t);class Vc{constructor(e,t,a){this.name=e,this.code=t,this.encode=a}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Fn(this.code,t):t.then(a=>Fn(this.code,a))}else throw Error("Unknown type, must be binary type")}}const ts=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),Wc=ia({name:"sha2-256",code:18,encode:ts("SHA-256")}),kc=ia({name:"sha2-512",code:19,encode:ts("SHA-512")}),Gn=0,qc="identity",sa=$,Gc={code:Gn,name:qc,encode:sa,digest:r=>Fn(Gn,sa(r))},Jc="raw",Yc=85,As=r=>$(r),Qc=r=>$(r),rs=new TextEncoder,oa=new TextDecoder,aa="json",Xc=512,Zc=r=>rs.encode(JSON.stringify(r)),eu=r=>JSON.parse(oa.decode(r));class Mr{constructor(e,t,a,f){this.code=t,this.version=e,this.multihash=a,this.bytes=f,this.byteOffset=f.byteOffset,this.byteLength=f.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:mn,byteLength:mn,code:Cs,version:Cs,multihash:Cs,bytes:Cs,_baseCache:mn,asCID:mn})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==Fi)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Ps)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Mr.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,a=Fn(e,t);return Mr.createV1(this.code,a)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Kc(this.multihash,e.multihash)}toString(e){const{bytes:t,version:a,_baseCache:f}=this;switch(a){case 0:return tu(t,f,e||bt.encoder);default:return ru(t,f,e||w.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return iu(/^0\.0/,su),!!(e&&(e[ua]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Mr)return e;if(e!=null&&e.asCID===e){const{version:t,code:a,multihash:f,bytes:p}=e;return new Mr(t,a,f,p||pi(t,a,f.bytes))}else if(e!=null&&e[ua]===!0){const{version:t,multihash:a,code:f}=e,p=Hc(a);return Mr.create(t,f,p)}else return null}static create(e,t,a){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==Fi)throw new Error(`Version 0 CID must use dag-pb (code: ${Fi}) block encoding`);return new Mr(e,t,a,a.bytes)}case 1:{const f=pi(e,t,a.bytes);return new Mr(e,t,a,f)}default:throw new Error("Invalid version")}}static createV0(e){return Mr.create(0,Fi,e)}static createV1(e,t){return Mr.create(1,e,t)}static decode(e){const[t,a]=Mr.decodeFirst(e);if(a.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Mr.inspectBytes(e),a=t.size-t.multihashSize,f=$(e.subarray(a,a+t.multihashSize));if(f.byteLength!==t.multihashSize)throw new Error("Incorrect length");const p=f.subarray(t.multihashSize-t.digestSize),D=new po(t.multihashCode,t.digestSize,p,f);return[t.version===0?Mr.createV0(D):Mr.createV1(t.codec,D),e.subarray(t.size)]}static inspectBytes(e){let t=0;const a=()=>{const[oe,He]=ho(e.subarray(t));return t+=He,oe};let f=a(),p=Fi;if(f===18?(f=0,t=0):f===1&&(p=a()),f!==0&&f!==1)throw new RangeError(`Invalid CID version ${f}`);const D=t,K=a(),ne=a(),B=t+ne,ie=B-D;return{version:f,codec:p,multihashCode:K,digestSize:ne,multihashSize:ie,size:B}}static parse(e,t){const[a,f]=ca(e,t),p=Mr.decode(f);return p._baseCache.set(a,e),p}}const ca=(r,e)=>{switch(r[0]){case"Q":{const t=e||bt;return[bt.prefix,t.decode(`${bt.prefix}${r}`)]}case bt.prefix:{const t=e||bt;return[bt.prefix,t.decode(r)]}case w.prefix:{const t=e||w;return[w.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},tu=(r,e,t)=>{const{prefix:a}=t;if(a!==bt.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);const f=e.get(a);if(f==null){const p=t.encode(r).slice(1);return e.set(a,p),p}else return f},ru=(r,e,t)=>{const{prefix:a}=t,f=e.get(a);if(f==null){const p=t.encode(r);return e.set(a,p),p}else return f},Fi=112,Ps=18,pi=(r,e,t)=>{const a=Os(r),f=a+Os(e),p=new Uint8Array(f+t.byteLength);return Ds(r,p,0),Ds(e,p,a),p.set(t,f),p},ua=Symbol.for("@ipld/js-cid/CID"),Cs={writable:!1,configurable:!1,enumerable:!0},mn={writable:!1,enumerable:!1,configurable:!1},nu="0.0.0-dev",iu=(r,e)=>{if(r.test(nu))console.warn(e);else throw new Error(e)},su=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,fa={...k,...Te,...Ue,...xe,...V,...ce,...Q,...F,...G,...Y},kl={...Ie,...Re},Ui={raw:ee,json:_e};function go(r,e,t,a){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:a}}}const la=go("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),ji=go("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=d(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e});var Ns={utf8:la,"utf-8":la,hex:fa.base16,latin1:ji,ascii:ji,binary:ji,...fa};function Kr(r,e="utf8"){const t=Ns[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?De(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Rr(r,e="utf8"){const t=Ns[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var Et=T(66736),ou=T(62116),Ts=T(304),au=T(72589);function gi(r,e,t="string"){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function cu(r,e){let t=!0;return e.forEach(a=>{a in r||(t=!1)}),t}function uu(r,e){return Array.isArray(r)?r.length===e:Object.keys(r).length===e}function q(r,e){return Array.isArray(r)?r.length>=e:Object.keys(r).length>=e}function Oe(r,e,t){return(t.length?q(r,e.length):uu(r,e.length))?cu(r,e):!1}function Xe(r,e,t="_"){const a=r.split(t);return a[a.length-1].trim().toLowerCase()===e.trim().toLowerCase()}function dt(r){return Xt(r.method)&&At(r.params)}function Xt(r){return Xe(r,"subscribe")}function At(r){return Oe(r,["topic"],[])}function ur(r){return mr(r.method)&&Cr(r.params)}function mr(r){return Xe(r,"publish")}function Cr(r){return Oe(r,["message","topic","ttl"],["prompt","tag"])}function sr(r){return Vr(r.method)&&rn(r.params)}function Vr(r){return Xe(r,"unsubscribe")}function rn(r){return Oe(r,["id","topic"],[])}function $r(r){return Gr(r.method)&&Jr(r.params)}function Gr(r){return Xe(r,"subscription")}function Jr(r){return Oe(r,["id","data"],[])}function _i(r){if(!Xt(r.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!At(r.params))throw new Error("JSON-RPC Request has invalid subscribe params");const e=r.params;return gi(e,"topic"),e}function oi(r){if(!mr(r.method))throw new Error("JSON-RPC Request has invalid publish method");if(!Cr(r.params))throw new Error("JSON-RPC Request has invalid publish params");const e=r.params;return gi(e,"topic"),gi(e,"message"),gi(e,"ttl","number"),e}function Li(r){if(!Vr(r.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!rn(r.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");const e=r.params;return gi(e,"id"),e}function fu(r){if(!Gr(r.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!Jr(r.params))throw new Error("JSON-RPC Request has invalid subscription params");const e=r.params;return gi(e,"id"),gi(e,"data"),e}const Rs={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Mi=T(34155);const ha=":";function S_(r){const[e,t]=r.split(ha);return{namespace:e,reference:t}}function D_(r){const{namespace:e,reference:t}=r;return[e,t].join(ha)}function Gl(r){const[e,t,a]=r.split(ha);return{namespace:e,reference:t,address:a}}function O_(r){const{namespace:e,reference:t,address:a}=r;return[e,t,a].join(ha)}function Jl(r,e){const t=[];return r.forEach(a=>{const f=e(a);t.includes(f)||t.push(f)}),t}function A_(r){const{address:e}=Gl(r);return e}function P_(r){const{namespace:e,reference:t}=Gl(r);return D_({namespace:e,reference:t})}function lP(r,e){const{namespace:t,reference:a}=S_(e);return O_({namespace:t,reference:a,address:r})}function hP(r){return Jl(r,A_)}function C_(r){return Jl(r,P_)}function N_(r,e=[]){const t=[];return Object.keys(r).forEach(a=>{if(e.length&&!e.includes(a))return;const f=r[a];t.push(...f.accounts)}),t}function dP(r,e=[]){const t=[];return Object.keys(r).forEach(a=>{if(e.length&&!e.includes(a))return;const f=r[a];t.push(...C_(f.accounts))}),t}function pP(r,e=[]){const t=[];return Object.keys(r).forEach(a=>{if(e.length&&!e.includes(a))return;const f=r[a];t.push(...lu(a,f))}),t}function lu(r,e){return r.includes(":")?[r]:e.chains||[]}const hu=r=>r==null?void 0:r.split(":"),T_=r=>{const e=r&&hu(r);if(e)return e[3]},gP=r=>{const e=r&&hu(r);if(e)return e[2]+":"+e[3]},R_=r=>{const e=r&&hu(r);if(e)return e.pop()},_P=(r,e)=>{const t=`${r.domain} wants you to sign in with your Ethereum account:`,a=R_(e),f=r.statement,p=`URI: ${r.aud}`,D=`Version: ${r.version}`,K=`Chain ID: ${T_(e)}`,ne=`Nonce: ${r.nonce}`,B=`Issued At: ${r.iat}`,ie=r.resources&&r.resources.length>0?`Resources:
${r.resources.map(oe=>`- ${oe}`).join(`
`)}`:void 0;return[t,a,"",f,"",p,D,K,ne,B,ie].filter(oe=>oe!=null).join(`
`)},Yl="base10",nn="base16",du="base64pad",pu="utf8",Ql=0,_o=1,F_=0,Xl=1,gu=12,_u=32;function yP(){const r=fe.generateKeyPair();return{privateKey:v(r.secretKey,nn),publicKey:v(r.publicKey,nn)}}function mP(){const r=le(_u);return v(r,nn)}function vP(r,e){const t=fe.sharedKey(E(r,nn),E(e,nn),!0),a=new On(Sn,t).expand(_u);return v(a,nn)}function wP(r){const e=de(E(r,nn));return v(e,nn)}function bP(r){const e=de(E(r,pu));return v(e,nn)}function U_(r){return E(`${r}`,Yl)}function da(r){return Number(v(r,Yl))}function EP(r){const e=U_(typeof r.type<"u"?r.type:Ql);if(da(e)===_o&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?E(r.senderPublicKey,nn):void 0,a=typeof r.iv<"u"?E(r.iv,nn):le(gu),f=new ue(E(r.symKey,nn)).seal(a,E(r.message,pu));return j_({type:e,sealed:f,iv:a,senderPublicKey:t})}function xP(r){const e=new ue(E(r.symKey,nn)),{sealed:t,iv:a}=Zl(r.encoded),f=e.open(a,t);if(f===null)throw new Error("Failed to decrypt");return v(f,pu)}function j_(r){if(da(r.type)===_o){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return v(pe([r.type,r.senderPublicKey,r.iv,r.sealed]),du)}return v(pe([r.type,r.iv,r.sealed]),du)}function Zl(r){const e=E(r,du),t=e.slice(F_,Xl),a=Xl;if(da(t)===_o){const K=a+_u,ne=K+gu,B=e.slice(a,K),ie=e.slice(K,ne),oe=e.slice(ne);return{type:t,sealed:oe,iv:ie,senderPublicKey:B}}const f=a+gu,p=e.slice(a,f),D=e.slice(f);return{type:t,sealed:D,iv:p}}function IP(r,e){const t=Zl(r);return L_({type:da(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?v(t.senderPublicKey,nn):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function L_(r){const e=(r==null?void 0:r.type)||Ql;if(e===_o){if(typeof(r==null?void 0:r.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(r==null?void 0:r.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r==null?void 0:r.senderPublicKey,receiverPublicKey:r==null?void 0:r.receiverPublicKey}}function SP(r){return r.type===_o&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var M_=Object.defineProperty,eh=Object.getOwnPropertySymbols,$_=Object.prototype.hasOwnProperty,B_=Object.prototype.propertyIsEnumerable,th=(r,e,t)=>e in r?M_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rh=(r,e)=>{for(var t in e||(e={}))$_.call(e,t)&&th(r,t,e[t]);if(eh)for(var t of eh(e))B_.call(e,t)&&th(r,t,e[t]);return r};const z_="ReactNative",sn={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},yu=" ",DP=":",H_="/",nh=2,OP=1e3,K_="js";function ih(){return typeof Mi<"u"&&typeof Mi.versions<"u"&&typeof Mi.versions.node<"u"}function yo(){return!ye()&&!!ge()&&navigator.product===z_}function pa(){return!ih()&&!!ge()&&!!ye()}function Fs(){return yo()?sn.reactNative:ih()?sn.node:pa()?sn.browser:sn.unknown}function AP(){var r;try{return yo()&&typeof T.g<"u"&&typeof(T.g==null?void 0:T.g.Application)<"u"?(r=T.g.Application)==null?void 0:r.applicationId:void 0}catch{return}}function V_(r,e){let t=M.parse(r);return t=rh(rh({},t),e),r=M.stringify(t),r}function PP(){return Tn()||{name:"",description:"",url:"",icons:[""]}}function CP(r,e){var t;const a=Fs(),f={protocol:r,version:e,env:a};return a==="browser"&&(f.host=((t=he())==null?void 0:t.host)||"unknown"),f}function W_(){if(Fs()===sn.reactNative&&typeof T.g<"u"&&typeof(T.g==null?void 0:T.g.Platform)<"u"){const{OS:t,Version:a}=T.g.Platform;return[t,a].join("-")}const r=wn();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function k_(){var r;const e=Fs();return e===sn.browser?[e,((r=he())==null?void 0:r.host)||"unknown"].join(":"):e}function q_(r,e,t){const a=W_(),f=k_();return[[r,e].join("-"),[K_,t].join("-"),a,f].join("/")}function NP({protocol:r,version:e,relayUrl:t,sdkVersion:a,auth:f,projectId:p,useOnCloseEvent:D,bundleId:K}){const ne=t.split("?"),B=q_(r,e,a),ie={auth:f,ua:B,projectId:p,useOnCloseEvent:D||void 0,origin:K||void 0},oe=V_(ne[1]||"",ie);return ne[0]+"?"+oe}function TP(r){let e=(r.match(/^[^:]+(?=:\/\/)/gi)||[])[0];const t=typeof e<"u"?r.split("://")[1]:r;return e=e==="wss"?"https":"http",[e,t].join("://")}function RP(r,e,t){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function G_(r,e=nh){return J_(r.split(H_),e)}function FP(r){return G_(r).join(yu)}function ns(r,e){return r.filter(t=>e.includes(t)).length===r.length}function J_(r,e=nh){return r.slice(Math.max(r.length-e,0))}function UP(r){return Object.fromEntries(r.entries())}function jP(r){return new Map(Object.entries(r))}function LP(r,e){const t={};return Object.keys(r).forEach(a=>{t[a]=e(r[a])}),t}const MP=r=>r;function Y_(r){return r.trim().replace(/^\w/,e=>e.toUpperCase())}function $P(r){return r.split(yu).map(e=>Y_(e)).join(yu)}function BP(r=me,e){const t=W(r||me);let a,f,p;return{resolve:D=>{p&&a&&(clearTimeout(p),a(D))},reject:D=>{p&&f&&(clearTimeout(p),f(D))},done:()=>new Promise((D,K)=>{p=setTimeout(()=>{K(new Error(e))},t),a=D,f=K})}}function zP(r,e,t){return new Promise(async(a,f)=>{const p=setTimeout(()=>f(new Error(t)),e);try{const D=await r;a(D)}catch(D){f(D)}clearTimeout(p)})}function sh(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function HP(r){return sh("topic",r)}function KP(r){return sh("id",r)}function VP(r){const[e,t]=r.split(":"),a={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")a.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))a.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return a}function WP(r,e){return In((e||Date.now())+W(r))}function kP(r){return Date.now()>=W(r)}function qP(r,e){return`${r}${e?`:${e}`:""}`}function is(r=[],e=[]){return[...new Set([...r,...e])]}async function GP({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;const a=typeof t=="string"?JSON.parse(t):t;let f=a==null?void 0:a.href;if(typeof f!="string")return;f.endsWith("/")&&(f=f.slice(0,-1));const p=`${f}/wc?requestId=${r}&sessionTopic=${e}`,D=Fs();D===sn.browser?p.startsWith("https://")?window.open(p,"_blank","noreferrer noopener"):window.open(p,"_self","noreferrer noopener"):D===sn.reactNative&&typeof(T.g==null?void 0:T.g.Linking)<"u"&&await T.g.Linking.openURL(p)}catch(a){console.error(a)}}async function JP(r,e){try{return await r.getItem(e)||(pa()?localStorage.getItem(e):void 0)}catch(t){console.error(t)}}const Q_="irn";function YP(r){return(r==null?void 0:r.relay)||{protocol:Q_}}function QP(r){const e=Pn[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var X_=Object.defineProperty,Z_=Object.defineProperties,ey=Object.getOwnPropertyDescriptors,oh=Object.getOwnPropertySymbols,ty=Object.prototype.hasOwnProperty,ry=Object.prototype.propertyIsEnumerable,ah=(r,e,t)=>e in r?X_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ny=(r,e)=>{for(var t in e||(e={}))ty.call(e,t)&&ah(r,t,e[t]);if(oh)for(var t of oh(e))ry.call(e,t)&&ah(r,t,e[t]);return r},iy=(r,e)=>Z_(r,ey(e));function sy(r,e="-"){const t={},a="relay"+e;return Object.keys(r).forEach(f=>{if(f.startsWith(a)){const p=f.replace(a,""),D=r[f];t[p]=D}}),t}function XP(r){r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,a=r.substring(0,e),f=r.substring(e+1,t).split("@"),p=typeof t<"u"?r.substring(t):"",D=M.parse(p);return{protocol:a,topic:oy(f[0]),version:parseInt(f[1],10),symKey:D.symKey,relay:sy(D),expiryTimestamp:D.expiryTimestamp?parseInt(D.expiryTimestamp,10):void 0}}function oy(r){return r.startsWith("//")?r.substring(2):r}function ay(r,e="-"){const t="relay",a={};return Object.keys(r).forEach(f=>{const p=t+e+f;r[f]&&(a[p]=r[f])}),a}function ZP(r){return`${r.protocol}:${r.topic}@${r.version}?`+M.stringify(iy(ny({symKey:r.symKey},ay(r.relay)),{expiryTimestamp:r.expiryTimestamp}))}var cy=Object.defineProperty,uy=Object.defineProperties,fy=Object.getOwnPropertyDescriptors,ch=Object.getOwnPropertySymbols,ly=Object.prototype.hasOwnProperty,hy=Object.prototype.propertyIsEnumerable,uh=(r,e,t)=>e in r?cy(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dy=(r,e)=>{for(var t in e||(e={}))ly.call(e,t)&&uh(r,t,e[t]);if(ch)for(var t of ch(e))hy.call(e,t)&&uh(r,t,e[t]);return r},py=(r,e)=>uy(r,fy(e));function Us(r){const e=[];return r.forEach(t=>{const[a,f]=t.split(":");e.push(`${a}:${f}`)}),e}function gy(r){const e=[];return Object.values(r).forEach(t=>{e.push(...Us(t.accounts))}),e}function _y(r,e){const t=[];return Object.values(r).forEach(a=>{Us(a.accounts).includes(e)&&t.push(...a.methods)}),t}function yy(r,e){const t=[];return Object.values(r).forEach(a=>{Us(a.accounts).includes(e)&&t.push(...a.events)}),t}function e8(r,e){const t=Oy(r,e);if(t)throw new Error(t.message);const a={};for(const[f,p]of Object.entries(r))a[f]={methods:p.methods,events:p.events,chains:p.accounts.map(D=>`${D.split(":")[0]}:${D.split(":")[1]}`)};return a}function t8(r){const{proposal:{requiredNamespaces:e,optionalNamespaces:t={}},supportedNamespaces:a}=r,f=lh(e),p=lh(t),D={};Object.keys(a).forEach(B=>{const ie=a[B].chains,oe=a[B].methods,He=a[B].events,st=a[B].accounts;ie.forEach($e=>{if(!st.some(et=>et.includes($e)))throw new Error(`No accounts provided for chain ${$e} in namespace ${B}`)}),D[B]={chains:ie,methods:oe,events:He,accounts:st}});const K=Py(e,D,"approve()");if(K)throw new Error(K.message);const ne={};return!Object.keys(e).length&&!Object.keys(t).length?D:(Object.keys(f).forEach(B=>{const ie=a[B].chains.filter($e=>{var et,ct;return(ct=(et=f[B])==null?void 0:et.chains)==null?void 0:ct.includes($e)}),oe=a[B].methods.filter($e=>{var et,ct;return(ct=(et=f[B])==null?void 0:et.methods)==null?void 0:ct.includes($e)}),He=a[B].events.filter($e=>{var et,ct;return(ct=(et=f[B])==null?void 0:et.events)==null?void 0:ct.includes($e)}),st=ie.map($e=>a[B].accounts.filter(et=>et.includes(`${$e}:`))).flat();ne[B]={chains:ie,methods:oe,events:He,accounts:st}}),Object.keys(p).forEach(B=>{var ie,oe,He,st,$e,et;if(!a[B])return;const ct=(oe=(ie=p[B])==null?void 0:ie.chains)==null?void 0:oe.filter(mt=>a[B].chains.includes(mt)),xt=a[B].methods.filter(mt=>{var _t,Ot;return(Ot=(_t=p[B])==null?void 0:_t.methods)==null?void 0:Ot.includes(mt)}),$t=a[B].events.filter(mt=>{var _t,Ot;return(Ot=(_t=p[B])==null?void 0:_t.events)==null?void 0:Ot.includes(mt)}),Pt=ct==null?void 0:ct.map(mt=>a[B].accounts.filter(_t=>_t.includes(`${mt}:`))).flat();ne[B]={chains:is((He=ne[B])==null?void 0:He.chains,ct),methods:is((st=ne[B])==null?void 0:st.methods,xt),events:is(($e=ne[B])==null?void 0:$e.events,$t),accounts:is((et=ne[B])==null?void 0:et.accounts,Pt)}}),ne)}function fh(r){return r.includes(":")}function my(r){return fh(r)?r.split(":")[0]:r}function lh(r){var e,t,a;const f={};if(!mu(r))return f;for(const[p,D]of Object.entries(r)){const K=fh(p)?[p]:D.chains,ne=D.methods||[],B=D.events||[],ie=my(p);f[ie]=py(dy({},f[ie]),{chains:is(K,(e=f[ie])==null?void 0:e.chains),methods:is(ne,(t=f[ie])==null?void 0:t.methods),events:is(B,(a=f[ie])==null?void 0:a.events)})}return f}const vy={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},wy={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function $i(r,e){const{message:t,code:a}=wy[r];return{message:e?`${t} ${e}`:t,code:a}}function ss(r,e){const{message:t,code:a}=vy[r];return{message:e?`${t} ${e}`:t,code:a}}function os(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function mu(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function as(r){return typeof r>"u"}function Un(r,e){return e&&as(r)?!0:typeof r=="string"&&!!r.trim().length}function vu(r,e){return e&&as(r)?!0:typeof r=="number"&&!isNaN(r)}function r8(r,e){const{requiredNamespaces:t}=e,a=Object.keys(r.namespaces),f=Object.keys(t);let p=!0;return ns(f,a)?(a.forEach(D=>{const{accounts:K,methods:ne,events:B}=r.namespaces[D],ie=Us(K),oe=t[D];(!ns(lu(D,oe),ie)||!ns(oe.methods,ne)||!ns(oe.events,B))&&(p=!1)}),p):!1}function ga(r){return Un(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function by(r){if(Un(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&ga(t)}}return!1}function n8(r){if(Un(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function i8(r){var e;return(e=r==null?void 0:r.proposer)==null?void 0:e.publicKey}function s8(r){return r==null?void 0:r.topic}function o8(r,e){let t=null;return Un(r==null?void 0:r.publicKey,!1)||(t=$i("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function hh(r){let e=!0;return os(r)?r.length&&(e=r.every(t=>Un(t,!1))):e=!1,e}function Ey(r,e,t){let a=null;return os(e)&&e.length?e.forEach(f=>{a||ga(f)||(a=ss("UNSUPPORTED_CHAINS",`${t}, chain ${f} should be a string and conform to "namespace:chainId" format`))}):ga(r)||(a=ss("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),a}function xy(r,e,t){let a=null;return Object.entries(r).forEach(([f,p])=>{if(a)return;const D=Ey(f,lu(f,p),`${e} ${t}`);D&&(a=D)}),a}function Iy(r,e){let t=null;return os(r)?r.forEach(a=>{t||by(a)||(t=ss("UNSUPPORTED_ACCOUNTS",`${e}, account ${a} should be a string and conform to "namespace:chainId:address" format`))}):t=ss("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function Sy(r,e){let t=null;return Object.values(r).forEach(a=>{if(t)return;const f=Iy(a==null?void 0:a.accounts,`${e} namespace`);f&&(t=f)}),t}function Dy(r,e){let t=null;return hh(r==null?void 0:r.methods)?hh(r==null?void 0:r.events)||(t=ss("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=ss("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function dh(r,e){let t=null;return Object.values(r).forEach(a=>{if(t)return;const f=Dy(a,`${e}, namespace`);f&&(t=f)}),t}function a8(r,e,t){let a=null;if(r&&mu(r)){const f=dh(r,e);f&&(a=f);const p=xy(r,e,t);p&&(a=p)}else a=$i("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return a}function Oy(r,e){let t=null;if(r&&mu(r)){const a=dh(r,e);a&&(t=a);const f=Sy(r,e);f&&(t=f)}else t=$i("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function Ay(r){return Un(r.protocol,!0)}function c8(r,e){let t=!1;return e&&!r?t=!0:r&&os(r)&&r.length&&r.forEach(a=>{t=Ay(a)}),t}function u8(r){return typeof r=="number"}function f8(r){return typeof r<"u"&&typeof r!==null}function l8(r){return!(!r||typeof r!="object"||!r.code||!vu(r.code,!1)||!r.message||!Un(r.message,!1))}function h8(r){return!(as(r)||!Un(r.method,!1))}function d8(r){return!(as(r)||as(r.result)&&as(r.error)||!vu(r.id,!1)||!Un(r.jsonrpc,!1))}function p8(r){return!(as(r)||!Un(r.name,!1))}function g8(r,e){return!(!ga(e)||!gy(r).includes(e))}function _8(r,e,t){return Un(t,!1)?_y(r,e).includes(t):!1}function y8(r,e,t){return Un(t,!1)?yy(r,e).includes(t):!1}function Py(r,e,t){let a=null;const f=Cy(r),p=Ny(e),D=Object.keys(f),K=Object.keys(p),ne=ph(Object.keys(r)),B=ph(Object.keys(e)),ie=ne.filter(oe=>!B.includes(oe));return ie.length&&(a=$i("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${ie.toString()}
      Received: ${Object.keys(e).toString()}`)),ns(D,K)||(a=$i("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${D.toString()}
      Approved: ${K.toString()}`)),Object.keys(e).forEach(oe=>{if(!oe.includes(":")||a)return;const He=Us(e[oe].accounts);He.includes(oe)||(a=$i("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${oe}
        Required: ${oe}
        Approved: ${He.toString()}`))}),D.forEach(oe=>{a||(ns(f[oe].methods,p[oe].methods)?ns(f[oe].events,p[oe].events)||(a=$i("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${oe}`)):a=$i("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${oe}`))}),a}function Cy(r){const e={};return Object.keys(r).forEach(t=>{var a;t.includes(":")?e[t]=r[t]:(a=r[t].chains)==null||a.forEach(f=>{e[f]={methods:r[t].methods,events:r[t].events}})}),e}function ph(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Ny(r){const e={};return Object.keys(r).forEach(t=>{if(t.includes(":"))e[t]=r[t];else{const a=Us(r[t].accounts);a==null||a.forEach(f=>{e[f]={accounts:r[t].accounts.filter(p=>p.includes(`${f}:`)),methods:r[t].methods,events:r[t].events}})}}),e}function m8(r,e){return vu(r,!1)&&r<=e.max&&r>=e.min}function v8(){const r=Fs();return new Promise(e=>{switch(r){case sn.browser:e(Ty());break;case sn.reactNative:e(Ry());break;case sn.node:e(Fy());break;default:e(!0)}})}function Ty(){return pa()&&(navigator==null?void 0:navigator.onLine)}async function Ry(){if(yo()&&typeof T.g<"u"&&T.g!=null&&T.g.NetInfo){const r=await(T.g==null?void 0:T.g.NetInfo.fetch());return r==null?void 0:r.isConnected}return!0}function Fy(){return!0}function w8(r){switch(Fs()){case sn.browser:Uy(r);break;case sn.reactNative:jy(r);break;case sn.node:break}}function Uy(r){!yo()&&pa()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function jy(r){var e;yo()&&typeof T.g<"u"&&T.g!=null&&T.g.NetInfo&&((e=T.g)==null||e.NetInfo.addEventListener(t=>r(t==null?void 0:t.isConnected)))}const wu={};class b8{static get(e){return wu[e]}static set(e,t){wu[e]=t}static delete(e){delete wu[e]}}const Ly=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,My=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,$y=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function By(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){zy(r);return}return e}function zy(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function mo(r,e={}){if(typeof r!="string")return r;const t=r.trim();if(r[0]==='"'&&r.endsWith('"')&&!r.includes("\\"))return t.slice(1,-1);if(t.length<=9){const a=t.toLowerCase();if(a==="true")return!0;if(a==="false")return!1;if(a==="undefined")return;if(a==="null")return null;if(a==="nan")return Number.NaN;if(a==="infinity")return Number.POSITIVE_INFINITY;if(a==="-infinity")return Number.NEGATIVE_INFINITY}if(!$y.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(Ly.test(r)||My.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,By)}return JSON.parse(r)}catch(a){if(e.strict)throw a;return r}}function E8(r,e={}){return mo(r,{...e,strict:!0})}var bu=T(48764).lW;function Hy(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function Fr(r,...e){try{return Hy(r(...e))}catch(t){return Promise.reject(t)}}function Ky(r){const e=typeof r;return r===null||e!=="object"&&e!=="function"}function Vy(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function _a(r){if(Ky(r))return String(r);if(Vy(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return _a(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function gh(){if(typeof bu===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const Eu="base64:";function Wy(r){if(typeof r=="string")return r;gh();const e=bu.from(r).toString("base64");return Eu+e}function ky(r){return typeof r!="string"||!r.startsWith(Eu)?r:(gh(),bu.from(r.slice(Eu.length),"base64"))}const qy=null;function x8(r,e){if(e=vo(e),!e)return r;const t={...r};for(const a of qy)t[a]=(f="",...p)=>r[a](e+f,...p);return t.getKeys=(a="",...f)=>r.getKeys(e+a,...f).then(p=>p.map(D=>D.slice(e.length))),t}function on(r){return r?r.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function Gy(...r){return on(r.join(":"))}function vo(r){return r=on(r),r?r+":":""}function I8(r){return r}const Jy="memory",Yy=()=>{const r=new Map;return{name:Jy,options:{},hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,t){r.set(e,t)},setItemRaw(e,t){r.set(e,t)},removeItem(e){r.delete(e)},getKeys(){return Array.from(r.keys())},clear(){r.clear()},dispose(){r.clear()}}};function Qy(r={}){const e={mounts:{"":r.driver||Yy()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=B=>{for(const ie of e.mountpoints)if(B.startsWith(ie))return{base:ie,relativeKey:B.slice(ie.length),driver:e.mounts[ie]};return{base:"",relativeKey:B,driver:e.mounts[""]}},a=(B,ie)=>e.mountpoints.filter(oe=>oe.startsWith(B)||ie&&B.startsWith(oe)).map(oe=>({relativeBase:B.length>oe.length?B.slice(oe.length):void 0,mountpoint:oe,driver:e.mounts[oe]})),f=(B,ie)=>{if(e.watching){ie=on(ie);for(const oe of e.watchListeners)oe(B,ie)}},p=async()=>{if(!e.watching){e.watching=!0;for(const B in e.mounts)e.unwatch[B]=await _h(e.mounts[B],f,B)}},D=async()=>{if(e.watching){for(const B in e.unwatch)await e.unwatch[B]();e.unwatch={},e.watching=!1}},K=(B,ie,oe)=>{const He=new Map,st=$e=>{let et=He.get($e.base);return et||(et={driver:$e.driver,base:$e.base,items:[]},He.set($e.base,et)),et};for(const $e of B){const et=typeof $e=="string",ct=on(et?$e:$e.key),xt=et?void 0:$e.value,$t=et||!$e.options?ie:{...ie,...$e.options},Pt=t(ct);st(Pt).items.push({key:ct,value:xt,relativeKey:Pt.relativeKey,options:$t})}return Promise.all([...He.values()].map($e=>oe($e))).then($e=>$e.flat())},ne={hasItem(B,ie={}){B=on(B);const{relativeKey:oe,driver:He}=t(B);return Fr(He.hasItem,oe,ie)},getItem(B,ie={}){B=on(B);const{relativeKey:oe,driver:He}=t(B);return Fr(He.getItem,oe,ie).then(st=>mo(st))},getItems(B,ie){return K(B,ie,oe=>oe.driver.getItems?Fr(oe.driver.getItems,oe.items.map(He=>({key:He.relativeKey,options:He.options})),ie).then(He=>He.map(st=>({key:Gy(oe.base,st.key),value:mo(st.value)}))):Promise.all(oe.items.map(He=>Fr(oe.driver.getItem,He.relativeKey,He.options).then(st=>({key:He.key,value:mo(st)})))))},getItemRaw(B,ie={}){B=on(B);const{relativeKey:oe,driver:He}=t(B);return He.getItemRaw?Fr(He.getItemRaw,oe,ie):Fr(He.getItem,oe,ie).then(st=>ky(st))},async setItem(B,ie,oe={}){if(ie===void 0)return ne.removeItem(B);B=on(B);const{relativeKey:He,driver:st}=t(B);st.setItem&&(await Fr(st.setItem,He,_a(ie),oe),st.watch||f("update",B))},async setItems(B,ie){await K(B,ie,async oe=>{if(oe.driver.setItems)return Fr(oe.driver.setItems,oe.items.map(He=>({key:He.relativeKey,value:_a(He.value),options:He.options})),ie);oe.driver.setItem&&await Promise.all(oe.items.map(He=>Fr(oe.driver.setItem,He.relativeKey,_a(He.value),He.options)))})},async setItemRaw(B,ie,oe={}){if(ie===void 0)return ne.removeItem(B,oe);B=on(B);const{relativeKey:He,driver:st}=t(B);if(st.setItemRaw)await Fr(st.setItemRaw,He,ie,oe);else if(st.setItem)await Fr(st.setItem,He,Wy(ie),oe);else return;st.watch||f("update",B)},async removeItem(B,ie={}){typeof ie=="boolean"&&(ie={removeMeta:ie}),B=on(B);const{relativeKey:oe,driver:He}=t(B);He.removeItem&&(await Fr(He.removeItem,oe,ie),(ie.removeMeta||ie.removeMata)&&await Fr(He.removeItem,oe+"$",ie),He.watch||f("remove",B))},async getMeta(B,ie={}){typeof ie=="boolean"&&(ie={nativeOnly:ie}),B=on(B);const{relativeKey:oe,driver:He}=t(B),st=Object.create(null);if(He.getMeta&&Object.assign(st,await Fr(He.getMeta,oe,ie)),!ie.nativeOnly){const $e=await Fr(He.getItem,oe+"$",ie).then(et=>mo(et));$e&&typeof $e=="object"&&(typeof $e.atime=="string"&&($e.atime=new Date($e.atime)),typeof $e.mtime=="string"&&($e.mtime=new Date($e.mtime)),Object.assign(st,$e))}return st},setMeta(B,ie,oe={}){return this.setItem(B+"$",ie,oe)},removeMeta(B,ie={}){return this.removeItem(B+"$",ie)},async getKeys(B,ie={}){B=vo(B);const oe=a(B,!0);let He=[];const st=[];for(const $e of oe){const ct=(await Fr($e.driver.getKeys,$e.relativeBase,ie)).map(xt=>$e.mountpoint+on(xt)).filter(xt=>!He.some($t=>xt.startsWith($t)));st.push(...ct),He=[$e.mountpoint,...He.filter(xt=>!xt.startsWith($e.mountpoint))]}return B?st.filter($e=>$e.startsWith(B)&&!$e.endsWith("$")):st.filter($e=>!$e.endsWith("$"))},async clear(B,ie={}){B=vo(B),await Promise.all(a(B,!1).map(async oe=>{if(oe.driver.clear)return Fr(oe.driver.clear,oe.relativeBase,ie);if(oe.driver.removeItem){const He=await oe.driver.getKeys(oe.relativeBase||"",ie);return Promise.all(He.map(st=>oe.driver.removeItem(st,ie)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(B=>yh(B)))},async watch(B){return await p(),e.watchListeners.push(B),async()=>{e.watchListeners=e.watchListeners.filter(ie=>ie!==B),e.watchListeners.length===0&&await D()}},async unwatch(){e.watchListeners=[],await D()},mount(B,ie){if(B=vo(B),B&&e.mounts[B])throw new Error(`already mounted at ${B}`);return B&&(e.mountpoints.push(B),e.mountpoints.sort((oe,He)=>He.length-oe.length)),e.mounts[B]=ie,e.watching&&Promise.resolve(_h(ie,f,B)).then(oe=>{e.unwatch[B]=oe}).catch(console.error),ne},async unmount(B,ie=!0){B=vo(B),!(!B||!e.mounts[B])&&(e.watching&&B in e.unwatch&&(e.unwatch[B](),delete e.unwatch[B]),ie&&await yh(e.mounts[B]),e.mountpoints=e.mountpoints.filter(oe=>oe!==B),delete e.mounts[B])},getMount(B=""){B=on(B)+":";const ie=t(B);return{driver:ie.driver,base:ie.base}},getMounts(B="",ie={}){return B=on(B),a(B,ie.parents).map(He=>({driver:He.driver,base:He.mountpoint}))}};return ne}async function S8(r,e){e=normalizeBaseKey(e);const t=await r.getKeys(e),a={};return await Promise.all(t.map(async f=>{a[f.slice(e.length)]=await r.getItem(f)})),a}async function D8(r,e,t=""){t=normalizeBaseKey(t),await Promise.all(Object.entries(e).map(a=>r.setItem(t+a[0],a[1])))}function _h(r,e,t){return r.watch?r.watch((a,f)=>e(a,t+f)):()=>{}}async function yh(r){typeof r.dispose=="function"&&await Fr(r.dispose)}const O8={azureAppConfiguration:"unstorage/drivers/azure-app-configuration",azureCosmos:"unstorage/drivers/azure-cosmos",azureKeyVault:"unstorage/drivers/azure-key-vault",azureStorageBlob:"unstorage/drivers/azure-storage-blob",azureStorageTable:"unstorage/drivers/azure-storage-table",cloudflareKVBinding:"unstorage/drivers/cloudflare-kv-binding",cloudflareKVHTTP:"unstorage/drivers/cloudflare-kv-http",cloudflareR2Binding:"unstorage/drivers/cloudflare-r2-binding",fs:"unstorage/drivers/fs",fsLite:"unstorage/drivers/fs-lite",github:"unstorage/drivers/github",http:"unstorage/drivers/http",indexedb:"unstorage/drivers/indexedb",localStorage:"unstorage/drivers/localstorage",lruCache:"unstorage/drivers/lru-cache",memory:"unstorage/drivers/memory",mongodb:"unstorage/drivers/mongodb",netlifyBlobs:"unstorage/drivers/netlify-blobs",overlay:"unstorage/drivers/overlay",planetscale:"unstorage/drivers/planetscale",redis:"unstorage/drivers/redis",sessionStorage:"unstorage/drivers/session-storage",vercelKV:"unstorage/drivers/vercel-kv","cloudflare-kv-binding":"unstorage/drivers/cloudflare-kv-binding","cloudflare-kv-http":"unstorage/drivers/cloudflare-kv-http"};function an(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function mh(r,e){const t=indexedDB.open(r);t.onupgradeneeded=()=>t.result.createObjectStore(e);const a=an(t);return(f,p)=>a.then(D=>p(D.transaction(e,f).objectStore(e)))}let xu;function Jn(){return xu||(xu=mh("keyval-store","keyval")),xu}function vh(r,e=Jn()){return e("readonly",t=>an(t.get(r)))}function Xy(r,e,t=Jn()){return t("readwrite",a=>(a.put(e,r),an(a.transaction)))}function A8(r,e=Jn()){return e("readwrite",t=>(r.forEach(a=>t.put(a[1],a[0])),an(t.transaction)))}function P8(r,e=Jn()){return e("readonly",t=>Promise.all(r.map(a=>an(t.get(a)))))}function C8(r,e,t=Jn()){return t("readwrite",a=>new Promise((f,p)=>{a.get(r).onsuccess=function(){try{a.put(e(this.result),r),f(an(a.transaction))}catch(D){p(D)}}}))}function Zy(r,e=Jn()){return e("readwrite",t=>(t.delete(r),an(t.transaction)))}function N8(r,e=Jn()){return e("readwrite",t=>(r.forEach(a=>t.delete(a)),an(t.transaction)))}function em(r=Jn()){return r("readwrite",e=>(e.clear(),an(e.transaction)))}function Iu(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},an(r.transaction)}function tm(r=Jn()){return r("readonly",e=>{if(e.getAllKeys)return an(e.getAllKeys());const t=[];return Iu(e,a=>t.push(a.key)).then(()=>t)})}function T8(r=Jn()){return r("readonly",e=>{if(e.getAll)return an(e.getAll());const t=[];return Iu(e,a=>t.push(a.value)).then(()=>t)})}function R8(r=Jn()){return r("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([an(e.getAllKeys()),an(e.getAll())]).then(([a,f])=>a.map((p,D)=>[p,f[D]]));const t=[];return r("readonly",a=>Iu(a,f=>t.push([f.key,f.value])).then(()=>t))})}const rm=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),nm=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(a,f)=>typeof f=="string"&&f.match(/^\d+n$/)?BigInt(f.substring(0,f.length-1)):f)};function Su(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return nm(r)}catch{return r}}function Du(r){return typeof r=="string"?r:rm(r)||""}function F8(r){return r}const im="idb-keyval";var sm=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",t=f=>e+f;let a;return r.dbName&&r.storeName&&(a=mh(r.dbName,r.storeName)),{name:im,options:r,async hasItem(f){return!(typeof await vh(t(f),a)>"u")},async getItem(f){return await vh(t(f),a)??null},setItem(f,p){return Xy(t(f),p,a)},removeItem(f){return Zy(t(f),a)},getKeys(){return tm(a)},clear(){return em(a)}}};const om="WALLET_CONNECT_V2_INDEXED_DB",am="keyvaluestorage";class cm{constructor(){this.indexedDb=Qy({driver:sm({dbName:om,storeName:am})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,Du(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var Ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof T.g<"u"?T.g:typeof self<"u"?self:{},ya={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,a){this[t]=String(a)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(a){t[a]=void 0,delete t[a]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Ou<"u"&&Ou.localStorage?ya.exports=Ou.localStorage:typeof window<"u"&&window.localStorage?ya.exports=window.localStorage:ya.exports=new e})();function um(r){var e;return[r[0],Su((e=r[1])!=null?e:"")]}class fm{constructor(){this.localStorage=ya.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(um)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return Su(t)}async setItem(e,t){this.localStorage.setItem(e,Du(t))}async removeItem(e){this.localStorage.removeItem(e)}}const lm="wc_storage_version",wh=1,hm=async(r,e,t)=>{const a=lm,f=await e.getItem(a);if(f&&f>=wh){t(e);return}const p=await r.getKeys();if(!p.length){t(e);return}const D=[];for(;p.length;){const K=p.shift();if(!K)continue;const ne=K.toLowerCase();if(ne.includes("wc@")||ne.includes("walletconnect")||ne.includes("wc_")||ne.includes("wallet_connect")){const B=await r.getItem(K);await e.setItem(K,B),D.push(K)}}await e.setItem(a,wh),t(e),dm(r,D)},dm=async(r,e)=>{e.length&&e.forEach(async t=>{await r.removeItem(t)})};class pm{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new fm;this.storage=e;try{const t=new cm;hm(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}var wo=T(90772),gm=T(36559),ma=T.n(gm);const _m={level:"info"},bo="custom_context",Au=null;class ym{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class bh{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new ym(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}class Eh{constructor(e,t=Au){this.level=e??"error",this.levelValue=s.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new bh(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===s.values.error?console.error(e):t===s.values.warn?console.warn(e):t===s.values.debug?console.debug(e):t===s.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(u({timestamp:new Date().toISOString(),log:e}));const t=typeof e=="string"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new bh(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(u({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class mm{constructor(e,t=Au){this.baseChunkLogger=new Eh(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),a=document.createElement("a");a.href=t,a.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}}class vm{constructor(e,t=Au){this.baseChunkLogger=new Eh(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var wm=Object.defineProperty,bm=Object.defineProperties,Em=Object.getOwnPropertyDescriptors,xh=Object.getOwnPropertySymbols,xm=Object.prototype.hasOwnProperty,Im=Object.prototype.propertyIsEnumerable,Ih=(r,e,t)=>e in r?wm(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,va=(r,e)=>{for(var t in e||(e={}))xm.call(e,t)&&Ih(r,t,e[t]);if(xh)for(var t of xh(e))Im.call(e,t)&&Ih(r,t,e[t]);return r},wa=(r,e)=>bm(r,Em(e));function ba(r){return wa(va({},r),{level:(r==null?void 0:r.level)||_m.level})}function Sm(r,e=bo){return r[e]||""}function Dm(r,e,t=bo){return r[t]=e,r}function cn(r,e=bo){let t="";return typeof r.bindings>"u"?t=Sm(r,e):t=r.bindings().context||"",t}function Om(r,e,t=bo){const a=cn(r,t);return a.trim()?`${a}/${e}`:e}function un(r,e,t=bo){const a=Om(r,e,t),f=r.child({context:a});return Dm(f,a,t)}function Am(r){var e,t;const a=new mm((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:h(wa(va({},r.opts),{level:"trace",browser:wa(va({},(t=r.opts)==null?void 0:t.browser),{write:f=>a.write(f)})})),chunkLoggerController:a}}function Pm(r){var e;const t=new vm((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:h(wa(va({},r.opts),{level:"trace"}),t),chunkLoggerController:t}}function U8(r){return typeof r.loggerOverride<"u"&&typeof r.loggerOverride!="string"?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Am(r):Pm(r)}var js=T(38200);class Cm extends js.q{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class j8{constructor(e,t,a){this.core=e,this.logger=t}}class Nm extends js.q{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class Tm{constructor(e,t){this.logger=e,this.core=t}}class Rm extends js.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class Fm extends js.q{constructor(e){super()}}class Um{constructor(e,t,a,f){this.core=e,this.logger=t,this.name=a}}class L8{constructor(){this.map=new Map}}class jm extends js.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class M8{constructor(e,t){this.core=e,this.logger=t}}class Lm extends js.q{constructor(e,t){super(),this.core=e,this.logger=t}}class $8{constructor(e,t){this.logger=e,this.core=t}}class Mm{constructor(e,t){this.projectId=e,this.logger=t}}class $m{constructor(e,t){this.projectId=e,this.logger=t}}class B8 extends null{constructor(){super()}}class Bm{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class z8 extends null{constructor(){super()}}class zm{constructor(e){this.client=e}}var Sh=T(31050);const Hm="EdDSA",Km="JWT",Dh=".",Oh="base64url",Vm="utf8",Wm="utf8",km=":",qm="did",Gm="key",Ah="base58btc",Jm="z",Ym="K36",H8=32,Qm=32,Xm=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),Zm=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(a,f)=>typeof f=="string"&&f.match(/^\d+n$/)?BigInt(f.substring(0,f.length-1)):f)};function K8(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return Zm(r)}catch{return r}}function ev(r){return typeof r=="string"?r:Xm(r)||""}function Ea(r){return safeJsonParse(toString(fromString(r,JWT_ENCODING),JSON_ENCODING))}function xa(r){return Rr(Kr(ev(r),Vm),Oh)}function Ph(r){const e=Kr(Ym,Ah),t=Jm+Rr(x([e,r]),Ah);return[qm,Gm,t].join(km)}function V8(r){const[e,t,a]=r.split(DID_DELIMITER);if(e!==DID_PREFIX||t!==DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if(a.slice(0,1)!==MULTICODEC_ED25519_BASE)throw new Error("Issuer must be a key in mulicodec format");const p=fromString(a.slice(1),MULTICODEC_ED25519_ENCODING);if(toString(p.slice(0,2),MULTICODEC_ED25519_ENCODING)!==MULTICODEC_ED25519_HEADER)throw new Error('Issuer must be a public key with type "Ed25519"');const K=p.slice(2);if(K.length!==MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return K}function tv(r){return Rr(r,Oh)}function rv(r){return fromString(r,JWT_ENCODING)}function nv(r){return Kr([xa(r.header),xa(r.payload)].join(Dh),Wm)}function W8(r){const e=toString(r,DATA_ENCODING).split(JWT_DELIMITER),t=Ea(e[0]),a=Ea(e[1]);return{header:t,payload:a}}function iv(r){return[xa(r.header),xa(r.payload),tv(r.signature)].join(Dh)}function k8(r){const e=r.split(JWT_DELIMITER),t=Ea(e[0]),a=Ea(e[1]),f=rv(e[2]),p=fromString(e.slice(0,2).join(JWT_DELIMITER),DATA_ENCODING);return{header:t,payload:a,signature:f,data:p}}function Ch(r=(0,je.randomBytes)(Qm)){return Sh._w(r)}async function sv(r,e,t,a,f=(0,Et.fromMiliseconds)(Date.now())){const p={alg:Hm,typ:Km},D=Ph(a.publicKey),K=f+t,ne={iss:D,sub:r,aud:e,iat:f,exp:K},B=nv({header:p,payload:ne}),ie=Sh.Xx(a.secretKey,B);return iv({header:p,payload:ne,signature:ie})}async function q8(r){const{header:e,payload:t,data:a,signature:f}=decodeJWT(r);if(e.alg!==JWT_IRIDIUM_ALG||e.typ!==JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");const p=decodeIss(t.iss);return ed25519.verify(p,a,f)}var G8=T(43014),Ia=T(34155),Nh=function(r,e,t){if(t||arguments.length===2)for(var a=0,f=e.length,p;a<f;a++)(p||!(a in e))&&(p||(p=Array.prototype.slice.call(e,0,a)),p[a]=e[a]);return r.concat(p||Array.prototype.slice.call(e))},ov=function(){function r(e,t,a){this.name=e,this.version=t,this.os=a,this.type="browser"}return r}(),av=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=Ia.platform}return r}(),cv=function(){function r(e,t,a,f){this.name=e,this.version=t,this.os=a,this.bot=f,this.type="bot-device"}return r}(),uv=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),fv=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),lv=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,hv=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Th=3,dv=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",lv]],Rh=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function pv(r){return r?Uh(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new fv:typeof navigator<"u"?Uh(navigator.userAgent):_v()}function Fh(r){return r!==""&&dv.reduce(function(e,t){var a=t[0],f=t[1];if(e)return e;var p=f.exec(r);return!!p&&[a,p]},!1)}function J8(r){var e=Fh(r);return e?e[0]:null}function Uh(r){var e=Fh(r);if(!e)return null;var t=e[0],a=e[1];if(t==="searchbot")return new uv;var f=a[1]&&a[1].split(".").join("_").split("_").slice(0,3);f?f.length<Th&&(f=Nh(Nh([],f,!0),yv(Th-f.length),!0)):f=[];var p=f.join("."),D=gv(r),K=hv.exec(r);return K&&K[1]?new cv(t,p,D,K[1]):new ov(t,p,D)}function gv(r){for(var e=0,t=Rh.length;e<t;e++){var a=Rh[e],f=a[0],p=a[1],D=p.exec(r);if(D)return f}return null}function _v(){var r=typeof Ia<"u"&&Ia.version;return r?new av(Ia.version.slice(1)):null}function yv(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var Eo=T(18495),mv=T(20416),Sa=T(10590),Pu=T(34155);const Da=":";function vv(r){const[e,t]=r.split(Da);return{namespace:e,reference:t}}function wv(r){const{namespace:e,reference:t}=r;return[e,t].join(Da)}function jh(r){const[e,t,a]=r.split(Da);return{namespace:e,reference:t,address:a}}function bv(r){const{namespace:e,reference:t,address:a}=r;return[e,t,a].join(Da)}function Lh(r,e){const t=[];return r.forEach(a=>{const f=e(a);t.includes(f)||t.push(f)}),t}function Ev(r){const{address:e}=jh(r);return e}function xv(r){const{namespace:e,reference:t}=jh(r);return wv({namespace:e,reference:t})}function Y8(r,e){const{namespace:t,reference:a}=vv(e);return bv({namespace:t,reference:a,address:r})}function Q8(r){return Lh(r,Ev)}function Iv(r){return Lh(r,xv)}function X8(r,e=[]){const t=[];return Object.keys(r).forEach(a=>{if(e.length&&!e.includes(a))return;const f=r[a];t.push(...f.accounts)}),t}function Z8(r,e=[]){const t=[];return Object.keys(r).forEach(a=>{if(e.length&&!e.includes(a))return;const f=r[a];t.push(...Iv(f.accounts))}),t}function eC(r,e=[]){const t=[];return Object.keys(r).forEach(a=>{if(e.length&&!e.includes(a))return;const f=r[a];t.push(...Cu(a,f))}),t}function Cu(r,e){return r.includes(":")?[r]:e.chains||[]}const Nu=r=>r==null?void 0:r.split(":"),Sv=r=>{const e=r&&Nu(r);if(e)return e[3]},tC=r=>{const e=r&&Nu(r);if(e)return e[2]+":"+e[3]},Dv=r=>{const e=r&&Nu(r);if(e)return e.pop()},rC=(r,e)=>{const t=`${r.domain} wants you to sign in with your Ethereum account:`,a=Dv(e),f=r.statement,p=`URI: ${r.aud}`,D=`Version: ${r.version}`,K=`Chain ID: ${Sv(e)}`,ne=`Nonce: ${r.nonce}`,B=`Issued At: ${r.iat}`,ie=r.resources&&r.resources.length>0?`Resources:
${r.resources.map(oe=>`- ${oe}`).join(`
`)}`:void 0;return[t,a,"",f,"",p,D,K,ne,B,ie].filter(oe=>oe!=null).join(`
`)},Mh="base10",Yr="base16",Tu="base64pad",Ru="utf8",$h=0,cs=1,Ov=0,Bh=1,Fu=12,Uu=32;function Av(){const r=se.Au();return{privateKey:Rr(r.secretKey,Yr),publicKey:Rr(r.publicKey,Yr)}}function ju(){const r=(0,je.randomBytes)(Uu);return Rr(r,Yr)}function Pv(r,e){const t=se.gi(Kr(r,Yr),Kr(e,Yr),!0),a=new ke.t(ve.mE,t).expand(Uu);return Rr(a,Yr)}function Cv(r){const e=(0,ve.vp)(Kr(r,Yr));return Rr(e,Yr)}function Ls(r){const e=(0,ve.vp)(Kr(r,Ru));return Rr(e,Yr)}function Nv(r){return Kr(`${r}`,Mh)}function xo(r){return Number(Rr(r,Mh))}function Tv(r){const e=Nv(typeof r.type<"u"?r.type:$h);if(xo(e)===cs&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?Kr(r.senderPublicKey,Yr):void 0,a=typeof r.iv<"u"?Kr(r.iv,Yr):(0,je.randomBytes)(Fu),f=new ze.OK(Kr(r.symKey,Yr)).seal(a,Kr(r.message,Ru));return Fv({type:e,sealed:f,iv:a,senderPublicKey:t})}function Rv(r){const e=new ze.OK(Kr(r.symKey,Yr)),{sealed:t,iv:a}=Oa(r.encoded),f=e.open(a,t);if(f===null)throw new Error("Failed to decrypt");return Rr(f,Ru)}function Fv(r){if(xo(r.type)===cs){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Rr(x([r.type,r.senderPublicKey,r.iv,r.sealed]),Tu)}return Rr(x([r.type,r.iv,r.sealed]),Tu)}function Oa(r){const e=Kr(r,Tu),t=e.slice(Ov,Bh),a=Bh;if(xo(t)===cs){const K=a+Uu,ne=K+Fu,B=e.slice(a,K),ie=e.slice(K,ne),oe=e.slice(ne);return{type:t,sealed:oe,iv:ie,senderPublicKey:B}}const f=a+Fu,p=e.slice(a,f),D=e.slice(f);return{type:t,sealed:D,iv:p}}function Uv(r,e){const t=Oa(r);return zh({type:xo(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?Rr(t.senderPublicKey,Yr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function zh(r){const e=(r==null?void 0:r.type)||$h;if(e===cs){if(typeof(r==null?void 0:r.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(r==null?void 0:r.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r==null?void 0:r.senderPublicKey,receiverPublicKey:r==null?void 0:r.receiverPublicKey}}function Hh(r){return r.type===cs&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var jv=Object.defineProperty,Kh=Object.getOwnPropertySymbols,Lv=Object.prototype.hasOwnProperty,Mv=Object.prototype.propertyIsEnumerable,Vh=(r,e,t)=>e in r?jv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wh=(r,e)=>{for(var t in e||(e={}))Lv.call(e,t)&&Vh(r,t,e[t]);if(Kh)for(var t of Kh(e))Mv.call(e,t)&&Vh(r,t,e[t]);return r};const $v="ReactNative",fn={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Lu=" ",nC=":",Bv="/",kh=2,iC=1e3,zv="js";function Mu(){return typeof Pu<"u"&&typeof Pu.versions<"u"&&typeof Pu.versions.node<"u"}function Ms(){return!(0,Eo.getDocument)()&&!!(0,Eo.getNavigator)()&&navigator.product===$v}function $s(){return!Mu()&&!!(0,Eo.getNavigator)()&&!!(0,Eo.getDocument)()}function Bs(){return Ms()?fn.reactNative:Mu()?fn.node:$s()?fn.browser:fn.unknown}function Hv(){var r;try{return Ms()&&typeof T.g<"u"&&typeof(T.g==null?void 0:T.g.Application)<"u"?(r=T.g.Application)==null?void 0:r.applicationId:void 0}catch{return}}function Kv(r,e){let t=Sa.parse(r);return t=Wh(Wh({},t),e),r=Sa.stringify(t),r}function Vv(){return(0,mv.D)()||{name:"",description:"",url:"",icons:[""]}}function sC(r,e){var t;const a=Bs(),f={protocol:r,version:e,env:a};return a==="browser"&&(f.host=((t=he())==null?void 0:t.host)||"unknown"),f}function Wv(){if(Bs()===fn.reactNative&&typeof T.g<"u"&&typeof(T.g==null?void 0:T.g.Platform)<"u"){const{OS:t,Version:a}=T.g.Platform;return[t,a].join("-")}const r=pv();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function kv(){var r;const e=Bs();return e===fn.browser?[e,((r=(0,Eo.getLocation)())==null?void 0:r.host)||"unknown"].join(":"):e}function qv(r,e,t){const a=Wv(),f=kv();return[[r,e].join("-"),[zv,t].join("-"),a,f].join("/")}function Gv({protocol:r,version:e,relayUrl:t,sdkVersion:a,auth:f,projectId:p,useOnCloseEvent:D,bundleId:K}){const ne=t.split("?"),B=qv(r,e,a),ie={auth:f,ua:B,projectId:p,useOnCloseEvent:D||void 0,origin:K||void 0},oe=Kv(ne[1]||"",ie);return ne[0]+"?"+oe}function oC(r){let e=(r.match(/^[^:]+(?=:\/\/)/gi)||[])[0];const t=typeof e<"u"?r.split("://")[1]:r;return e=e==="wss"?"https":"http",[e,t].join("://")}function aC(r,e,t){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function Jv(r,e=kh){return Yv(r.split(Bv),e)}function cC(r){return Jv(r).join(Lu)}function us(r,e){return r.filter(t=>e.includes(t)).length===r.length}function Yv(r,e=kh){return r.slice(Math.max(r.length-e,0))}function qh(r){return Object.fromEntries(r.entries())}function Gh(r){return new Map(Object.entries(r))}function uC(r,e){const t={};return Object.keys(r).forEach(a=>{t[a]=e(r[a])}),t}const fC=r=>r;function Qv(r){return r.trim().replace(/^\w/,e=>e.toUpperCase())}function lC(r){return r.split(Lu).map(e=>Qv(e)).join(Lu)}function zs(r=Et.FIVE_MINUTES,e){const t=(0,Et.toMiliseconds)(r||Et.FIVE_MINUTES);let a,f,p;return{resolve:D=>{p&&a&&(clearTimeout(p),a(D))},reject:D=>{p&&f&&(clearTimeout(p),f(D))},done:()=>new Promise((D,K)=>{p=setTimeout(()=>{K(new Error(e))},t),a=D,f=K})}}function Io(r,e,t){return new Promise(async(a,f)=>{const p=setTimeout(()=>f(new Error(t)),e);try{const D=await r;a(D)}catch(D){f(D)}clearTimeout(p)})}function Jh(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function Xv(r){return Jh("topic",r)}function Zv(r){return Jh("id",r)}function Yh(r){const[e,t]=r.split(":"),a={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")a.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))a.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return a}function vn(r,e){return(0,Et.fromMiliseconds)((e||Date.now())+(0,Et.toMiliseconds)(r))}function Bi(r){return Date.now()>=(0,Et.toMiliseconds)(r)}function vr(r,e){return`${r}${e?`:${e}`:""}`}function fs(r=[],e=[]){return[...new Set([...r,...e])]}async function e1({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;const a=typeof t=="string"?JSON.parse(t):t;let f=a==null?void 0:a.href;if(typeof f!="string")return;f.endsWith("/")&&(f=f.slice(0,-1));const p=`${f}/wc?requestId=${r}&sessionTopic=${e}`,D=Bs();D===fn.browser?p.startsWith("https://")?window.open(p,"_blank","noreferrer noopener"):window.open(p,"_self","noreferrer noopener"):D===fn.reactNative&&typeof(T.g==null?void 0:T.g.Linking)<"u"&&await T.g.Linking.openURL(p)}catch(a){console.error(a)}}async function t1(r,e){try{return await r.getItem(e)||($s()?localStorage.getItem(e):void 0)}catch(t){console.error(t)}}const r1="irn";function $u(r){return(r==null?void 0:r.relay)||{protocol:r1}}function Aa(r){const e=Rs[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var n1=Object.defineProperty,i1=Object.defineProperties,s1=Object.getOwnPropertyDescriptors,Qh=Object.getOwnPropertySymbols,o1=Object.prototype.hasOwnProperty,a1=Object.prototype.propertyIsEnumerable,Xh=(r,e,t)=>e in r?n1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,c1=(r,e)=>{for(var t in e||(e={}))o1.call(e,t)&&Xh(r,t,e[t]);if(Qh)for(var t of Qh(e))a1.call(e,t)&&Xh(r,t,e[t]);return r},u1=(r,e)=>i1(r,s1(e));function f1(r,e="-"){const t={},a="relay"+e;return Object.keys(r).forEach(f=>{if(f.startsWith(a)){const p=f.replace(a,""),D=r[f];t[p]=D}}),t}function Zh(r){r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,a=r.substring(0,e),f=r.substring(e+1,t).split("@"),p=typeof t<"u"?r.substring(t):"",D=Sa.parse(p);return{protocol:a,topic:l1(f[0]),version:parseInt(f[1],10),symKey:D.symKey,relay:f1(D),expiryTimestamp:D.expiryTimestamp?parseInt(D.expiryTimestamp,10):void 0}}function l1(r){return r.startsWith("//")?r.substring(2):r}function h1(r,e="-"){const t="relay",a={};return Object.keys(r).forEach(f=>{const p=t+e+f;r[f]&&(a[p]=r[f])}),a}function d1(r){return`${r.protocol}:${r.topic}@${r.version}?`+Sa.stringify(u1(c1({symKey:r.symKey},h1(r.relay)),{expiryTimestamp:r.expiryTimestamp}))}var p1=Object.defineProperty,g1=Object.defineProperties,_1=Object.getOwnPropertyDescriptors,ed=Object.getOwnPropertySymbols,y1=Object.prototype.hasOwnProperty,m1=Object.prototype.propertyIsEnumerable,td=(r,e,t)=>e in r?p1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,v1=(r,e)=>{for(var t in e||(e={}))y1.call(e,t)&&td(r,t,e[t]);if(ed)for(var t of ed(e))m1.call(e,t)&&td(r,t,e[t]);return r},w1=(r,e)=>g1(r,_1(e));function Hs(r){const e=[];return r.forEach(t=>{const[a,f]=t.split(":");e.push(`${a}:${f}`)}),e}function b1(r){const e=[];return Object.values(r).forEach(t=>{e.push(...Hs(t.accounts))}),e}function E1(r,e){const t=[];return Object.values(r).forEach(a=>{Hs(a.accounts).includes(e)&&t.push(...a.methods)}),t}function x1(r,e){const t=[];return Object.values(r).forEach(a=>{Hs(a.accounts).includes(e)&&t.push(...a.events)}),t}function hC(r,e){const t=Ca(r,e);if(t)throw new Error(t.message);const a={};for(const[f,p]of Object.entries(r))a[f]={methods:p.methods,events:p.events,chains:p.accounts.map(D=>`${D.split(":")[0]}:${D.split(":")[1]}`)};return a}function dC(r){const{proposal:{requiredNamespaces:e,optionalNamespaces:t={}},supportedNamespaces:a}=r,f=nd(e),p=nd(t),D={};Object.keys(a).forEach(B=>{const ie=a[B].chains,oe=a[B].methods,He=a[B].events,st=a[B].accounts;ie.forEach($e=>{if(!st.some(et=>et.includes($e)))throw new Error(`No accounts provided for chain ${$e} in namespace ${B}`)}),D[B]={chains:ie,methods:oe,events:He,accounts:st}});const K=zu(e,D,"approve()");if(K)throw new Error(K.message);const ne={};return!Object.keys(e).length&&!Object.keys(t).length?D:(Object.keys(f).forEach(B=>{const ie=a[B].chains.filter($e=>{var et,ct;return(ct=(et=f[B])==null?void 0:et.chains)==null?void 0:ct.includes($e)}),oe=a[B].methods.filter($e=>{var et,ct;return(ct=(et=f[B])==null?void 0:et.methods)==null?void 0:ct.includes($e)}),He=a[B].events.filter($e=>{var et,ct;return(ct=(et=f[B])==null?void 0:et.events)==null?void 0:ct.includes($e)}),st=ie.map($e=>a[B].accounts.filter(et=>et.includes(`${$e}:`))).flat();ne[B]={chains:ie,methods:oe,events:He,accounts:st}}),Object.keys(p).forEach(B=>{var ie,oe,He,st,$e,et;if(!a[B])return;const ct=(oe=(ie=p[B])==null?void 0:ie.chains)==null?void 0:oe.filter(mt=>a[B].chains.includes(mt)),xt=a[B].methods.filter(mt=>{var _t,Ot;return(Ot=(_t=p[B])==null?void 0:_t.methods)==null?void 0:Ot.includes(mt)}),$t=a[B].events.filter(mt=>{var _t,Ot;return(Ot=(_t=p[B])==null?void 0:_t.events)==null?void 0:Ot.includes(mt)}),Pt=ct==null?void 0:ct.map(mt=>a[B].accounts.filter(_t=>_t.includes(`${mt}:`))).flat();ne[B]={chains:fs((He=ne[B])==null?void 0:He.chains,ct),methods:fs((st=ne[B])==null?void 0:st.methods,xt),events:fs(($e=ne[B])==null?void 0:$e.events,$t),accounts:fs((et=ne[B])==null?void 0:et.accounts,Pt)}}),ne)}function rd(r){return r.includes(":")}function I1(r){return rd(r)?r.split(":")[0]:r}function nd(r){var e,t,a;const f={};if(!Do(r))return f;for(const[p,D]of Object.entries(r)){const K=rd(p)?[p]:D.chains,ne=D.methods||[],B=D.events||[],ie=I1(p);f[ie]=w1(v1({},f[ie]),{chains:fs(K,(e=f[ie])==null?void 0:e.chains),methods:fs(ne,(t=f[ie])==null?void 0:t.methods),events:fs(B,(a=f[ie])==null?void 0:a.events)})}return f}const S1={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},D1={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function at(r,e){const{message:t,code:a}=D1[r];return{message:e?`${t} ${e}`:t,code:a}}function wr(r,e){const{message:t,code:a}=S1[r];return{message:e?`${t} ${e}`:t,code:a}}function So(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function Do(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function Qr(r){return typeof r>"u"}function Ur(r,e){return e&&Qr(r)?!0:typeof r=="string"&&!!r.trim().length}function Bu(r,e){return e&&Qr(r)?!0:typeof r=="number"&&!isNaN(r)}function O1(r,e){const{requiredNamespaces:t}=e,a=Object.keys(r.namespaces),f=Object.keys(t);let p=!0;return us(f,a)?(a.forEach(D=>{const{accounts:K,methods:ne,events:B}=r.namespaces[D],ie=Hs(K),oe=t[D];(!us(Cu(D,oe),ie)||!us(oe.methods,ne)||!us(oe.events,B))&&(p=!1)}),p):!1}function Pa(r){return Ur(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function A1(r){if(Ur(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&Pa(t)}}return!1}function P1(r){if(Ur(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function C1(r){var e;return(e=r==null?void 0:r.proposer)==null?void 0:e.publicKey}function N1(r){return r==null?void 0:r.topic}function T1(r,e){let t=null;return Ur(r==null?void 0:r.publicKey,!1)||(t=at("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function id(r){let e=!0;return So(r)?r.length&&(e=r.every(t=>Ur(t,!1))):e=!1,e}function R1(r,e,t){let a=null;return So(e)&&e.length?e.forEach(f=>{a||Pa(f)||(a=wr("UNSUPPORTED_CHAINS",`${t}, chain ${f} should be a string and conform to "namespace:chainId" format`))}):Pa(r)||(a=wr("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),a}function F1(r,e,t){let a=null;return Object.entries(r).forEach(([f,p])=>{if(a)return;const D=R1(f,Cu(f,p),`${e} ${t}`);D&&(a=D)}),a}function U1(r,e){let t=null;return So(r)?r.forEach(a=>{t||A1(a)||(t=wr("UNSUPPORTED_ACCOUNTS",`${e}, account ${a} should be a string and conform to "namespace:chainId:address" format`))}):t=wr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function j1(r,e){let t=null;return Object.values(r).forEach(a=>{if(t)return;const f=U1(a==null?void 0:a.accounts,`${e} namespace`);f&&(t=f)}),t}function L1(r,e){let t=null;return id(r==null?void 0:r.methods)?id(r==null?void 0:r.events)||(t=wr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=wr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function sd(r,e){let t=null;return Object.values(r).forEach(a=>{if(t)return;const f=L1(a,`${e}, namespace`);f&&(t=f)}),t}function M1(r,e,t){let a=null;if(r&&Do(r)){const f=sd(r,e);f&&(a=f);const p=F1(r,e,t);p&&(a=p)}else a=at("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return a}function Ca(r,e){let t=null;if(r&&Do(r)){const a=sd(r,e);a&&(t=a);const f=j1(r,e);f&&(t=f)}else t=at("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function od(r){return Ur(r.protocol,!0)}function $1(r,e){let t=!1;return e&&!r?t=!0:r&&So(r)&&r.length&&r.forEach(a=>{t=od(a)}),t}function B1(r){return typeof r=="number"}function ln(r){return typeof r<"u"&&typeof r!==null}function z1(r){return!(!r||typeof r!="object"||!r.code||!Bu(r.code,!1)||!r.message||!Ur(r.message,!1))}function H1(r){return!(Qr(r)||!Ur(r.method,!1))}function K1(r){return!(Qr(r)||Qr(r.result)&&Qr(r.error)||!Bu(r.id,!1)||!Ur(r.jsonrpc,!1))}function V1(r){return!(Qr(r)||!Ur(r.name,!1))}function ad(r,e){return!(!Pa(e)||!b1(r).includes(e))}function W1(r,e,t){return Ur(t,!1)?E1(r,e).includes(t):!1}function k1(r,e,t){return Ur(t,!1)?x1(r,e).includes(t):!1}function zu(r,e,t){let a=null;const f=q1(r),p=G1(e),D=Object.keys(f),K=Object.keys(p),ne=cd(Object.keys(r)),B=cd(Object.keys(e)),ie=ne.filter(oe=>!B.includes(oe));return ie.length&&(a=at("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${ie.toString()}
      Received: ${Object.keys(e).toString()}`)),us(D,K)||(a=at("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${D.toString()}
      Approved: ${K.toString()}`)),Object.keys(e).forEach(oe=>{if(!oe.includes(":")||a)return;const He=Hs(e[oe].accounts);He.includes(oe)||(a=at("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${oe}
        Required: ${oe}
        Approved: ${He.toString()}`))}),D.forEach(oe=>{a||(us(f[oe].methods,p[oe].methods)?us(f[oe].events,p[oe].events)||(a=at("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${oe}`)):a=at("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${oe}`))}),a}function q1(r){const e={};return Object.keys(r).forEach(t=>{var a;t.includes(":")?e[t]=r[t]:(a=r[t].chains)==null||a.forEach(f=>{e[f]={methods:r[t].methods,events:r[t].events}})}),e}function cd(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function G1(r){const e={};return Object.keys(r).forEach(t=>{if(t.includes(":"))e[t]=r[t];else{const a=Hs(r[t].accounts);a==null||a.forEach(f=>{e[f]={accounts:r[t].accounts.filter(p=>p.includes(`${f}:`)),methods:r[t].methods,events:r[t].events}})}}),e}function J1(r,e){return Bu(r,!1)&&r<=e.max&&r>=e.min}function ud(){const r=Bs();return new Promise(e=>{switch(r){case fn.browser:e(Y1());break;case fn.reactNative:e(Q1());break;case fn.node:e(X1());break;default:e(!0)}})}function Y1(){return $s()&&(navigator==null?void 0:navigator.onLine)}async function Q1(){if(Ms()&&typeof T.g<"u"&&T.g!=null&&T.g.NetInfo){const r=await(T.g==null?void 0:T.g.NetInfo.fetch());return r==null?void 0:r.isConnected}return!0}function X1(){return!0}function Z1(r){switch(Bs()){case fn.browser:ew(r);break;case fn.reactNative:tw(r);break;case fn.node:break}}function ew(r){!Ms()&&$s()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function tw(r){var e;Ms()&&typeof T.g<"u"&&T.g!=null&&T.g.NetInfo&&((e=T.g)==null||e.NetInfo.addEventListener(t=>r(t==null?void 0:t.isConnected)))}const Hu={};class Na{static get(e){return Hu[e]}static set(e,t){Hu[e]=t}static delete(e){delete Hu[e]}}const rw="PARSE_ERROR",nw="INVALID_REQUEST",iw="METHOD_NOT_FOUND",sw="INVALID_PARAMS",fd="INTERNAL_ERROR",Ku="SERVER_ERROR",ow=[-32700,-32600,-32601,-32602,-32603],pC=null,Oo={[rw]:{code:-32700,message:"Parse error"},[nw]:{code:-32600,message:"Invalid Request"},[iw]:{code:-32601,message:"Method not found"},[sw]:{code:-32602,message:"Invalid params"},[fd]:{code:-32603,message:"Internal error"},[Ku]:{code:-32e3,message:"Server error"}},ld=Ku;function gC(r){return r<=SERVER_ERROR_CODE_RANGE[0]&&r>=SERVER_ERROR_CODE_RANGE[1]}function hd(r){return ow.includes(r)}function aw(r){return typeof r=="number"}function dd(r){return Object.keys(Oo).includes(r)?Oo[r]:Oo[ld]}function pd(r){const e=Object.values(Oo).find(t=>t.code===r);return e||Oo[ld]}function _C(r){if(typeof r.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof r.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!aw(r.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${r.error.code}`};if(hd(r.error.code)){const e=pd(r.error.code);if(e.message!==STANDARD_ERROR_MAP[DEFAULT_ERROR].message&&r.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${r.error.code}`}}return{valid:!0}}function gd(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var cw=T(1468);const yC=null;function Vu(r=3){const e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function _d(r=6){return BigInt(Vu(r))}function Ks(r,e,t){return{id:t||Vu(),jsonrpc:"2.0",method:r,params:e}}function Ta(r,e){return{id:r,jsonrpc:"2.0",result:e}}function Ra(r,e,t){return{id:r,jsonrpc:"2.0",error:uw(e,t)}}function uw(r,e){return typeof r>"u"?dd(fd):(typeof r=="string"&&(r=Object.assign(Object.assign({},dd(Ku)),{message:r})),typeof e<"u"&&(r.data=e),hd(r.code)&&(r=pd(r.code)),r)}class fw{}class mC extends null{constructor(e){super()}}class lw extends fw{constructor(){super()}}class hw extends lw{constructor(e){super()}}const dw="^https?:",pw="^wss?:";function gw(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function yd(r,e){const t=gw(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function md(r){return yd(r,dw)}function vd(r){return yd(r,pw)}function _w(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function wd(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function Wu(r){return wd(r)&&"method"in r}function Fa(r){return wd(r)&&(yi(r)||Yn(r))}function yi(r){return"result"in r}function Yn(r){return"error"in r}function vC(r){return"error"in r&&r.valid===!1}class mi extends hw{constructor(e){super(e),this.events=new re.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Ks(e.method,e.params||[],e.id||_d().toString()),t)}async requestStrict(e,t){return new Promise(async(a,f)=>{if(!this.connection.connected)try{await this.open()}catch(p){f(p)}this.events.on(`${e.id}`,p=>{Yn(p)?f(p.error):a(p.result)});try{await this.connection.send(e,t)}catch(p){f(p)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Fa(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}var wC=null,bC=null;const yw=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),mw=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(a,f)=>typeof f=="string"&&f.match(/^\d+n$/)?BigInt(f.substring(0,f.length-1)):f)};function vw(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return mw(r)}catch{return r}}function ww(r){return typeof r=="string"?r:yw(r)||""}const bw=()=>typeof WebSocket<"u"?WebSocket:typeof T.g<"u"&&typeof T.g.WebSocket<"u"?T.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:T(57026),Ew=()=>typeof WebSocket<"u"||typeof T.g<"u"&&typeof T.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",bd=r=>r.split("?")[0],Ed=10,xw=bw();class Iw{constructor(e){if(this.url=e,this.events=new re.EventEmitter,this.registering=!1,!vd(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=a=>{this.onClose(a),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ww(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!vd(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((a,f)=>{this.events.once("register_error",p=>{this.resetMaxListeners(),f(p)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return f(new Error("WebSocket connection is missing or invalid"));a(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,a)=>{const f=new URLSearchParams(e).get("origin"),p=(0,cw.isReactNative)()?{headers:{origin:f}}:{rejectUnauthorized:!_w(e)},D=new xw(e,[],p);Ew()?D.onerror=K=>{const ne=K;a(this.emitError(ne.error))}:D.on("error",K=>{a(this.emitError(K))}),D.onopen=()=>{this.onOpen(D),t(D)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?vw(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const a=this.parseError(t),f=a.message||a.toString(),p=Ra(e,f);this.events.emit("payload",p)}parseError(e,t=this.url){return gd(e,bd(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Ed&&this.events.setMaxListeners(Ed)}emitError(e){const t=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${bd(this.url)}`));return this.events.emit("register_error",t),t}}var Sw=T(72307),Dw=T.n(Sw),Ow=T(28550),Aw=T.n(Ow);function Pw(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),a=0;a<t.length;a++)t[a]=255;for(var f=0;f<r.length;f++){var p=r.charAt(f),D=p.charCodeAt(0);if(t[D]!==255)throw new TypeError(p+" is ambiguous");t[D]=f}var K=r.length,ne=r.charAt(0),B=Math.log(K)/Math.log(256),ie=Math.log(256)/Math.log(K);function oe($e){if($e instanceof Uint8Array||(ArrayBuffer.isView($e)?$e=new Uint8Array($e.buffer,$e.byteOffset,$e.byteLength):Array.isArray($e)&&($e=Uint8Array.from($e))),!($e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($e.length===0)return"";for(var et=0,ct=0,xt=0,$t=$e.length;xt!==$t&&$e[xt]===0;)xt++,et++;for(var Pt=($t-xt)*ie+1>>>0,mt=new Uint8Array(Pt);xt!==$t;){for(var _t=$e[xt],Ot=0,qt=Pt-1;(_t!==0||Ot<ct)&&qt!==-1;qt--,Ot++)_t+=256*mt[qt]>>>0,mt[qt]=_t%K>>>0,_t=_t/K>>>0;if(_t!==0)throw new Error("Non-zero carry");ct=Ot,xt++}for(var rr=Pt-ct;rr!==Pt&&mt[rr]===0;)rr++;for(var bn=ne.repeat(et);rr<Pt;++rr)bn+=r.charAt(mt[rr]);return bn}function He($e){if(typeof $e!="string")throw new TypeError("Expected String");if($e.length===0)return new Uint8Array;var et=0;if($e[et]!==" "){for(var ct=0,xt=0;$e[et]===ne;)ct++,et++;for(var $t=($e.length-et)*B+1>>>0,Pt=new Uint8Array($t);$e[et];){var mt=t[$e.charCodeAt(et)];if(mt===255)return;for(var _t=0,Ot=$t-1;(mt!==0||_t<xt)&&Ot!==-1;Ot--,_t++)mt+=K*Pt[Ot]>>>0,Pt[Ot]=mt%256>>>0,mt=mt/256>>>0;if(mt!==0)throw new Error("Non-zero carry");xt=_t,et++}if($e[et]!==" "){for(var qt=$t-xt;qt!==$t&&Pt[qt]===0;)qt++;for(var rr=new Uint8Array(ct+($t-qt)),bn=ct;qt!==$t;)rr[bn++]=Pt[qt++];return rr}}}function st($e){var et=He($e);if(et)return et;throw new Error(`Non-${e} character`)}return{encode:oe,decodeUnsafe:He,decode:st}}var Cw=Pw,Nw=Cw;const xd=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Tw=r=>new TextEncoder().encode(r),Rw=r=>new TextDecoder().decode(r);class Fw{constructor(e,t,a){this.name=e,this.prefix=t,this.baseEncode=a}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Uw{constructor(e,t,a){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=a}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Id(this,e)}}class jw{constructor(e){this.decoders=e}or(e){return Id(this,e)}decode(e){const t=e[0],a=this.decoders[t];if(a)return a.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Id=(r,e)=>new jw({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class Lw{constructor(e,t,a,f){this.name=e,this.prefix=t,this.baseEncode=a,this.baseDecode=f,this.encoder=new Fw(e,t,a),this.decoder=new Uw(e,t,f)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ua=({name:r,prefix:e,encode:t,decode:a})=>new Lw(r,e,t,a),Ao=({prefix:r,name:e,alphabet:t})=>{const{encode:a,decode:f}=Nw(t,e);return Ua({prefix:r,name:e,encode:a,decode:p=>xd(f(p))})},Mw=(r,e,t,a)=>{const f={};for(let ie=0;ie<e.length;++ie)f[e[ie]]=ie;let p=r.length;for(;r[p-1]==="=";)--p;const D=new Uint8Array(p*t/8|0);let K=0,ne=0,B=0;for(let ie=0;ie<p;++ie){const oe=f[r[ie]];if(oe===void 0)throw new SyntaxError(`Non-${a} character`);ne=ne<<t|oe,K+=t,K>=8&&(K-=8,D[B++]=255&ne>>K)}if(K>=t||255&ne<<8-K)throw new SyntaxError("Unexpected end of data");return D},$w=(r,e,t)=>{const a=e[e.length-1]==="=",f=(1<<t)-1;let p="",D=0,K=0;for(let ne=0;ne<r.length;++ne)for(K=K<<8|r[ne],D+=8;D>t;)D-=t,p+=e[f&K>>D];if(D&&(p+=e[f&K<<t-D]),a)for(;p.length*t&7;)p+="=";return p},Br=({name:r,prefix:e,bitsPerChar:t,alphabet:a})=>Ua({prefix:e,name:r,encode(f){return $w(f,a,t)},decode(f){return Mw(f,a,t,r)}}),Bw=Ua({prefix:"\0",name:"identity",encode:r=>Rw(r),decode:r=>Tw(r)});var zw=Object.freeze({__proto__:null,identity:Bw});const Hw=Br({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Kw=Object.freeze({__proto__:null,base2:Hw});const Vw=Br({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ww=Object.freeze({__proto__:null,base8:Vw});const kw=Ao({prefix:"9",name:"base10",alphabet:"0123456789"});var qw=Object.freeze({__proto__:null,base10:kw});const Gw=Br({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Jw=Br({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Yw=Object.freeze({__proto__:null,base16:Gw,base16upper:Jw});const Qw=Br({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xw=Br({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Zw=Br({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eb=Br({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tb=Br({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rb=Br({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),nb=Br({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ib=Br({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),sb=Br({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ob=Object.freeze({__proto__:null,base32:Qw,base32upper:Xw,base32pad:Zw,base32padupper:eb,base32hex:tb,base32hexupper:rb,base32hexpad:nb,base32hexpadupper:ib,base32z:sb});const ab=Ao({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),cb=Ao({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ub=Object.freeze({__proto__:null,base36:ab,base36upper:cb});const fb=Ao({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lb=Ao({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var hb=Object.freeze({__proto__:null,base58btc:fb,base58flickr:lb});const db=Br({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pb=Br({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gb=Br({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_b=Br({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var yb=Object.freeze({__proto__:null,base64:db,base64pad:pb,base64url:gb,base64urlpad:_b});const Sd=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),mb=Sd.reduce((r,e,t)=>(r[t]=e,r),[]),vb=Sd.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function wb(r){return r.reduce((e,t)=>(e+=mb[t],e),"")}function bb(r){const e=[];for(const t of r){const a=vb[t.codePointAt(0)];if(a===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(a)}return new Uint8Array(e)}const Eb=Ua({prefix:"\u{1F680}",name:"base256emoji",encode:wb,decode:bb});var xb=Object.freeze({__proto__:null,base256emoji:Eb}),Ib=Od,Dd=128,Sb=127,Db=~Sb,Ob=Math.pow(2,31);function Od(r,e,t){e=e||[],t=t||0;for(var a=t;r>=Ob;)e[t++]=r&255|Dd,r/=128;for(;r&Db;)e[t++]=r&255|Dd,r>>>=7;return e[t]=r|0,Od.bytes=t-a+1,e}var Ab=ku,Pb=128,Ad=127;function ku(r,a){var t=0,a=a||0,f=0,p=a,D,K=r.length;do{if(p>=K)throw ku.bytes=0,new RangeError("Could not decode varint");D=r[p++],t+=f<28?(D&Ad)<<f:(D&Ad)*Math.pow(2,f),f+=7}while(D>=Pb);return ku.bytes=p-a,t}var Cb=Math.pow(2,7),Nb=Math.pow(2,14),Tb=Math.pow(2,21),Rb=Math.pow(2,28),Fb=Math.pow(2,35),Ub=Math.pow(2,42),jb=Math.pow(2,49),Lb=Math.pow(2,56),Mb=Math.pow(2,63),$b=function(r){return r<Cb?1:r<Nb?2:r<Tb?3:r<Rb?4:r<Fb?5:r<Ub?6:r<jb?7:r<Lb?8:r<Mb?9:10},Bb={encode:Ib,decode:Ab,encodingLength:$b},Pd=Bb;const Cd=(r,e,t=0)=>(Pd.encode(r,e,t),e),Nd=r=>Pd.encodingLength(r),qu=(r,e)=>{const t=e.byteLength,a=Nd(r),f=a+Nd(t),p=new Uint8Array(f+t);return Cd(r,p,0),Cd(t,p,a),p.set(e,f),new zb(r,t,e,p)};class zb{constructor(e,t,a,f){this.code=e,this.size=t,this.digest=a,this.bytes=f}}const Td=({name:r,code:e,encode:t})=>new Hb(r,e,t);class Hb{constructor(e,t,a){this.name=e,this.code=t,this.encode=a}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?qu(this.code,t):t.then(a=>qu(this.code,a))}else throw Error("Unknown type, must be binary type")}}const Rd=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),Kb=Td({name:"sha2-256",code:18,encode:Rd("SHA-256")}),Vb=Td({name:"sha2-512",code:19,encode:Rd("SHA-512")});var Wb=Object.freeze({__proto__:null,sha256:Kb,sha512:Vb});const Fd=0,kb="identity",Ud=xd;var qb=Object.freeze({__proto__:null,identity:{code:Fd,name:kb,encode:Ud,digest:r=>qu(Fd,Ud(r))}});new TextEncoder,new TextDecoder;const jd={...zw,...Kw,...Ww,...qw,...Yw,...ob,...ub,...hb,...yb,...xb};({...Wb,...qb});function Ld(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Gb(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Ld(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Md(r,e,t,a){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:a}}}const $d=Md("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Gu=Md("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Gb(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Jb={utf8:$d,"utf-8":$d,hex:jd.base16,latin1:Gu,ascii:Gu,binary:Gu,...jd};function Yb(r,e="utf8"){const t=Jb[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Ld(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}const Bd="wc",Qb=2,Ju="core",zi=`${Bd}@2:${Ju}:`,Xb={name:Ju,logger:"error"},Zb={database:":memory:"},eE="crypto",zd="client_ed25519_seed",tE=Et.ONE_DAY,rE="keychain",nE="0.3",iE="messages",sE="0.3",oE=Et.SIX_HOURS,aE="publisher",Hd="irn",cE="error",Kd="wss://relay.walletconnect.com",Vd="wss://relay.walletconnect.org",uE="relayer",Wr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},fE="_subscription",vi={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},lE=Et.ONE_SECOND,IC={database:":memory:"},hE="2.11.2",dE=1e4,pE="0.3",gE="WALLETCONNECT_CLIENT_ID",Qn={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},SC=null,_E="subscription",yE="0.3",mE=Et.FIVE_SECONDS*1e3,vE="pairing",wE="0.3",DC=null,Po={wc_pairingDelete:{req:{ttl:Et.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Et.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Et.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Et.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Et.ONE_DAY,prompt:!1,tag:0},res:{ttl:Et.ONE_DAY,prompt:!1,tag:0}}},Co={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ai={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},bE="history",EE="0.3",xE="expirer",jn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},IE="0.3",OC=null,Yu="verify-api",Vs="https://verify.walletconnect.com",Qu="https://verify.walletconnect.org",SE=[Vs,Qu],DE="echo",OE="https://echo.walletconnect.com";class AE{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=rE,this.version=nE,this.initialized=!1,this.storagePrefix=zi,this.init=async()=>{if(!this.initialized){const a=await this.getKeyChain();typeof a<"u"&&(this.keychain=a),this.initialized=!0}},this.has=a=>(this.isInitialized(),this.keychain.has(a)),this.set=async(a,f)=>{this.isInitialized(),this.keychain.set(a,f),await this.persist()},this.get=a=>{this.isInitialized();const f=this.keychain.get(a);if(typeof f>"u"){const{message:p}=at("NO_MATCHING_KEY",`${this.name}: ${a}`);throw new Error(p)}return f},this.del=async a=>{this.isInitialized(),this.keychain.delete(a),await this.persist()},this.core=e,this.logger=un(t,this.name)}get context(){return cn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,qh(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Gh(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}class PE{constructor(e,t,a){this.core=e,this.logger=t,this.name=eE,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=f=>(this.isInitialized(),this.keychain.has(f)),this.getClientId=async()=>{this.isInitialized();const f=await this.getClientSeed(),p=Ch(f);return Ph(p.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const f=Av();return this.setPrivateKey(f.publicKey,f.privateKey)},this.signJWT=async f=>{this.isInitialized();const p=await this.getClientSeed(),D=Ch(p),K=ju();return await sv(K,f,tE,D)},this.generateSharedKey=(f,p,D)=>{this.isInitialized();const K=this.getPrivateKey(f),ne=Pv(K,p);return this.setSymKey(ne,D)},this.setSymKey=async(f,p)=>{this.isInitialized();const D=p||Cv(f);return await this.keychain.set(D,f),D},this.deleteKeyPair=async f=>{this.isInitialized(),await this.keychain.del(f)},this.deleteSymKey=async f=>{this.isInitialized(),await this.keychain.del(f)},this.encode=async(f,p,D)=>{this.isInitialized();const K=zh(D),ne=Du(p);if(Hh(K)){const He=K.senderPublicKey,st=K.receiverPublicKey;f=await this.generateSharedKey(He,st)}const B=this.getSymKey(f),{type:ie,senderPublicKey:oe}=K;return Tv({type:ie,symKey:B,message:ne,senderPublicKey:oe})},this.decode=async(f,p,D)=>{this.isInitialized();const K=Uv(p,D);if(Hh(K)){const ne=K.receiverPublicKey,B=K.senderPublicKey;f=await this.generateSharedKey(ne,B)}try{const ne=this.getSymKey(f),B=Rv({symKey:ne,encoded:p});return Su(B)}catch(ne){this.logger.error(`Failed to decode message from topic: '${f}', clientId: '${await this.getClientId()}'`),this.logger.error(ne)}},this.getPayloadType=f=>{const p=Oa(f);return xo(p.type)},this.getPayloadSenderPublicKey=f=>{const p=Oa(f);return p.senderPublicKey?Rr(p.senderPublicKey,Yr):void 0},this.core=e,this.logger=un(t,this.name),this.keychain=a||new AE(this.core,this.logger)}get context(){return cn(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(zd)}catch{e=ju(),await this.keychain.set(zd,e)}return Yb(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}class CE extends Tm{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=iE,this.version=sE,this.initialized=!1,this.storagePrefix=zi,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const a=await this.getRelayerMessages();typeof a<"u"&&(this.messages=a),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(a){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(a)}finally{this.initialized=!0}}},this.set=async(a,f)=>{this.isInitialized();const p=Ls(f);let D=this.messages.get(a);return typeof D>"u"&&(D={}),typeof D[p]<"u"||(D[p]=f,this.messages.set(a,D),await this.persist()),p},this.get=a=>{this.isInitialized();let f=this.messages.get(a);return typeof f>"u"&&(f={}),f},this.has=(a,f)=>{this.isInitialized();const p=this.get(a),D=Ls(f);return typeof p[D]<"u"},this.del=async a=>{this.isInitialized(),this.messages.delete(a),await this.persist()},this.logger=un(e,this.name),this.core=t}get context(){return cn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,qh(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Gh(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}class NE extends Rm{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new re.EventEmitter,this.name=aE,this.queue=new Map,this.publishTimeout=(0,Et.toMiliseconds)(Et.TEN_SECONDS*2),this.needsTransportRestart=!1,this.publish=async(a,f,p)=>{var D;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:a,message:f,opts:p}});try{const K=(p==null?void 0:p.ttl)||oE,ne=$u(p),B=(p==null?void 0:p.prompt)||!1,ie=(p==null?void 0:p.tag)||0,oe=(p==null?void 0:p.id)||_d().toString(),He={topic:a,message:f,opts:{ttl:K,relay:ne,prompt:B,tag:ie,id:oe}},st=setTimeout(()=>this.queue.set(oe,He),this.publishTimeout);try{await await Io(this.rpcPublish(a,f,K,ne,B,ie,oe),this.publishTimeout,`Failed to publish payload, please try again. id:${oe} tag:${ie}`),this.removeRequestFromQueue(oe),this.relayer.events.emit(Wr.publish,He)}catch($e){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(D=p==null?void 0:p.internal)!=null&&D.throwOnFailedPublish)throw this.removeRequestFromQueue(oe),$e;return}finally{clearTimeout(st)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:a,message:f,opts:p}})}catch(K){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(K),K}},this.on=(a,f)=>{this.events.on(a,f)},this.once=(a,f)=>{this.events.once(a,f)},this.off=(a,f)=>{this.events.off(a,f)},this.removeListener=(a,f)=>{this.events.removeListener(a,f)},this.relayer=e,this.logger=un(t,this.name),this.registerEventListeners()}get context(){return cn(this.logger)}rpcPublish(e,t,a,f,p,D,K){var ne,B,ie,oe;const He={method:Aa(f.protocol).publish,params:{topic:e,message:t,ttl:a,prompt:p,tag:D},id:K};return Qr((ne=He.params)==null?void 0:ne.prompt)&&((B=He.params)==null||delete B.prompt),Qr((ie=He.params)==null?void 0:ie.tag)&&((oe=He.params)==null||delete oe.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:He}),this.relayer.request(He)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:t,message:a,opts:f}=e;await this.publish(t,a,f)})}registerEventListeners(){this.relayer.core.heartbeat.on(wo.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Wr.connection_stalled);return}this.checkQueue()}),this.relayer.on(Wr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class TE{constructor(){this.map=new Map,this.set=(e,t)=>{const a=this.get(e);this.exists(e,t)||this.map.set(e,[...a,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const a=this.get(e);if(!this.exists(e,t))return;const f=a.filter(p=>p!==t);if(!f.length){this.map.delete(e);return}this.map.set(e,f)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var RE=Object.defineProperty,FE=Object.defineProperties,UE=Object.getOwnPropertyDescriptors,Wd=Object.getOwnPropertySymbols,jE=Object.prototype.hasOwnProperty,LE=Object.prototype.propertyIsEnumerable,kd=(r,e,t)=>e in r?RE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,No=(r,e)=>{for(var t in e||(e={}))jE.call(e,t)&&kd(r,t,e[t]);if(Wd)for(var t of Wd(e))LE.call(e,t)&&kd(r,t,e[t]);return r},Xu=(r,e)=>FE(r,UE(e));class ME extends jm{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new TE,this.events=new re.EventEmitter,this.name=_E,this.version=yE,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=zi,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(a,f)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:a,opts:f}});try{const p=$u(f),D={topic:a,relay:p};this.pending.set(a,D);const K=await this.rpcSubscribe(a,p);return this.onSubscribe(K,D),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:a,opts:f}}),K}catch(p){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(p),p}},this.unsubscribe=async(a,f)=>{await this.restartToComplete(),this.isInitialized(),typeof(f==null?void 0:f.id)<"u"?await this.unsubscribeById(a,f.id,f):await this.unsubscribeByTopic(a,f)},this.isSubscribed=async a=>{if(this.topics.includes(a))return!0;const f=`${this.pendingSubscriptionWatchLabel}_${a}`;return await new Promise((p,D)=>{const K=new Et.Watch;K.start(f);const ne=setInterval(()=>{!this.pending.has(a)&&this.topics.includes(a)&&(clearInterval(ne),K.stop(f),p(!0)),K.elapsed(f)>=mE&&(clearInterval(ne),K.stop(f),D(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(a,f)=>{this.events.on(a,f)},this.once=(a,f)=>{this.events.once(a,f)},this.off=(a,f)=>{this.events.off(a,f)},this.removeListener=(a,f)=>{this.events.removeListener(a,f)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=un(t,this.name),this.clientId=""}get context(){return cn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let a=!1;try{a=this.getSubscription(e).topic===t}catch{}return a}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const a=this.topicMap.get(e);await Promise.all(a.map(async f=>await this.unsubscribeById(e,f,t)))}async unsubscribeById(e,t,a){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:a}});try{const f=$u(a);await this.rpcUnsubscribe(e,t,f);const p=wr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,p),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:a}})}catch(f){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(f),f}}async rpcSubscribe(e,t){const a={method:Aa(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});try{await await Io(this.relayer.request(a),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Wr.connection_stalled)}return Ls(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,a={method:Aa(t.protocol).batchSubscribe,params:{topics:e.map(f=>f.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});try{return await await Io(this.relayer.request(a),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(Wr.connection_stalled)}}rpcUnsubscribe(e,t,a){const f={method:Aa(a.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:f}),this.relayer.request(f)}onSubscribe(e,t){this.setSubscription(e,Xu(No({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,No({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,a){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,a),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,No({},t)),this.topicMap.set(t.topic,e),this.events.emit(Qn.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:a}=at("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(a)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const a=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(a.topic,e),this.events.emit(Qn.deleted,Xu(No({},a),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Qn.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const a=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(a)}}this.events.emit(Qn.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=at("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);So(t)&&this.onBatchSubscribe(t.map((a,f)=>Xu(No({},e[f]),{id:a})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(wo.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(Wr.connect,async()=>{await this.onConnect()}),this.relayer.on(Wr.disconnect,()=>{this.onDisconnect()}),this.events.on(Qn.created,async e=>{const t=Qn.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(Qn.deleted,async e=>{const t=Qn.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var $E=Object.defineProperty,qd=Object.getOwnPropertySymbols,BE=Object.prototype.hasOwnProperty,zE=Object.prototype.propertyIsEnumerable,Gd=(r,e,t)=>e in r?$E(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,HE=(r,e)=>{for(var t in e||(e={}))BE.call(e,t)&&Gd(r,t,e[t]);if(qd)for(var t of qd(e))zE.call(e,t)&&Gd(r,t,e[t]);return r};class KE extends Fm{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new re.EventEmitter,this.name=uE,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=async t=>{this.logger.debug("Publishing Request Payload");const a=t.id;try{await this.toEstablishConnection();const f=this.provider.request(t);return this.requestsInFlight.set(a,{promise:f,request:t}),await f}catch(f){throw this.logger.debug("Failed to Publish Request"),this.logger.error(f),f}finally{this.requestsInFlight.delete(a)}},this.onPayloadHandler=t=>{this.onProviderPayload(t)},this.onConnectHandler=()=>{this.events.emit(Wr.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(Wr.error,t),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(vi.payload,this.onPayloadHandler),this.provider.on(vi.connect,this.onConnectHandler),this.provider.on(vi.disconnect,this.onDisconnectHandler),this.provider.on(vi.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?un(e.logger,this.name):ma()(ba({level:e.logger||cE})),this.messages=new CE(this.logger,e.core),this.subscriber=new ME(this,this.logger),this.publisher=new NE(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Kd,this.projectId=e.projectId,this.bundleId=Hv(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${Vd}...`),await this.restartTransport(Vd)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},dE)}get context(){return cn(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,a){this.isInitialized(),await this.publisher.publish(e,t,a),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var a;this.isInitialized();let f=((a=this.subscriber.topicMap.get(e))==null?void 0:a[0])||"";if(f)return f;let p;const D=K=>{K.topic===e&&(this.subscriber.off(Qn.created,D),p())};return await Promise.all([new Promise(K=>{p=K,this.subscriber.on(Qn.created,D)}),new Promise(async K=>{f=await this.subscriber.subscribe(e,t),K()})]),f}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.requestsInFlight.size>0&&(this.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),this.requestsInFlight.forEach(async e=>{await e.promise})),this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await Io(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(t=>{if(!this.initialized)return t();this.subscriber.once(Qn.resubscribed,()=>{t()})}),new Promise(async(t,a)=>{try{await Io(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(f){a(f);return}t()})])}catch(t){this.logger.error(t);const a=t;if(!this.isConnectionStalled(a.message))throw t;this.provider.events.emit(vi.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ud())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new mi(new Iw(Gv({sdkVersion:hE,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:a}=e;await this.messages.set(t,a)}async shouldIgnoreMessageEvent(e){const{topic:t,message:a}=e;if(!a||a.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${a}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const f=this.messages.has(t,a);return f&&this.logger.debug(`Ignoring duplicate message: ${a}`),f}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Wu(e)){if(!e.method.endsWith(fE))return;const t=e.params,{topic:a,message:f,publishedAt:p}=t.data,D={topic:a,message:f,publishedAt:p};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(HE({type:"event",event:t.id},D)),this.events.emit(t.id,D),await this.acknowledgePayload(e),await this.onMessageEvent(D)}else Fa(e)&&this.events.emit(Wr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Wr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=Ta(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(vi.payload,this.onPayloadHandler),this.provider.off(vi.connect,this.onConnectHandler),this.provider.off(vi.disconnect,this.onDisconnectHandler),this.provider.off(vi.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(Wr.connection_stalled,()=>{this.restartTransport().catch(t=>this.logger.error(t))});let e=await ud();Z1(async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(a=>this.logger.error(a)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(a=>this.logger.error(a))))})}onProviderDisconnect(){this.events.emit(Wr.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},(0,Et.toMiliseconds)(lE)))}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{const t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var VE=Object.defineProperty,Jd=Object.getOwnPropertySymbols,WE=Object.prototype.hasOwnProperty,kE=Object.prototype.propertyIsEnumerable,Yd=(r,e,t)=>e in r?VE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qd=(r,e)=>{for(var t in e||(e={}))WE.call(e,t)&&Yd(r,t,e[t]);if(Jd)for(var t of Jd(e))kE.call(e,t)&&Yd(r,t,e[t]);return r};class ja extends Um{constructor(e,t,a,f=zi,p=void 0){super(e,t,a,f),this.core=e,this.logger=t,this.name=a,this.map=new Map,this.version=pE,this.cached=[],this.initialized=!1,this.storagePrefix=zi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(D=>{this.getKey&&D!==null&&!Qr(D)?this.map.set(this.getKey(D),D):C1(D)?this.map.set(D.id,D):N1(D)&&this.map.set(D.topic,D)}),this.cached=[],this.initialized=!0)},this.set=async(D,K)=>{this.isInitialized(),this.map.has(D)?await this.update(D,K):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:D,value:K}),this.map.set(D,K),await this.persist())},this.get=D=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:D}),this.getData(D)),this.getAll=D=>(this.isInitialized(),D?this.values.filter(K=>Object.keys(D).every(ne=>Dw()(K[ne],D[ne]))):this.values),this.update=async(D,K)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:D,update:K});const ne=Qd(Qd({},this.getData(D)),K);this.map.set(D,ne),await this.persist()},this.delete=async(D,K)=>{this.isInitialized(),this.map.has(D)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:D,reason:K}),this.map.delete(D),await this.persist())},this.logger=un(t,this.name),this.storagePrefix=f,this.getKey=p}get context(){return cn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){const{message:a}=at("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(a),new Error(a)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=at("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}class qE{constructor(e,t){this.core=e,this.logger=t,this.name=vE,this.version=wE,this.events=new(Be()),this.initialized=!1,this.storagePrefix=zi,this.ignoredPayloadTypes=[cs],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:a})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...a])]},this.create=async()=>{this.isInitialized();const a=ju(),f=await this.core.crypto.setSymKey(a),p=vn(Et.FIVE_MINUTES),D={protocol:Hd},K={topic:f,expiry:p,relay:D,active:!1},ne=d1({protocol:this.core.protocol,version:this.core.version,topic:f,symKey:a,relay:D,expiryTimestamp:p});return await this.pairings.set(f,K),await this.core.relayer.subscribe(f),this.core.expirer.set(f,p),{topic:f,uri:ne}},this.pair=async a=>{this.isInitialized(),this.isValidPair(a);const{topic:f,symKey:p,relay:D,expiryTimestamp:K}=Zh(a.uri);let ne;if(this.pairings.keys.includes(f)&&(ne=this.pairings.get(f),ne.active))throw new Error(`Pairing already exists: ${f}. Please try again with a new connection URI.`);const B=K||vn(Et.FIVE_MINUTES),ie={topic:f,relay:D,expiry:B,active:!1};return await this.pairings.set(f,ie),this.core.expirer.set(f,B),a.activatePairing&&await this.activate({topic:f}),this.events.emit(Co.create,ie),this.core.crypto.keychain.has(f)||(await this.core.crypto.setSymKey(p,f),await this.core.relayer.subscribe(f,{relay:D})),ie},this.activate=async({topic:a})=>{this.isInitialized();const f=vn(Et.THIRTY_DAYS);await this.pairings.update(a,{active:!0,expiry:f}),this.core.expirer.set(a,f)},this.ping=async a=>{this.isInitialized(),await this.isValidPing(a);const{topic:f}=a;if(this.pairings.keys.includes(f)){const p=await this.sendRequest(f,"wc_pairingPing",{}),{done:D,resolve:K,reject:ne}=zs();this.events.once(vr("pairing_ping",p),({error:B})=>{B?ne(B):K()}),await D()}},this.updateExpiry=async({topic:a,expiry:f})=>{this.isInitialized(),await this.pairings.update(a,{expiry:f})},this.updateMetadata=async({topic:a,metadata:f})=>{this.isInitialized(),await this.pairings.update(a,{peerMetadata:f})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async a=>{this.isInitialized(),await this.isValidDisconnect(a);const{topic:f}=a;this.pairings.keys.includes(f)&&(await this.sendRequest(f,"wc_pairingDelete",wr("USER_DISCONNECTED")),await this.deletePairing(f))},this.sendRequest=async(a,f,p)=>{const D=Ks(f,p),K=await this.core.crypto.encode(a,D),ne=Po[f].req;return this.core.history.set(a,D),this.core.relayer.publish(a,K,ne),D.id},this.sendResult=async(a,f,p)=>{const D=Ta(a,p),K=await this.core.crypto.encode(f,D),ne=await this.core.history.get(f,a),B=Po[ne.request.method].res;await this.core.relayer.publish(f,K,B),await this.core.history.resolve(D)},this.sendError=async(a,f,p)=>{const D=Ra(a,p),K=await this.core.crypto.encode(f,D),ne=await this.core.history.get(f,a),B=Po[ne.request.method]?Po[ne.request.method].res:Po.unregistered_method.res;await this.core.relayer.publish(f,K,B),await this.core.history.resolve(D)},this.deletePairing=async(a,f)=>{await this.core.relayer.unsubscribe(a),await Promise.all([this.pairings.delete(a,wr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(a),f?Promise.resolve():this.core.expirer.del(a)])},this.cleanup=async()=>{const a=this.pairings.getAll().filter(f=>Bi(f.expiry));await Promise.all(a.map(f=>this.deletePairing(f.topic)))},this.onRelayEventRequest=a=>{const{topic:f,payload:p}=a;switch(p.method){case"wc_pairingPing":return this.onPairingPingRequest(f,p);case"wc_pairingDelete":return this.onPairingDeleteRequest(f,p);default:return this.onUnknownRpcMethodRequest(f,p)}},this.onRelayEventResponse=async a=>{const{topic:f,payload:p}=a,D=(await this.core.history.get(f,p.id)).request.method;switch(D){case"wc_pairingPing":return this.onPairingPingResponse(f,p);default:return this.onUnknownRpcMethodResponse(D)}},this.onPairingPingRequest=async(a,f)=>{const{id:p}=f;try{this.isValidPing({topic:a}),await this.sendResult(p,a,!0),this.events.emit(Co.ping,{id:p,topic:a})}catch(D){await this.sendError(p,a,D),this.logger.error(D)}},this.onPairingPingResponse=(a,f)=>{const{id:p}=f;setTimeout(()=>{yi(f)?this.events.emit(vr("pairing_ping",p),{}):Yn(f)&&this.events.emit(vr("pairing_ping",p),{error:f.error})},500)},this.onPairingDeleteRequest=async(a,f)=>{const{id:p}=f;try{this.isValidDisconnect({topic:a}),await this.deletePairing(a),this.events.emit(Co.delete,{id:p,topic:a})}catch(D){await this.sendError(p,a,D),this.logger.error(D)}},this.onUnknownRpcMethodRequest=async(a,f)=>{const{id:p,method:D}=f;try{if(this.registeredMethods.includes(D))return;const K=wr("WC_METHOD_UNSUPPORTED",D);await this.sendError(p,a,K),this.logger.error(K)}catch(K){await this.sendError(p,a,K),this.logger.error(K)}},this.onUnknownRpcMethodResponse=a=>{this.registeredMethods.includes(a)||this.logger.error(wr("WC_METHOD_UNSUPPORTED",a))},this.isValidPair=a=>{var f;if(!ln(a)){const{message:D}=at("MISSING_OR_INVALID",`pair() params: ${a}`);throw new Error(D)}if(!P1(a.uri)){const{message:D}=at("MISSING_OR_INVALID",`pair() uri: ${a.uri}`);throw new Error(D)}const p=Zh(a.uri);if(!((f=p==null?void 0:p.relay)!=null&&f.protocol)){const{message:D}=at("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(D)}if(!(p!=null&&p.symKey)){const{message:D}=at("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(D)}if(p!=null&&p.expiryTimestamp&&(0,Et.toMiliseconds)(p==null?void 0:p.expiryTimestamp)<Date.now()){const{message:D}=at("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(D)}},this.isValidPing=async a=>{if(!ln(a)){const{message:p}=at("MISSING_OR_INVALID",`ping() params: ${a}`);throw new Error(p)}const{topic:f}=a;await this.isValidPairingTopic(f)},this.isValidDisconnect=async a=>{if(!ln(a)){const{message:p}=at("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw new Error(p)}const{topic:f}=a;await this.isValidPairingTopic(f)},this.isValidPairingTopic=async a=>{if(!Ur(a,!1)){const{message:f}=at("MISSING_OR_INVALID",`pairing topic should be a string: ${a}`);throw new Error(f)}if(!this.pairings.keys.includes(a)){const{message:f}=at("NO_MATCHING_KEY",`pairing topic doesn't exist: ${a}`);throw new Error(f)}if(Bi(this.pairings.get(a).expiry)){await this.deletePairing(a);const{message:f}=at("EXPIRED",`pairing topic: ${a}`);throw new Error(f)}},this.core=e,this.logger=un(t,this.name),this.pairings=new ja(this.core,this.logger,this.name,this.storagePrefix)}get context(){return cn(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Wr.message,async e=>{const{topic:t,message:a}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(a)))return;const f=await this.core.crypto.decode(t,a);try{Wu(f)?(this.core.history.set(t,f),this.onRelayEventRequest({topic:t,payload:f})):Fa(f)&&(await this.core.history.resolve(f),await this.onRelayEventResponse({topic:t,payload:f}),this.core.history.delete(t,f.id))}catch(p){this.logger.error(p)}})}registerExpirerEvents(){this.core.expirer.on(jn.expired,async e=>{const{topic:t}=Yh(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(Co.expire,{topic:t}))})}}class GE extends Nm{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new re.EventEmitter,this.name=bE,this.version=EE,this.cached=[],this.initialized=!1,this.storagePrefix=zi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>this.records.set(a.id,a)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(a,f,p)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:a,request:f,chainId:p}),this.records.has(f.id))return;const D={id:f.id,topic:a,request:{method:f.method,params:f.params||null},chainId:p,expiry:vn(Et.THIRTY_DAYS)};this.records.set(D.id,D),this.events.emit(ai.created,D)},this.resolve=async a=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:a}),!this.records.has(a.id))return;const f=await this.getRecord(a.id);typeof f.response>"u"&&(f.response=Yn(a)?{error:a.error}:{result:a.result},this.records.set(f.id,f),this.events.emit(ai.updated,f))},this.get=async(a,f)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:a,id:f}),await this.getRecord(f)),this.delete=(a,f)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:f}),this.values.forEach(p=>{if(p.topic===a){if(typeof f<"u"&&p.id!==f)return;this.records.delete(p.id),this.events.emit(ai.deleted,p)}})},this.exists=async(a,f)=>(this.isInitialized(),this.records.has(f)?(await this.getRecord(f)).topic===a:!1),this.on=(a,f)=>{this.events.on(a,f)},this.once=(a,f)=>{this.events.once(a,f)},this.off=(a,f)=>{this.events.off(a,f)},this.removeListener=(a,f)=>{this.events.removeListener(a,f)},this.logger=un(t,this.name)}get context(){return cn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const a={topic:t.topic,request:Ks(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(a)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:a}=at("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(a)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ai.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=at("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ai.created,e=>{const t=ai.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(ai.updated,e=>{const t=ai.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(ai.deleted,e=>{const t=ai.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(wo.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{(0,Et.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}class JE extends Lm{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new re.EventEmitter,this.name=xE,this.version=IE,this.cached=[],this.initialized=!1,this.storagePrefix=zi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>this.expirations.set(a.target,a)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=a=>{try{const f=this.formatTarget(a);return typeof this.getExpiration(f)<"u"}catch{return!1}},this.set=(a,f)=>{this.isInitialized();const p=this.formatTarget(a),D={target:p,expiry:f};this.expirations.set(p,D),this.checkExpiry(p,D),this.events.emit(jn.created,{target:p,expiration:D})},this.get=a=>{this.isInitialized();const f=this.formatTarget(a);return this.getExpiration(f)},this.del=a=>{if(this.isInitialized(),this.has(a)){const f=this.formatTarget(a),p=this.getExpiration(f);this.expirations.delete(f),this.events.emit(jn.deleted,{target:f,expiration:p})}},this.on=(a,f)=>{this.events.on(a,f)},this.once=(a,f)=>{this.events.once(a,f)},this.off=(a,f)=>{this.events.off(a,f)},this.removeListener=(a,f)=>{this.events.removeListener(a,f)},this.logger=un(t,this.name)}get context(){return cn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Xv(e);if(typeof e=="number")return Zv(e);const{message:t}=at("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(jn.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=at("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:a}=at("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(a),new Error(a)}return t}checkExpiry(e,t){const{expiry:a}=t;(0,Et.toMiliseconds)(a)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(jn.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(wo.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(jn.created,e=>{const t=jn.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(jn.expired,e=>{const t=jn.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(jn.deleted,e=>{const t=jn.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}class YE extends Mm{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=Yu,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async a=>{if(this.verifyDisabled||Ms()||!$s())return;const f=this.getVerifyUrl(a==null?void 0:a.verifyUrl);this.verifyUrl!==f&&this.removeIframe(),this.verifyUrl=f;try{await this.createIframe()}catch(p){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(p)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Qu;try{await this.createIframe()}catch(p){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(p),this.verifyDisabled=!0}}},this.register=async a=>{this.initialized?this.sendPost(a.attestationId):(this.addToQueue(a.attestationId),await this.init())},this.resolve=async a=>{if(this.isDevEnv)return"";const f=this.getVerifyUrl(a==null?void 0:a.verifyUrl);let p;try{p=await this.fetchAttestation(a.attestationId,f)}catch(D){this.logger.info(`failed to resolve attestation: ${a.attestationId} from url: ${f}`),this.logger.info(D),p=await this.fetchAttestation(a.attestationId,Qu)}return p},this.fetchAttestation=async(a,f)=>{this.logger.info(`resolving attestation: ${a} from url: ${f}`);const p=this.startAbortTimer(Et.ONE_SECOND*2),D=await fetch(`${f}/attestation/${a}`,{signal:this.abortController.signal});return clearTimeout(p),D.status===200?await D.json():void 0},this.addToQueue=a=>{this.queue.push(a)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(a=>this.sendPost(a)),this.queue=[])},this.sendPost=a=>{var f;try{if(!this.iframe)return;(f=this.iframe.contentWindow)==null||f.postMessage(a,"*"),this.logger.info(`postMessage sent: ${a} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let a;const f=p=>{p.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",f),a())};await Promise.race([new Promise(p=>{if(document.getElementById(Yu))return p();window.addEventListener("message",f);const D=document.createElement("iframe");D.id=Yu,D.src=`${this.verifyUrl}/${this.projectId}`,D.style.display="none",document.body.append(D),this.iframe=D,a=p}),new Promise((p,D)=>setTimeout(()=>{window.removeEventListener("message",f),D("verify iframe load timeout")},(0,Et.toMiliseconds)(Et.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=a=>{let f=a||Vs;return SE.includes(f)||(this.logger.info(`verify url: ${f}, not included in trusted list, assigning default: ${Vs}`),f=Vs),f},this.logger=un(t,this.name),this.verifyUrl=Vs,this.abortController=new AbortController,this.isDevEnv=Mu()&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.IS_VITEST}get context(){return cn(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,Et.toMiliseconds)(e))}}class QE extends $m{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context=DE,this.registerDeviceToken=async a=>{const{clientId:f,token:p,notificationType:D,enableEncrypted:K=!1}=a,ne=`${OE}/${this.projectId}/clients`;await Aw()(ne,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:f,type:D,token:p,always_raw:K})})},this.logger=un(t,this.context)}}var XE=Object.defineProperty,Xd=Object.getOwnPropertySymbols,ZE=Object.prototype.hasOwnProperty,ex=Object.prototype.propertyIsEnumerable,Zd=(r,e,t)=>e in r?XE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ep=(r,e)=>{for(var t in e||(e={}))ZE.call(e,t)&&Zd(r,t,e[t]);if(Xd)for(var t of Xd(e))ex.call(e,t)&&Zd(r,t,e[t]);return r};class Zu extends Cm{constructor(e){super(e),this.protocol=Bd,this.version=Qb,this.name=Ju,this.events=new re.EventEmitter,this.initialized=!1,this.on=(a,f)=>this.events.on(a,f),this.once=(a,f)=>this.events.once(a,f),this.off=(a,f)=>this.events.off(a,f),this.removeListener=(a,f)=>this.events.removeListener(a,f),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Kd,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const t=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ma()(ba({level:(e==null?void 0:e.logger)||Xb.logger}));this.logger=un(t,this.name),this.heartbeat=new wo.HeartBeat,this.crypto=new PE(this,this.logger,e==null?void 0:e.keychain),this.history=new GE(this,this.logger),this.expirer=new JE(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new pm(ep(ep({},Zb),e==null?void 0:e.storageOptions)),this.relayer=new KE({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new qE(this,this.logger),this.verify=new YE(this.projectId||"",this.logger),this.echoClient=new QE(this.projectId||"",this.logger)}static async init(e){const t=new Zu(e);await t.initialize();const a=await t.crypto.getClientId();return await t.storage.setItem(gE,a),t}get context(){return cn(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const tx=Zu,tp="wc",rp=2,np="client",ef=`${tp}@${rp}:${np}:`,tf={name:np,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},AC={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire",session_request_expire:"session_request_expire"},PC={database:":memory:"},ip="WALLETCONNECT_DEEPLINK_CHOICE",CC={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},NC="history",TC="0.3",rx="proposal",RC=null,sp="Proposal expired",nx="session",La=Et.SEVEN_DAYS,ix="engine",wi={wc_sessionPropose:{req:{ttl:Et.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Et.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Et.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Et.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Et.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Et.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Et.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Et.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Et.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Et.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Et.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Et.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Et.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Et.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Et.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Et.THIRTY_SECONDS,prompt:!1,tag:1115}}},rf={min:Et.FIVE_MINUTES,max:Et.SEVEN_DAYS},bi={idle:"IDLE",active:"ACTIVE"},sx="request",ox=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var ax=Object.defineProperty,cx=Object.defineProperties,ux=Object.getOwnPropertyDescriptors,op=Object.getOwnPropertySymbols,fx=Object.prototype.hasOwnProperty,lx=Object.prototype.propertyIsEnumerable,ap=(r,e,t)=>e in r?ax(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xr=(r,e)=>{for(var t in e||(e={}))fx.call(e,t)&&ap(r,t,e[t]);if(op)for(var t of op(e))lx.call(e,t)&&ap(r,t,e[t]);return r},Ws=(r,e)=>cx(r,ux(e));class hx extends zm{constructor(e){super(e),this.name=ix,this.events=new(Be()),this.initialized=!1,this.ignoredPayloadTypes=[cs],this.requestQueue={state:bi.idle,queue:[]},this.sessionRequestQueue={state:bi.idle,queue:[]},this.requestQueueDelay=Et.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(wi)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,Et.toMiliseconds)(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();const a=Ws(Xr({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(a);const{pairingTopic:f,requiredNamespaces:p,optionalNamespaces:D,sessionProperties:K,relays:ne}=a;let B=f,ie,oe=!1;if(B&&(oe=this.client.core.pairing.pairings.get(B).active),!B||!oe){const{topic:mt,uri:_t}=await this.client.core.pairing.create();B=mt,ie=_t}const He=await this.client.core.crypto.generateKeyPair(),st=wi.wc_sessionPropose.req.ttl||Et.FIVE_MINUTES,$e=vn(st),et=Xr({requiredNamespaces:p,optionalNamespaces:D,relays:ne??[{protocol:Hd}],proposer:{publicKey:He,metadata:this.client.metadata},expiryTimestamp:$e},K&&{sessionProperties:K}),{reject:ct,resolve:xt,done:$t}=zs(st,sp);if(this.events.once(vr("session_connect"),async({error:mt,session:_t})=>{if(mt)ct(mt);else if(_t){_t.self.publicKey=He;const Ot=Ws(Xr({},_t),{requiredNamespaces:et.requiredNamespaces,optionalNamespaces:et.optionalNamespaces});await this.client.session.set(_t.topic,Ot),await this.setExpiry(_t.topic,_t.expiry),B&&await this.client.core.pairing.updateMetadata({topic:B,metadata:_t.peer.metadata}),xt(Ot)}}),!B){const{message:mt}=at("NO_MATCHING_KEY",`connect() pairing topic: ${B}`);throw new Error(mt)}const Pt=await this.sendRequest({topic:B,method:"wc_sessionPropose",params:et,throwOnFailedPublish:!0});return await this.setProposal(Pt,Xr({id:Pt},et)),{uri:ie,approval:$t}},this.pair=async t=>(await this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{await this.isInitialized(),await this.isValidApprove(t);const{id:a,relayProtocol:f,namespaces:p,sessionProperties:D}=t,K=this.client.proposal.get(a);let{pairingTopic:ne,proposer:B,requiredNamespaces:ie,optionalNamespaces:oe}=K;ne=ne||"";const He=await this.client.core.crypto.generateKeyPair(),st=B.publicKey,$e=await this.client.core.crypto.generateSharedKey(He,st);ne&&a&&(await this.client.core.pairing.updateMetadata({topic:ne,metadata:B.metadata}),await this.sendResult({id:a,topic:ne,result:{relay:{protocol:f??"irn"},responderPublicKey:He}}),await this.client.proposal.delete(a,wr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:ne}));const et=Xr({relay:{protocol:f??"irn"},namespaces:p,pairingTopic:ne,controller:{publicKey:He,metadata:this.client.metadata},expiry:vn(La)},D&&{sessionProperties:D});await this.client.core.relayer.subscribe($e);const ct=Ws(Xr({},et),{topic:$e,requiredNamespaces:ie,optionalNamespaces:oe,pairingTopic:ne,acknowledged:!1,self:et.controller,peer:{publicKey:B.publicKey,metadata:B.metadata},controller:He});await this.client.session.set($e,ct);try{await this.sendRequest({topic:$e,method:"wc_sessionSettle",params:et,throwOnFailedPublish:!0})}catch(xt){throw this.client.logger.error(xt),this.client.session.delete($e,wr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe($e),xt}return await this.setExpiry($e,vn(La)),{topic:$e,acknowledged:()=>new Promise(xt=>setTimeout(()=>xt(this.client.session.get($e)),500))}},this.reject=async t=>{await this.isInitialized(),await this.isValidReject(t);const{id:a,reason:f}=t,{pairingTopic:p}=this.client.proposal.get(a);p&&(await this.sendError(a,p,f),await this.client.proposal.delete(a,wr("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized(),await this.isValidUpdate(t);const{topic:a,namespaces:f}=t,p=await this.sendRequest({topic:a,method:"wc_sessionUpdate",params:{namespaces:f}}),{done:D,resolve:K,reject:ne}=zs();return this.events.once(vr("session_update",p),({error:B})=>{B?ne(B):K()}),await this.client.session.update(a,{namespaces:f}),{acknowledged:D}},this.extend=async t=>{await this.isInitialized(),await this.isValidExtend(t);const{topic:a}=t,f=await this.sendRequest({topic:a,method:"wc_sessionExtend",params:{}}),{done:p,resolve:D,reject:K}=zs();return this.events.once(vr("session_extend",f),({error:ne})=>{ne?K(ne):D()}),await this.setExpiry(a,vn(La)),{acknowledged:p}},this.request=async t=>{await this.isInitialized(),await this.isValidRequest(t);const{chainId:a,request:f,topic:p,expiry:D=wi.wc_sessionRequest.req.ttl}=t,K=Vu(),{done:ne,resolve:B,reject:ie}=zs(D,"Request expired. Please try again.");return this.events.once(vr("session_request",K),({error:oe,result:He})=>{oe?ie(oe):B(He)}),await Promise.all([new Promise(async oe=>{await this.sendRequest({clientRpcId:K,topic:p,method:"wc_sessionRequest",params:{request:Ws(Xr({},f),{expiryTimestamp:vn(D)}),chainId:a},expiry:D,throwOnFailedPublish:!0}).catch(He=>ie(He)),this.client.events.emit("session_request_sent",{topic:p,request:f,chainId:a,id:K}),oe()}),new Promise(async oe=>{const He=await t1(this.client.core.storage,ip);e1({id:K,topic:p,wcDeepLink:He}),oe()}),ne()]).then(oe=>oe[2])},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);const{topic:a,response:f}=t,{id:p}=f;yi(f)?await this.sendResult({id:p,topic:a,result:f.result,throwOnFailedPublish:!0}):Yn(f)&&await this.sendError(p,a,f.error),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized(),await this.isValidPing(t);const{topic:a}=t;if(this.client.session.keys.includes(a)){const f=await this.sendRequest({topic:a,method:"wc_sessionPing",params:{}}),{done:p,resolve:D,reject:K}=zs();this.events.once(vr("session_ping",f),({error:ne})=>{ne?K(ne):D()}),await p()}else this.client.core.pairing.pairings.keys.includes(a)&&await this.client.core.pairing.ping({topic:a})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);const{topic:a,event:f,chainId:p}=t;await this.sendRequest({topic:a,method:"wc_sessionEvent",params:{event:f,chainId:p}})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);const{topic:a}=t;if(this.client.session.keys.includes(a))await this.sendRequest({topic:a,method:"wc_sessionDelete",params:wr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:a,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(a))await this.client.core.pairing.disconnect({topic:a});else{const{message:f}=at("MISMATCHED_TOPIC",`Session or pairing topic not found: ${a}`);throw new Error(f)}},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(a=>O1(a,t))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const a=this.client.core.pairing.pairings.get(t.pairingTopic),f=this.client.core.pairing.pairings.getAll().filter(p=>{var D,K;return((D=p.peerMetadata)==null?void 0:D.url)&&((K=p.peerMetadata)==null?void 0:K.url)===t.peer.metadata.url&&p.topic&&p.topic!==a.topic});if(f.length===0)return;this.client.logger.info(`Cleaning up ${f.length} duplicate pairing(s)`),await Promise.all(f.map(p=>this.client.core.pairing.disconnect({topic:p.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(a){this.client.logger.error(a)}},this.deleteSession=async t=>{const{topic:a,expirerHasDeleted:f=!1,emitEvent:p=!0,id:D=0}=t,{self:K}=this.client.session.get(a);await this.client.core.relayer.unsubscribe(a),await this.client.session.delete(a,wr("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(K.publicKey)&&await this.client.core.crypto.deleteKeyPair(K.publicKey),this.client.core.crypto.keychain.has(a)&&await this.client.core.crypto.deleteSymKey(a),f||this.client.core.expirer.del(a),this.client.core.storage.removeItem(ip).catch(ne=>this.client.logger.warn(ne)),this.getPendingSessionRequests().forEach(ne=>{ne.topic===a&&this.deletePendingSessionRequest(ne.id,wr("USER_DISCONNECTED"))}),p&&this.client.events.emit("session_delete",{id:D,topic:a})},this.deleteProposal=async(t,a)=>{await Promise.all([this.client.proposal.delete(t,wr("USER_DISCONNECTED")),a?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,a,f=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,a),f?Promise.resolve():this.client.core.expirer.del(t)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(p=>p.id!==t),f&&(this.sessionRequestQueue.state=bi.idle,this.client.events.emit("session_request_expire",{id:t}))},this.setExpiry=async(t,a)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:a}),this.client.core.expirer.set(t,a)},this.setProposal=async(t,a)=>{await this.client.proposal.set(t,a),this.client.core.expirer.set(t,vn(wi.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async t=>{const{id:a,topic:f,params:p,verifyContext:D}=t,K=p.request.expiryTimestamp||vn(wi.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(a,{id:a,topic:f,params:p,verifyContext:D}),K&&this.client.core.expirer.set(a,K)},this.sendRequest=async t=>{const{topic:a,method:f,params:p,expiry:D,relayRpcId:K,clientRpcId:ne,throwOnFailedPublish:B}=t,ie=Ks(f,p,ne);if($s()&&ox.includes(f)){const st=Ls(JSON.stringify(ie));this.client.core.verify.register({attestationId:st})}const oe=await this.client.core.crypto.encode(a,ie),He=wi[f].req;return D&&(He.ttl=D),K&&(He.id=K),this.client.core.history.set(a,ie),B?(He.internal=Ws(Xr({},He.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(a,oe,He)):this.client.core.relayer.publish(a,oe,He).catch(st=>this.client.logger.error(st)),ie.id},this.sendResult=async t=>{const{id:a,topic:f,result:p,throwOnFailedPublish:D}=t,K=Ta(a,p),ne=await this.client.core.crypto.encode(f,K),B=await this.client.core.history.get(f,a),ie=wi[B.request.method].res;D?(ie.internal=Ws(Xr({},ie.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(f,ne,ie)):this.client.core.relayer.publish(f,ne,ie).catch(oe=>this.client.logger.error(oe)),await this.client.core.history.resolve(K)},this.sendError=async(t,a,f)=>{const p=Ra(t,f),D=await this.client.core.crypto.encode(a,p),K=await this.client.core.history.get(a,t),ne=wi[K.request.method].res;this.client.core.relayer.publish(a,D,ne),await this.client.core.history.resolve(p)},this.cleanup=async()=>{const t=[],a=[];this.client.session.getAll().forEach(f=>{let p=!1;Bi(f.expiry)&&(p=!0),this.client.core.crypto.keychain.has(f.topic)||(p=!0),p&&t.push(f.topic)}),this.client.proposal.getAll().forEach(f=>{Bi(f.expiryTimestamp)&&a.push(f.id)}),await Promise.all([...t.map(f=>this.deleteSession({topic:f})),...a.map(f=>this.deleteProposal(f))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===bi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=bi.active;const t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise(a=>setTimeout(a,300))}catch(a){this.client.logger.warn(a)}}this.requestQueue.state=bi.idle},this.processRequest=t=>{const{topic:a,payload:f}=t,p=f.method;switch(p){case"wc_sessionPropose":return this.onSessionProposeRequest(a,f);case"wc_sessionSettle":return this.onSessionSettleRequest(a,f);case"wc_sessionUpdate":return this.onSessionUpdateRequest(a,f);case"wc_sessionExtend":return this.onSessionExtendRequest(a,f);case"wc_sessionPing":return this.onSessionPingRequest(a,f);case"wc_sessionDelete":return this.onSessionDeleteRequest(a,f);case"wc_sessionRequest":return this.onSessionRequest(a,f);case"wc_sessionEvent":return this.onSessionEventRequest(a,f);default:return this.client.logger.info(`Unsupported request method ${p}`)}},this.onRelayEventResponse=async t=>{const{topic:a,payload:f}=t,p=(await this.client.core.history.get(a,f.id)).request.method;switch(p){case"wc_sessionPropose":return this.onSessionProposeResponse(a,f);case"wc_sessionSettle":return this.onSessionSettleResponse(a,f);case"wc_sessionUpdate":return this.onSessionUpdateResponse(a,f);case"wc_sessionExtend":return this.onSessionExtendResponse(a,f);case"wc_sessionPing":return this.onSessionPingResponse(a,f);case"wc_sessionRequest":return this.onSessionRequestResponse(a,f);default:return this.client.logger.info(`Unsupported response method ${p}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:a}=t,{message:f}=at("MISSING_OR_INVALID",`Decoded payload on topic ${a} is not identifiable as a JSON-RPC request or a response.`);throw new Error(f)},this.onSessionProposeRequest=async(t,a)=>{const{params:f,id:p}=a;try{this.isValidConnect(Xr({},a.params));const D=f.expiryTimestamp||vn(wi.wc_sessionPropose.req.ttl),K=Xr({id:p,pairingTopic:t,expiryTimestamp:D},f);await this.setProposal(p,K);const ne=Ls(JSON.stringify(a)),B=await this.getVerifyContext(ne,K.proposer.metadata);this.client.events.emit("session_proposal",{id:p,params:K,verifyContext:B})}catch(D){await this.sendError(p,t,D),this.client.logger.error(D)}},this.onSessionProposeResponse=async(t,a)=>{const{id:f}=a;if(yi(a)){const{result:p}=a;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:p});const D=this.client.proposal.get(f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:D});const K=D.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:K});const ne=p.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:ne});const B=await this.client.core.crypto.generateSharedKey(K,ne);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:B});const ie=await this.client.core.relayer.subscribe(B);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:ie}),await this.client.core.pairing.activate({topic:t})}else Yn(a)&&(await this.client.proposal.delete(f,wr("USER_DISCONNECTED")),this.events.emit(vr("session_connect"),{error:a.error}))},this.onSessionSettleRequest=async(t,a)=>{const{id:f,params:p}=a;try{this.isValidSessionSettleRequest(p);const{relay:D,controller:K,expiry:ne,namespaces:B,sessionProperties:ie,pairingTopic:oe}=a.params,He=Xr({topic:t,relay:D,expiry:ne,namespaces:B,acknowledged:!0,pairingTopic:oe,requiredNamespaces:{},optionalNamespaces:{},controller:K.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:K.publicKey,metadata:K.metadata}},ie&&{sessionProperties:ie});await this.sendResult({id:a.id,topic:t,result:!0}),this.events.emit(vr("session_connect"),{session:He}),this.cleanupDuplicatePairings(He)}catch(D){await this.sendError(f,t,D),this.client.logger.error(D)}},this.onSessionSettleResponse=async(t,a)=>{const{id:f}=a;yi(a)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(vr("session_approve",f),{})):Yn(a)&&(await this.client.session.delete(t,wr("USER_DISCONNECTED")),this.events.emit(vr("session_approve",f),{error:a.error}))},this.onSessionUpdateRequest=async(t,a)=>{const{params:f,id:p}=a;try{const D=`${t}_session_update`,K=Na.get(D);if(K&&this.isRequestOutOfSync(K,p)){this.client.logger.info(`Discarding out of sync request - ${p}`);return}this.isValidUpdate(Xr({topic:t},f)),await this.client.session.update(t,{namespaces:f.namespaces}),await this.sendResult({id:p,topic:t,result:!0}),this.client.events.emit("session_update",{id:p,topic:t,params:f}),Na.set(D,p)}catch(D){await this.sendError(p,t,D),this.client.logger.error(D)}},this.isRequestOutOfSync=(t,a)=>parseInt(a.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,a)=>{const{id:f}=a;yi(a)?this.events.emit(vr("session_update",f),{}):Yn(a)&&this.events.emit(vr("session_update",f),{error:a.error})},this.onSessionExtendRequest=async(t,a)=>{const{id:f}=a;try{this.isValidExtend({topic:t}),await this.setExpiry(t,vn(La)),await this.sendResult({id:f,topic:t,result:!0}),this.client.events.emit("session_extend",{id:f,topic:t})}catch(p){await this.sendError(f,t,p),this.client.logger.error(p)}},this.onSessionExtendResponse=(t,a)=>{const{id:f}=a;yi(a)?this.events.emit(vr("session_extend",f),{}):Yn(a)&&this.events.emit(vr("session_extend",f),{error:a.error})},this.onSessionPingRequest=async(t,a)=>{const{id:f}=a;try{this.isValidPing({topic:t}),await this.sendResult({id:f,topic:t,result:!0}),this.client.events.emit("session_ping",{id:f,topic:t})}catch(p){await this.sendError(f,t,p),this.client.logger.error(p)}},this.onSessionPingResponse=(t,a)=>{const{id:f}=a;setTimeout(()=>{yi(a)?this.events.emit(vr("session_ping",f),{}):Yn(a)&&this.events.emit(vr("session_ping",f),{error:a.error})},500)},this.onSessionDeleteRequest=async(t,a)=>{const{id:f}=a;try{this.isValidDisconnect({topic:t,reason:a.params}),await Promise.all([new Promise(p=>{this.client.core.relayer.once(Wr.publish,async()=>{p(await this.deleteSession({topic:t,id:f}))})}),this.sendResult({id:f,topic:t,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:wr("USER_DISCONNECTED")})])}catch(p){this.client.logger.error(p)}},this.onSessionRequest=async(t,a)=>{const{id:f,params:p}=a;try{this.isValidRequest(Xr({topic:t},p));const D=Ls(JSON.stringify(Ks("wc_sessionRequest",p,f))),K=this.client.session.get(t),ne=await this.getVerifyContext(D,K.peer.metadata),B={id:f,topic:t,params:p,verifyContext:ne};await this.setPendingSessionRequest(B),this.addSessionRequestToSessionRequestQueue(B),this.processSessionRequestQueue()}catch(D){await this.sendError(f,t,D),this.client.logger.error(D)}},this.onSessionRequestResponse=(t,a)=>{const{id:f}=a;yi(a)?this.events.emit(vr("session_request",f),{result:a.result}):Yn(a)&&this.events.emit(vr("session_request",f),{error:a.error})},this.onSessionEventRequest=async(t,a)=>{const{id:f,params:p}=a;try{const D=`${t}_session_event_${p.event.name}`,K=Na.get(D);if(K&&this.isRequestOutOfSync(K,f)){this.client.logger.info(`Discarding out of sync request - ${f}`);return}this.isValidEmit(Xr({topic:t},p)),this.client.events.emit("session_event",{id:f,topic:t,params:p}),Na.set(D,f)}catch(D){await this.sendError(f,t,D),this.client.logger.error(D)}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=bi.idle,this.processSessionRequestQueue()},(0,Et.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:t,error:a})=>{const f=this.client.core.history.pending;f.length>0&&f.filter(p=>p.topic===t&&p.request.method==="wc_sessionRequest").forEach(p=>{this.events.emit(vr("session_request",p.request.id),{error:a})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===bi.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=bi.active,this.client.events.emit("session_request",t)}catch(a){this.client.logger.error(a)}},this.onPairingCreated=t=>{if(t.active)return;const a=this.client.proposal.getAll().find(f=>f.pairingTopic===t.topic);a&&this.onSessionProposeRequest(t.topic,Ks("wc_sessionPropose",{requiredNamespaces:a.requiredNamespaces,optionalNamespaces:a.optionalNamespaces,relays:a.relays,proposer:a.proposer,sessionProperties:a.sessionProperties},a.id))},this.isValidConnect=async t=>{if(!ln(t)){const{message:ne}=at("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(ne)}const{pairingTopic:a,requiredNamespaces:f,optionalNamespaces:p,sessionProperties:D,relays:K}=t;if(Qr(a)||await this.isValidPairingTopic(a),!$1(K,!0)){const{message:ne}=at("MISSING_OR_INVALID",`connect() relays: ${K}`);throw new Error(ne)}!Qr(f)&&Do(f)!==0&&this.validateNamespaces(f,"requiredNamespaces"),!Qr(p)&&Do(p)!==0&&this.validateNamespaces(p,"optionalNamespaces"),Qr(D)||this.validateSessionProps(D,"sessionProperties")},this.validateNamespaces=(t,a)=>{const f=M1(t,"connect()",a);if(f)throw new Error(f.message)},this.isValidApprove=async t=>{if(!ln(t))throw new Error(at("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:a,namespaces:f,relayProtocol:p,sessionProperties:D}=t;await this.isValidProposalId(a);const K=this.client.proposal.get(a),ne=Ca(f,"approve()");if(ne)throw new Error(ne.message);const B=zu(K.requiredNamespaces,f,"approve()");if(B)throw new Error(B.message);if(!Ur(p,!0)){const{message:ie}=at("MISSING_OR_INVALID",`approve() relayProtocol: ${p}`);throw new Error(ie)}Qr(D)||this.validateSessionProps(D,"sessionProperties")},this.isValidReject=async t=>{if(!ln(t)){const{message:p}=at("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(p)}const{id:a,reason:f}=t;if(await this.isValidProposalId(a),!z1(f)){const{message:p}=at("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(f)}`);throw new Error(p)}},this.isValidSessionSettleRequest=t=>{if(!ln(t)){const{message:B}=at("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(B)}const{relay:a,controller:f,namespaces:p,expiry:D}=t;if(!od(a)){const{message:B}=at("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(B)}const K=T1(f,"onSessionSettleRequest()");if(K)throw new Error(K.message);const ne=Ca(p,"onSessionSettleRequest()");if(ne)throw new Error(ne.message);if(Bi(D)){const{message:B}=at("EXPIRED","onSessionSettleRequest()");throw new Error(B)}},this.isValidUpdate=async t=>{if(!ln(t)){const{message:ne}=at("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(ne)}const{topic:a,namespaces:f}=t;await this.isValidSessionTopic(a);const p=this.client.session.get(a),D=Ca(f,"update()");if(D)throw new Error(D.message);const K=zu(p.requiredNamespaces,f,"update()");if(K)throw new Error(K.message)},this.isValidExtend=async t=>{if(!ln(t)){const{message:f}=at("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(f)}const{topic:a}=t;await this.isValidSessionTopic(a)},this.isValidRequest=async t=>{if(!ln(t)){const{message:ne}=at("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(ne)}const{topic:a,request:f,chainId:p,expiry:D}=t;await this.isValidSessionTopic(a);const{namespaces:K}=this.client.session.get(a);if(!ad(K,p)){const{message:ne}=at("MISSING_OR_INVALID",`request() chainId: ${p}`);throw new Error(ne)}if(!H1(f)){const{message:ne}=at("MISSING_OR_INVALID",`request() ${JSON.stringify(f)}`);throw new Error(ne)}if(!W1(K,p,f.method)){const{message:ne}=at("MISSING_OR_INVALID",`request() method: ${f.method}`);throw new Error(ne)}if(D&&!J1(D,rf)){const{message:ne}=at("MISSING_OR_INVALID",`request() expiry: ${D}. Expiry must be a number (in seconds) between ${rf.min} and ${rf.max}`);throw new Error(ne)}},this.isValidRespond=async t=>{var a;if(!ln(t)){const{message:D}=at("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(D)}const{topic:f,response:p}=t;try{await this.isValidSessionTopic(f)}catch(D){throw(a=t==null?void 0:t.response)!=null&&a.id&&this.cleanupAfterResponse(t),D}if(!K1(p)){const{message:D}=at("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(p)}`);throw new Error(D)}},this.isValidPing=async t=>{if(!ln(t)){const{message:f}=at("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(f)}const{topic:a}=t;await this.isValidSessionOrPairingTopic(a)},this.isValidEmit=async t=>{if(!ln(t)){const{message:K}=at("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(K)}const{topic:a,event:f,chainId:p}=t;await this.isValidSessionTopic(a);const{namespaces:D}=this.client.session.get(a);if(!ad(D,p)){const{message:K}=at("MISSING_OR_INVALID",`emit() chainId: ${p}`);throw new Error(K)}if(!V1(f)){const{message:K}=at("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(f)}`);throw new Error(K)}if(!k1(D,p,f.name)){const{message:K}=at("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(f)}`);throw new Error(K)}},this.isValidDisconnect=async t=>{if(!ln(t)){const{message:f}=at("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(f)}const{topic:a}=t;await this.isValidSessionOrPairingTopic(a)},this.getVerifyContext=async(t,a)=>{const f={verified:{verifyUrl:a.verifyUrl||Vs,validation:"UNKNOWN",origin:a.url||""}};try{const p=await this.client.core.verify.resolve({attestationId:t,verifyUrl:a.verifyUrl});p&&(f.verified.origin=p.origin,f.verified.isScam=p.isScam,f.verified.validation=p.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(p){this.client.logger.info(p)}return this.client.logger.info(`Verify context: ${JSON.stringify(f)}`),f},this.validateSessionProps=(t,a)=>{Object.values(t).forEach(f=>{if(!Ur(f,!1)){const{message:p}=at("MISSING_OR_INVALID",`${a} must be in Record<string, string> format. Received: ${JSON.stringify(f)}`);throw new Error(p)}})}}async isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Wr.message,async e=>{const{topic:t,message:a}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(a)))return;const f=await this.client.core.crypto.decode(t,a);try{Wu(f)?(this.client.core.history.set(t,f),this.onRelayEventRequest({topic:t,payload:f})):Fa(f)?(await this.client.core.history.resolve(f),await this.onRelayEventResponse({topic:t,payload:f}),this.client.core.history.delete(t,f.id)):this.onRelayEventUnknownPayload({topic:t,payload:f})}catch(p){this.client.logger.error(p)}})}registerExpirerEvents(){this.client.core.expirer.on(jn.expired,async e=>{const{topic:t,id:a}=Yh(e.target);if(a&&this.client.pendingRequest.keys.includes(a))return await this.deletePendingSessionRequest(a,at("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):a&&(await this.deleteProposal(a,!0),this.client.events.emit("proposal_expire",{id:a}))})}registerPairingEvents(){this.client.core.pairing.events.on(Co.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!Ur(e,!1)){const{message:t}=at("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=at("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(Bi(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=at("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!Ur(e,!1)){const{message:t}=at("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){const{message:t}=at("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(Bi(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=at("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=at("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Ur(e,!1)){const{message:t}=at("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=at("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!B1(e)){const{message:t}=at("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=at("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(Bi(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=at("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class dx extends ja{constructor(e,t){super(e,t,rx,ef),this.core=e,this.logger=t}}class px extends ja{constructor(e,t){super(e,t,nx,ef),this.core=e,this.logger=t}}class gx extends ja{constructor(e,t){super(e,t,sx,ef,a=>a.id),this.core=e,this.logger=t}}class nf extends Bm{constructor(e){super(e),this.protocol=tp,this.version=rp,this.name=tf.name,this.events=new re.EventEmitter,this.on=(a,f)=>this.events.on(a,f),this.once=(a,f)=>this.events.once(a,f),this.off=(a,f)=>this.events.off(a,f),this.removeListener=(a,f)=>this.events.removeListener(a,f),this.removeAllListeners=a=>this.events.removeAllListeners(a),this.connect=async a=>{try{return await this.engine.connect(a)}catch(f){throw this.logger.error(f.message),f}},this.pair=async a=>{try{return await this.engine.pair(a)}catch(f){throw this.logger.error(f.message),f}},this.approve=async a=>{try{return await this.engine.approve(a)}catch(f){throw this.logger.error(f.message),f}},this.reject=async a=>{try{return await this.engine.reject(a)}catch(f){throw this.logger.error(f.message),f}},this.update=async a=>{try{return await this.engine.update(a)}catch(f){throw this.logger.error(f.message),f}},this.extend=async a=>{try{return await this.engine.extend(a)}catch(f){throw this.logger.error(f.message),f}},this.request=async a=>{try{return await this.engine.request(a)}catch(f){throw this.logger.error(f.message),f}},this.respond=async a=>{try{return await this.engine.respond(a)}catch(f){throw this.logger.error(f.message),f}},this.ping=async a=>{try{return await this.engine.ping(a)}catch(f){throw this.logger.error(f.message),f}},this.emit=async a=>{try{return await this.engine.emit(a)}catch(f){throw this.logger.error(f.message),f}},this.disconnect=async a=>{try{return await this.engine.disconnect(a)}catch(f){throw this.logger.error(f.message),f}},this.find=a=>{try{return this.engine.find(a)}catch(f){throw this.logger.error(f.message),f}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(a){throw this.logger.error(a.message),a}},this.name=(e==null?void 0:e.name)||tf.name,this.metadata=(e==null?void 0:e.metadata)||Vv();const t=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ma()(ba({level:(e==null?void 0:e.logger)||tf.logger}));this.core=(e==null?void 0:e.core)||new tx(e),this.logger=un(t,this.name),this.session=new px(this.core,this.logger),this.proposal=new dx(this.core,this.logger),this.pendingRequest=new gx(this.core,this.logger),this.engine=new hx(this)}static async init(e){const t=new nf(e);return await t.initialize(),t}get context(){return cn(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const FC=null,UC=null;var jC=T(3382),LC=T(99982),MC=T(26447),sf=T(34155);const Ma=":";function cp(r){const[e,t]=r.split(Ma);return{namespace:e,reference:t}}function _x(r){const{namespace:e,reference:t}=r;return[e,t].join(Ma)}function up(r){const[e,t,a]=r.split(Ma);return{namespace:e,reference:t,address:a}}function yx(r){const{namespace:e,reference:t,address:a}=r;return[e,t,a].join(Ma)}function fp(r,e){const t=[];return r.forEach(a=>{const f=e(a);t.includes(f)||t.push(f)}),t}function mx(r){const{address:e}=up(r);return e}function vx(r){const{namespace:e,reference:t}=up(r);return _x({namespace:e,reference:t})}function $C(r,e){const{namespace:t,reference:a}=cp(e);return yx({namespace:t,reference:a,address:r})}function BC(r){return fp(r,mx)}function wx(r){return fp(r,vx)}function zC(r,e=[]){const t=[];return Object.keys(r).forEach(a=>{if(e.length&&!e.includes(a))return;const f=r[a];t.push(...f.accounts)}),t}function HC(r,e=[]){const t=[];return Object.keys(r).forEach(a=>{if(e.length&&!e.includes(a))return;const f=r[a];t.push(...wx(f.accounts))}),t}function KC(r,e=[]){const t=[];return Object.keys(r).forEach(a=>{if(e.length&&!e.includes(a))return;const f=r[a];t.push(...of(a,f))}),t}function of(r,e){return r.includes(":")?[r]:e.chains||[]}const af=r=>r==null?void 0:r.split(":"),bx=r=>{const e=r&&af(r);if(e)return e[3]},VC=r=>{const e=r&&af(r);if(e)return e[2]+":"+e[3]},Ex=r=>{const e=r&&af(r);if(e)return e.pop()},WC=(r,e)=>{const t=`${r.domain} wants you to sign in with your Ethereum account:`,a=Ex(e),f=r.statement,p=`URI: ${r.aud}`,D=`Version: ${r.version}`,K=`Chain ID: ${bx(e)}`,ne=`Nonce: ${r.nonce}`,B=`Issued At: ${r.iat}`,ie=r.resources&&r.resources.length>0?`Resources:
${r.resources.map(oe=>`- ${oe}`).join(`
`)}`:void 0;return[t,a,"",f,"",p,D,K,ne,B,ie].filter(oe=>oe!=null).join(`
`)},lp="base10",hn="base16",cf="base64pad",uf="utf8",hp=0,To=1,xx=0,dp=1,ff=12,lf=32;function kC(){const r=fe.generateKeyPair();return{privateKey:v(r.secretKey,hn),publicKey:v(r.publicKey,hn)}}function qC(){const r=le(lf);return v(r,hn)}function GC(r,e){const t=fe.sharedKey(E(r,hn),E(e,hn),!0),a=new On(Sn,t).expand(lf);return v(a,hn)}function JC(r){const e=de(E(r,hn));return v(e,hn)}function YC(r){const e=de(E(r,uf));return v(e,hn)}function Ix(r){return E(`${r}`,lp)}function $a(r){return Number(v(r,lp))}function QC(r){const e=Ix(typeof r.type<"u"?r.type:hp);if($a(e)===To&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?E(r.senderPublicKey,hn):void 0,a=typeof r.iv<"u"?E(r.iv,hn):le(ff),f=new ue(E(r.symKey,hn)).seal(a,E(r.message,uf));return Sx({type:e,sealed:f,iv:a,senderPublicKey:t})}function XC(r){const e=new ue(E(r.symKey,hn)),{sealed:t,iv:a}=pp(r.encoded),f=e.open(a,t);if(f===null)throw new Error("Failed to decrypt");return v(f,uf)}function Sx(r){if($a(r.type)===To){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return v(pe([r.type,r.senderPublicKey,r.iv,r.sealed]),cf)}return v(pe([r.type,r.iv,r.sealed]),cf)}function pp(r){const e=E(r,cf),t=e.slice(xx,dp),a=dp;if($a(t)===To){const K=a+lf,ne=K+ff,B=e.slice(a,K),ie=e.slice(K,ne),oe=e.slice(ne);return{type:t,sealed:oe,iv:ie,senderPublicKey:B}}const f=a+ff,p=e.slice(a,f),D=e.slice(f);return{type:t,sealed:D,iv:p}}function ZC(r,e){const t=pp(r);return Dx({type:$a(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?v(t.senderPublicKey,hn):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Dx(r){const e=(r==null?void 0:r.type)||hp;if(e===To){if(typeof(r==null?void 0:r.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(r==null?void 0:r.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r==null?void 0:r.senderPublicKey,receiverPublicKey:r==null?void 0:r.receiverPublicKey}}function eN(r){return r.type===To&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var Ox=Object.defineProperty,gp=Object.getOwnPropertySymbols,Ax=Object.prototype.hasOwnProperty,Px=Object.prototype.propertyIsEnumerable,_p=(r,e,t)=>e in r?Ox(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yp=(r,e)=>{for(var t in e||(e={}))Ax.call(e,t)&&_p(r,t,e[t]);if(gp)for(var t of gp(e))Px.call(e,t)&&_p(r,t,e[t]);return r};const Cx="ReactNative",dn={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},hf=" ",tN=":",Nx="/",mp=2,rN=1e3,Tx="js";function vp(){return typeof sf<"u"&&typeof sf.versions<"u"&&typeof sf.versions.node<"u"}function Ro(){return!ye()&&!!ge()&&navigator.product===Cx}function Ba(){return!vp()&&!!ge()&&!!ye()}function ks(){return Ro()?dn.reactNative:vp()?dn.node:Ba()?dn.browser:dn.unknown}function nN(){var r;try{return Ro()&&typeof T.g<"u"&&typeof(T.g==null?void 0:T.g.Application)<"u"?(r=T.g.Application)==null?void 0:r.applicationId:void 0}catch{return}}function Rx(r,e){let t=M.parse(r);return t=yp(yp({},t),e),r=M.stringify(t),r}function iN(){return Tn()||{name:"",description:"",url:"",icons:[""]}}function sN(r,e){var t;const a=ks(),f={protocol:r,version:e,env:a};return a==="browser"&&(f.host=((t=he())==null?void 0:t.host)||"unknown"),f}function Fx(){if(ks()===dn.reactNative&&typeof T.g<"u"&&typeof(T.g==null?void 0:T.g.Platform)<"u"){const{OS:t,Version:a}=T.g.Platform;return[t,a].join("-")}const r=wn();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function Ux(){var r;const e=ks();return e===dn.browser?[e,((r=he())==null?void 0:r.host)||"unknown"].join(":"):e}function jx(r,e,t){const a=Fx(),f=Ux();return[[r,e].join("-"),[Tx,t].join("-"),a,f].join("/")}function oN({protocol:r,version:e,relayUrl:t,sdkVersion:a,auth:f,projectId:p,useOnCloseEvent:D,bundleId:K}){const ne=t.split("?"),B=jx(r,e,a),ie={auth:f,ua:B,projectId:p,useOnCloseEvent:D||void 0,origin:K||void 0},oe=Rx(ne[1]||"",ie);return ne[0]+"?"+oe}function aN(r){let e=(r.match(/^[^:]+(?=:\/\/)/gi)||[])[0];const t=typeof e<"u"?r.split("://")[1]:r;return e=e==="wss"?"https":"http",[e,t].join("://")}function cN(r,e,t){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function Lx(r,e=mp){return Mx(r.split(Nx),e)}function uN(r){return Lx(r).join(hf)}function ls(r,e){return r.filter(t=>e.includes(t)).length===r.length}function Mx(r,e=mp){return r.slice(Math.max(r.length-e,0))}function fN(r){return Object.fromEntries(r.entries())}function lN(r){return new Map(Object.entries(r))}function hN(r,e){const t={};return Object.keys(r).forEach(a=>{t[a]=e(r[a])}),t}const dN=r=>r;function $x(r){return r.trim().replace(/^\w/,e=>e.toUpperCase())}function pN(r){return r.split(hf).map(e=>$x(e)).join(hf)}function gN(r=me,e){const t=W(r||me);let a,f,p;return{resolve:D=>{p&&a&&(clearTimeout(p),a(D))},reject:D=>{p&&f&&(clearTimeout(p),f(D))},done:()=>new Promise((D,K)=>{p=setTimeout(()=>{K(new Error(e))},t),a=D,f=K})}}function _N(r,e,t){return new Promise(async(a,f)=>{const p=setTimeout(()=>f(new Error(t)),e);try{const D=await r;a(D)}catch(D){f(D)}clearTimeout(p)})}function wp(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function yN(r){return wp("topic",r)}function mN(r){return wp("id",r)}function vN(r){const[e,t]=r.split(":"),a={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")a.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))a.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return a}function wN(r,e){return In((e||Date.now())+W(r))}function bN(r){return Date.now()>=W(r)}function EN(r,e){return`${r}${e?`:${e}`:""}`}function ci(r=[],e=[]){return[...new Set([...r,...e])]}async function xN({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;const a=typeof t=="string"?JSON.parse(t):t;let f=a==null?void 0:a.href;if(typeof f!="string")return;f.endsWith("/")&&(f=f.slice(0,-1));const p=`${f}/wc?requestId=${r}&sessionTopic=${e}`,D=ks();D===dn.browser?p.startsWith("https://")?window.open(p,"_blank","noreferrer noopener"):window.open(p,"_self","noreferrer noopener"):D===dn.reactNative&&typeof(T.g==null?void 0:T.g.Linking)<"u"&&await T.g.Linking.openURL(p)}catch(a){console.error(a)}}async function IN(r,e){try{return await r.getItem(e)||(Ba()?localStorage.getItem(e):void 0)}catch(t){console.error(t)}}const Bx="irn";function SN(r){return(r==null?void 0:r.relay)||{protocol:Bx}}function DN(r){const e=Pn[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var zx=Object.defineProperty,Hx=Object.defineProperties,Kx=Object.getOwnPropertyDescriptors,bp=Object.getOwnPropertySymbols,Vx=Object.prototype.hasOwnProperty,Wx=Object.prototype.propertyIsEnumerable,Ep=(r,e,t)=>e in r?zx(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kx=(r,e)=>{for(var t in e||(e={}))Vx.call(e,t)&&Ep(r,t,e[t]);if(bp)for(var t of bp(e))Wx.call(e,t)&&Ep(r,t,e[t]);return r},qx=(r,e)=>Hx(r,Kx(e));function Gx(r,e="-"){const t={},a="relay"+e;return Object.keys(r).forEach(f=>{if(f.startsWith(a)){const p=f.replace(a,""),D=r[f];t[p]=D}}),t}function ON(r){r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,a=r.substring(0,e),f=r.substring(e+1,t).split("@"),p=typeof t<"u"?r.substring(t):"",D=M.parse(p);return{protocol:a,topic:Jx(f[0]),version:parseInt(f[1],10),symKey:D.symKey,relay:Gx(D),expiryTimestamp:D.expiryTimestamp?parseInt(D.expiryTimestamp,10):void 0}}function Jx(r){return r.startsWith("//")?r.substring(2):r}function Yx(r,e="-"){const t="relay",a={};return Object.keys(r).forEach(f=>{const p=t+e+f;r[f]&&(a[p]=r[f])}),a}function AN(r){return`${r.protocol}:${r.topic}@${r.version}?`+M.stringify(qx(kx({symKey:r.symKey},Yx(r.relay)),{expiryTimestamp:r.expiryTimestamp}))}var Qx=Object.defineProperty,Xx=Object.defineProperties,Zx=Object.getOwnPropertyDescriptors,xp=Object.getOwnPropertySymbols,e3=Object.prototype.hasOwnProperty,t3=Object.prototype.propertyIsEnumerable,Ip=(r,e,t)=>e in r?Qx(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,r3=(r,e)=>{for(var t in e||(e={}))e3.call(e,t)&&Ip(r,t,e[t]);if(xp)for(var t of xp(e))t3.call(e,t)&&Ip(r,t,e[t]);return r},n3=(r,e)=>Xx(r,Zx(e));function qs(r){const e=[];return r.forEach(t=>{const[a,f]=t.split(":");e.push(`${a}:${f}`)}),e}function i3(r){const e=[];return Object.values(r).forEach(t=>{e.push(...qs(t.accounts))}),e}function s3(r,e){const t=[];return Object.values(r).forEach(a=>{qs(a.accounts).includes(e)&&t.push(...a.methods)}),t}function o3(r,e){const t=[];return Object.values(r).forEach(a=>{qs(a.accounts).includes(e)&&t.push(...a.events)}),t}function PN(r,e){const t=g3(r,e);if(t)throw new Error(t.message);const a={};for(const[f,p]of Object.entries(r))a[f]={methods:p.methods,events:p.events,chains:p.accounts.map(D=>`${D.split(":")[0]}:${D.split(":")[1]}`)};return a}function CN(r){const{proposal:{requiredNamespaces:e,optionalNamespaces:t={}},supportedNamespaces:a}=r,f=Sp(e),p=Sp(t),D={};Object.keys(a).forEach(B=>{const ie=a[B].chains,oe=a[B].methods,He=a[B].events,st=a[B].accounts;ie.forEach($e=>{if(!st.some(et=>et.includes($e)))throw new Error(`No accounts provided for chain ${$e} in namespace ${B}`)}),D[B]={chains:ie,methods:oe,events:He,accounts:st}});const K=y3(e,D,"approve()");if(K)throw new Error(K.message);const ne={};return!Object.keys(e).length&&!Object.keys(t).length?D:(Object.keys(f).forEach(B=>{const ie=a[B].chains.filter($e=>{var et,ct;return(ct=(et=f[B])==null?void 0:et.chains)==null?void 0:ct.includes($e)}),oe=a[B].methods.filter($e=>{var et,ct;return(ct=(et=f[B])==null?void 0:et.methods)==null?void 0:ct.includes($e)}),He=a[B].events.filter($e=>{var et,ct;return(ct=(et=f[B])==null?void 0:et.events)==null?void 0:ct.includes($e)}),st=ie.map($e=>a[B].accounts.filter(et=>et.includes(`${$e}:`))).flat();ne[B]={chains:ie,methods:oe,events:He,accounts:st}}),Object.keys(p).forEach(B=>{var ie,oe,He,st,$e,et;if(!a[B])return;const ct=(oe=(ie=p[B])==null?void 0:ie.chains)==null?void 0:oe.filter(mt=>a[B].chains.includes(mt)),xt=a[B].methods.filter(mt=>{var _t,Ot;return(Ot=(_t=p[B])==null?void 0:_t.methods)==null?void 0:Ot.includes(mt)}),$t=a[B].events.filter(mt=>{var _t,Ot;return(Ot=(_t=p[B])==null?void 0:_t.events)==null?void 0:Ot.includes(mt)}),Pt=ct==null?void 0:ct.map(mt=>a[B].accounts.filter(_t=>_t.includes(`${mt}:`))).flat();ne[B]={chains:ci((He=ne[B])==null?void 0:He.chains,ct),methods:ci((st=ne[B])==null?void 0:st.methods,xt),events:ci(($e=ne[B])==null?void 0:$e.events,$t),accounts:ci((et=ne[B])==null?void 0:et.accounts,Pt)}}),ne)}function za(r){return r.includes(":")}function Gs(r){return za(r)?r.split(":")[0]:r}function Sp(r){var e,t,a;const f={};if(!Ha(r))return f;for(const[p,D]of Object.entries(r)){const K=za(p)?[p]:D.chains,ne=D.methods||[],B=D.events||[],ie=Gs(p);f[ie]=n3(r3({},f[ie]),{chains:ci(K,(e=f[ie])==null?void 0:e.chains),methods:ci(ne,(t=f[ie])==null?void 0:t.methods),events:ci(B,(a=f[ie])==null?void 0:a.events)})}return f}const a3={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},c3={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Hi(r,e){const{message:t,code:a}=c3[r];return{message:e?`${t} ${e}`:t,code:a}}function Ki(r,e){const{message:t,code:a}=a3[r];return{message:e?`${t} ${e}`:t,code:a}}function Js(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function Ha(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function hs(r){return typeof r>"u"}function Ln(r,e){return e&&hs(r)?!0:typeof r=="string"&&!!r.trim().length}function df(r,e){return e&&hs(r)?!0:typeof r=="number"&&!isNaN(r)}function NN(r,e){const{requiredNamespaces:t}=e,a=Object.keys(r.namespaces),f=Object.keys(t);let p=!0;return ls(f,a)?(a.forEach(D=>{const{accounts:K,methods:ne,events:B}=r.namespaces[D],ie=qs(K),oe=t[D];(!ls(of(D,oe),ie)||!ls(oe.methods,ne)||!ls(oe.events,B))&&(p=!1)}),p):!1}function Ka(r){return Ln(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function u3(r){if(Ln(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&Ka(t)}}return!1}function TN(r){if(Ln(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function RN(r){var e;return(e=r==null?void 0:r.proposer)==null?void 0:e.publicKey}function FN(r){return r==null?void 0:r.topic}function UN(r,e){let t=null;return Ln(r==null?void 0:r.publicKey,!1)||(t=Hi("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function Dp(r){let e=!0;return Js(r)?r.length&&(e=r.every(t=>Ln(t,!1))):e=!1,e}function f3(r,e,t){let a=null;return Js(e)&&e.length?e.forEach(f=>{a||Ka(f)||(a=Ki("UNSUPPORTED_CHAINS",`${t}, chain ${f} should be a string and conform to "namespace:chainId" format`))}):Ka(r)||(a=Ki("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),a}function l3(r,e,t){let a=null;return Object.entries(r).forEach(([f,p])=>{if(a)return;const D=f3(f,of(f,p),`${e} ${t}`);D&&(a=D)}),a}function h3(r,e){let t=null;return Js(r)?r.forEach(a=>{t||u3(a)||(t=Ki("UNSUPPORTED_ACCOUNTS",`${e}, account ${a} should be a string and conform to "namespace:chainId:address" format`))}):t=Ki("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function d3(r,e){let t=null;return Object.values(r).forEach(a=>{if(t)return;const f=h3(a==null?void 0:a.accounts,`${e} namespace`);f&&(t=f)}),t}function p3(r,e){let t=null;return Dp(r==null?void 0:r.methods)?Dp(r==null?void 0:r.events)||(t=Ki("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Ki("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function Op(r,e){let t=null;return Object.values(r).forEach(a=>{if(t)return;const f=p3(a,`${e}, namespace`);f&&(t=f)}),t}function jN(r,e,t){let a=null;if(r&&Ha(r)){const f=Op(r,e);f&&(a=f);const p=l3(r,e,t);p&&(a=p)}else a=Hi("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return a}function g3(r,e){let t=null;if(r&&Ha(r)){const a=Op(r,e);a&&(t=a);const f=d3(r,e);f&&(t=f)}else t=Hi("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function _3(r){return Ln(r.protocol,!0)}function LN(r,e){let t=!1;return e&&!r?t=!0:r&&Js(r)&&r.length&&r.forEach(a=>{t=_3(a)}),t}function MN(r){return typeof r=="number"}function $N(r){return typeof r<"u"&&typeof r!==null}function BN(r){return!(!r||typeof r!="object"||!r.code||!df(r.code,!1)||!r.message||!Ln(r.message,!1))}function zN(r){return!(hs(r)||!Ln(r.method,!1))}function HN(r){return!(hs(r)||hs(r.result)&&hs(r.error)||!df(r.id,!1)||!Ln(r.jsonrpc,!1))}function KN(r){return!(hs(r)||!Ln(r.name,!1))}function VN(r,e){return!(!Ka(e)||!i3(r).includes(e))}function WN(r,e,t){return Ln(t,!1)?s3(r,e).includes(t):!1}function kN(r,e,t){return Ln(t,!1)?o3(r,e).includes(t):!1}function y3(r,e,t){let a=null;const f=m3(r),p=v3(e),D=Object.keys(f),K=Object.keys(p),ne=Ap(Object.keys(r)),B=Ap(Object.keys(e)),ie=ne.filter(oe=>!B.includes(oe));return ie.length&&(a=Hi("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${ie.toString()}
      Received: ${Object.keys(e).toString()}`)),ls(D,K)||(a=Hi("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${D.toString()}
      Approved: ${K.toString()}`)),Object.keys(e).forEach(oe=>{if(!oe.includes(":")||a)return;const He=qs(e[oe].accounts);He.includes(oe)||(a=Hi("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${oe}
        Required: ${oe}
        Approved: ${He.toString()}`))}),D.forEach(oe=>{a||(ls(f[oe].methods,p[oe].methods)?ls(f[oe].events,p[oe].events)||(a=Hi("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${oe}`)):a=Hi("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${oe}`))}),a}function m3(r){const e={};return Object.keys(r).forEach(t=>{var a;t.includes(":")?e[t]=r[t]:(a=r[t].chains)==null||a.forEach(f=>{e[f]={methods:r[t].methods,events:r[t].events}})}),e}function Ap(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function v3(r){const e={};return Object.keys(r).forEach(t=>{if(t.includes(":"))e[t]=r[t];else{const a=qs(r[t].accounts);a==null||a.forEach(f=>{e[f]={accounts:r[t].accounts.filter(p=>p.includes(`${f}:`)),methods:r[t].methods,events:r[t].events}})}}),e}function qN(r,e){return df(r,!1)&&r<=e.max&&r>=e.min}function GN(){const r=ks();return new Promise(e=>{switch(r){case dn.browser:e(w3());break;case dn.reactNative:e(b3());break;case dn.node:e(E3());break;default:e(!0)}})}function w3(){return Ba()&&(navigator==null?void 0:navigator.onLine)}async function b3(){if(Ro()&&typeof T.g<"u"&&T.g!=null&&T.g.NetInfo){const r=await(T.g==null?void 0:T.g.NetInfo.fetch());return r==null?void 0:r.isConnected}return!0}function E3(){return!0}function JN(r){switch(ks()){case dn.browser:x3(r);break;case dn.reactNative:I3(r);break;case dn.node:break}}function x3(r){!Ro()&&Ba()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function I3(r){var e;Ro()&&typeof T.g<"u"&&T.g!=null&&T.g.NetInfo&&((e=T.g)==null||e.NetInfo.addEventListener(t=>r(t==null?void 0:t.isConnected)))}const pf={};class YN{static get(e){return pf[e]}static set(e,t){pf[e]=t}static delete(e){delete pf[e]}}var S3=T(80699),Pp=T.n(S3);const D3=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),O3=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(a,f)=>typeof f=="string"&&f.match(/^\d+n$/)?BigInt(f.substring(0,f.length-1)):f)};function A3(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return O3(r)}catch{return r}}function Cp(r){return typeof r=="string"?r:D3(r)||""}const Np={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"},Tp=10;class Rp{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new re.EventEmitter,this.isAvailable=!1,this.registering=!1,!md(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,t){this.isAvailable||await this.register();try{const a=Cp(e),p=await(await Pp()(this.url,Object.assign(Object.assign({},Np),{body:a}))).json();this.onPayload({data:p})}catch(a){this.onError(e.id,a)}}async register(e=this.url){if(!md(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((a,f)=>{this.events.once("register_error",p=>{this.resetMaxListeners(),f(p)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return f(new Error("HTTP connection is missing or invalid"));a()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=Cp({id:1,jsonrpc:"2.0",method:"test",params:[]});await Pp()(e,Object.assign(Object.assign({},Np),{body:t}))}this.onOpen()}catch(t){const a=this.parseError(t);throw this.events.emit("register_error",a),this.onClose(),a}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?A3(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const a=this.parseError(t),f=a.message||a.toString(),p=Ra(e,f);this.events.emit("payload",p)}parseError(e,t=this.url){return gd(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Tp&&this.events.setMaxListeners(Tp)}}var P3=Rp,ds=P3;const Fp="error",C3="wss://relay.walletconnect.com",N3="wc",T3="universal_provider",Up=`${N3}@2:${T3}:`,R3="https://rpc.walletconnect.com/v1/",Ei={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof T.g<"u"?T.g:typeof self<"u"?self:{},gf={exports:{}};(function(r,e){(function(){var t,a="4.17.21",f=200,p="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",D="Expected a function",K="Invalid `variable` option passed into `_.template`",ne="__lodash_hash_undefined__",B=500,ie="__lodash_placeholder__",oe=1,He=2,st=4,$e=1,et=2,ct=1,xt=2,$t=4,Pt=8,mt=16,_t=32,Ot=64,qt=128,rr=256,bn=512,_2=30,y2="...",m2=800,v2=16,qp=1,w2=2,b2=3,gs=1/0,Wi=9007199254740991,E2=17976931348623157e292,qa=0/0,ui=4294967295,x2=ui-1,I2=ui>>>1,S2=[["ary",qt],["bind",ct],["bindKey",xt],["curry",Pt],["curryRight",mt],["flip",bn],["partial",_t],["partialRight",Ot],["rearg",rr]],Ys="[object Arguments]",Ga="[object Array]",D2="[object AsyncFunction]",jo="[object Boolean]",Lo="[object Date]",O2="[object DOMException]",Ja="[object Error]",Ya="[object Function]",Gp="[object GeneratorFunction]",Xn="[object Map]",Mo="[object Number]",A2="[object Null]",xi="[object Object]",Jp="[object Promise]",P2="[object Proxy]",$o="[object RegExp]",Zn="[object Set]",Bo="[object String]",Qa="[object Symbol]",C2="[object Undefined]",zo="[object WeakMap]",N2="[object WeakSet]",Ho="[object ArrayBuffer]",Qs="[object DataView]",If="[object Float32Array]",Sf="[object Float64Array]",Df="[object Int8Array]",Of="[object Int16Array]",Af="[object Int32Array]",Pf="[object Uint8Array]",Cf="[object Uint8ClampedArray]",Nf="[object Uint16Array]",Tf="[object Uint32Array]",T2=/\b__p \+= '';/g,R2=/\b(__p \+=) '' \+/g,F2=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Yp=/&(?:amp|lt|gt|quot|#39);/g,Qp=/[&<>"']/g,U2=RegExp(Yp.source),j2=RegExp(Qp.source),L2=/<%-([\s\S]+?)%>/g,M2=/<%([\s\S]+?)%>/g,Xp=/<%=([\s\S]+?)%>/g,$2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B2=/^\w*$/,z2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rf=/[\\^$.*+?()[\]{}|]/g,H2=RegExp(Rf.source),Ff=/^\s+/,K2=/\s/,V2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,W2=/\{\n\/\* \[wrapped with (.+)\] \*/,k2=/,? & /,q2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,G2=/[()=,{}\[\]\/\s]/,J2=/\\(\\)?/g,Y2=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Zp=/\w*$/,Q2=/^[-+]0x[0-9a-f]+$/i,X2=/^0b[01]+$/i,Z2=/^\[object .+?Constructor\]$/,eI=/^0o[0-7]+$/i,tI=/^(?:0|[1-9]\d*)$/,rI=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xa=/($^)/,nI=/['\n\r\u2028\u2029\\]/g,Za="\\ud800-\\udfff",iI="\\u0300-\\u036f",sI="\\ufe20-\\ufe2f",oI="\\u20d0-\\u20ff",eg=iI+sI+oI,tg="\\u2700-\\u27bf",rg="a-z\\xdf-\\xf6\\xf8-\\xff",aI="\\xac\\xb1\\xd7\\xf7",cI="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",uI="\\u2000-\\u206f",fI=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ng="A-Z\\xc0-\\xd6\\xd8-\\xde",ig="\\ufe0e\\ufe0f",sg=aI+cI+uI+fI,Uf="['\u2019]",lI="["+Za+"]",og="["+sg+"]",ec="["+eg+"]",ag="\\d+",hI="["+tg+"]",cg="["+rg+"]",ug="[^"+Za+sg+ag+tg+rg+ng+"]",jf="\\ud83c[\\udffb-\\udfff]",dI="(?:"+ec+"|"+jf+")",fg="[^"+Za+"]",Lf="(?:\\ud83c[\\udde6-\\uddff]){2}",Mf="[\\ud800-\\udbff][\\udc00-\\udfff]",Xs="["+ng+"]",lg="\\u200d",hg="(?:"+cg+"|"+ug+")",pI="(?:"+Xs+"|"+ug+")",dg="(?:"+Uf+"(?:d|ll|m|re|s|t|ve))?",pg="(?:"+Uf+"(?:D|LL|M|RE|S|T|VE))?",gg=dI+"?",_g="["+ig+"]?",gI="(?:"+lg+"(?:"+[fg,Lf,Mf].join("|")+")"+_g+gg+")*",_I="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yI="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yg=_g+gg+gI,mI="(?:"+[hI,Lf,Mf].join("|")+")"+yg,vI="(?:"+[fg+ec+"?",ec,Lf,Mf,lI].join("|")+")",wI=RegExp(Uf,"g"),bI=RegExp(ec,"g"),$f=RegExp(jf+"(?="+jf+")|"+vI+yg,"g"),EI=RegExp([Xs+"?"+cg+"+"+dg+"(?="+[og,Xs,"$"].join("|")+")",pI+"+"+pg+"(?="+[og,Xs+hg,"$"].join("|")+")",Xs+"?"+hg+"+"+dg,Xs+"+"+pg,yI,_I,ag,mI].join("|"),"g"),xI=RegExp("["+lg+Za+eg+ig+"]"),II=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,SI=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],DI=-1,nr={};nr[If]=nr[Sf]=nr[Df]=nr[Of]=nr[Af]=nr[Pf]=nr[Cf]=nr[Nf]=nr[Tf]=!0,nr[Ys]=nr[Ga]=nr[Ho]=nr[jo]=nr[Qs]=nr[Lo]=nr[Ja]=nr[Ya]=nr[Xn]=nr[Mo]=nr[xi]=nr[$o]=nr[Zn]=nr[Bo]=nr[zo]=!1;var tr={};tr[Ys]=tr[Ga]=tr[Ho]=tr[Qs]=tr[jo]=tr[Lo]=tr[If]=tr[Sf]=tr[Df]=tr[Of]=tr[Af]=tr[Xn]=tr[Mo]=tr[xi]=tr[$o]=tr[Zn]=tr[Bo]=tr[Qa]=tr[Pf]=tr[Cf]=tr[Nf]=tr[Tf]=!0,tr[Ja]=tr[Ya]=tr[zo]=!1;var OI={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},AI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},PI={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},CI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},NI=parseFloat,TI=parseInt,mg=typeof Fo=="object"&&Fo&&Fo.Object===Object&&Fo,RI=typeof self=="object"&&self&&self.Object===Object&&self,zr=mg||RI||Function("return this")(),Bf=e&&!e.nodeType&&e,_s=Bf&&!0&&r&&!r.nodeType&&r,vg=_s&&_s.exports===Bf,zf=vg&&mg.process,Mn=function(){try{var Ce=_s&&_s.require&&_s.require("util").types;return Ce||zf&&zf.binding&&zf.binding("util")}catch{}}(),wg=Mn&&Mn.isArrayBuffer,bg=Mn&&Mn.isDate,Eg=Mn&&Mn.isMap,xg=Mn&&Mn.isRegExp,Ig=Mn&&Mn.isSet,Sg=Mn&&Mn.isTypedArray;function En(Ce,Ge,Ke){switch(Ke.length){case 0:return Ce.call(Ge);case 1:return Ce.call(Ge,Ke[0]);case 2:return Ce.call(Ge,Ke[0],Ke[1]);case 3:return Ce.call(Ge,Ke[0],Ke[1],Ke[2])}return Ce.apply(Ge,Ke)}function FI(Ce,Ge,Ke,pt){for(var Ct=-1,Jt=Ce==null?0:Ce.length;++Ct<Jt;){var Nr=Ce[Ct];Ge(pt,Nr,Ke(Nr),Ce)}return pt}function $n(Ce,Ge){for(var Ke=-1,pt=Ce==null?0:Ce.length;++Ke<pt&&Ge(Ce[Ke],Ke,Ce)!==!1;);return Ce}function UI(Ce,Ge){for(var Ke=Ce==null?0:Ce.length;Ke--&&Ge(Ce[Ke],Ke,Ce)!==!1;);return Ce}function Dg(Ce,Ge){for(var Ke=-1,pt=Ce==null?0:Ce.length;++Ke<pt;)if(!Ge(Ce[Ke],Ke,Ce))return!1;return!0}function ki(Ce,Ge){for(var Ke=-1,pt=Ce==null?0:Ce.length,Ct=0,Jt=[];++Ke<pt;){var Nr=Ce[Ke];Ge(Nr,Ke,Ce)&&(Jt[Ct++]=Nr)}return Jt}function tc(Ce,Ge){var Ke=Ce==null?0:Ce.length;return!!Ke&&Zs(Ce,Ge,0)>-1}function Hf(Ce,Ge,Ke){for(var pt=-1,Ct=Ce==null?0:Ce.length;++pt<Ct;)if(Ke(Ge,Ce[pt]))return!0;return!1}function ar(Ce,Ge){for(var Ke=-1,pt=Ce==null?0:Ce.length,Ct=Array(pt);++Ke<pt;)Ct[Ke]=Ge(Ce[Ke],Ke,Ce);return Ct}function qi(Ce,Ge){for(var Ke=-1,pt=Ge.length,Ct=Ce.length;++Ke<pt;)Ce[Ct+Ke]=Ge[Ke];return Ce}function Kf(Ce,Ge,Ke,pt){var Ct=-1,Jt=Ce==null?0:Ce.length;for(pt&&Jt&&(Ke=Ce[++Ct]);++Ct<Jt;)Ke=Ge(Ke,Ce[Ct],Ct,Ce);return Ke}function jI(Ce,Ge,Ke,pt){var Ct=Ce==null?0:Ce.length;for(pt&&Ct&&(Ke=Ce[--Ct]);Ct--;)Ke=Ge(Ke,Ce[Ct],Ct,Ce);return Ke}function Vf(Ce,Ge){for(var Ke=-1,pt=Ce==null?0:Ce.length;++Ke<pt;)if(Ge(Ce[Ke],Ke,Ce))return!0;return!1}var LI=Wf("length");function MI(Ce){return Ce.split("")}function $I(Ce){return Ce.match(q2)||[]}function Og(Ce,Ge,Ke){var pt;return Ke(Ce,function(Ct,Jt,Nr){if(Ge(Ct,Jt,Nr))return pt=Jt,!1}),pt}function rc(Ce,Ge,Ke,pt){for(var Ct=Ce.length,Jt=Ke+(pt?1:-1);pt?Jt--:++Jt<Ct;)if(Ge(Ce[Jt],Jt,Ce))return Jt;return-1}function Zs(Ce,Ge,Ke){return Ge===Ge?QI(Ce,Ge,Ke):rc(Ce,Ag,Ke)}function BI(Ce,Ge,Ke,pt){for(var Ct=Ke-1,Jt=Ce.length;++Ct<Jt;)if(pt(Ce[Ct],Ge))return Ct;return-1}function Ag(Ce){return Ce!==Ce}function Pg(Ce,Ge){var Ke=Ce==null?0:Ce.length;return Ke?qf(Ce,Ge)/Ke:qa}function Wf(Ce){return function(Ge){return Ge==null?t:Ge[Ce]}}function kf(Ce){return function(Ge){return Ce==null?t:Ce[Ge]}}function Cg(Ce,Ge,Ke,pt,Ct){return Ct(Ce,function(Jt,Nr,Zt){Ke=pt?(pt=!1,Jt):Ge(Ke,Jt,Nr,Zt)}),Ke}function zI(Ce,Ge){var Ke=Ce.length;for(Ce.sort(Ge);Ke--;)Ce[Ke]=Ce[Ke].value;return Ce}function qf(Ce,Ge){for(var Ke,pt=-1,Ct=Ce.length;++pt<Ct;){var Jt=Ge(Ce[pt]);Jt!==t&&(Ke=Ke===t?Jt:Ke+Jt)}return Ke}function Gf(Ce,Ge){for(var Ke=-1,pt=Array(Ce);++Ke<Ce;)pt[Ke]=Ge(Ke);return pt}function HI(Ce,Ge){return ar(Ge,function(Ke){return[Ke,Ce[Ke]]})}function Ng(Ce){return Ce&&Ce.slice(0,Ug(Ce)+1).replace(Ff,"")}function xn(Ce){return function(Ge){return Ce(Ge)}}function Jf(Ce,Ge){return ar(Ge,function(Ke){return Ce[Ke]})}function Ko(Ce,Ge){return Ce.has(Ge)}function Tg(Ce,Ge){for(var Ke=-1,pt=Ce.length;++Ke<pt&&Zs(Ge,Ce[Ke],0)>-1;);return Ke}function Rg(Ce,Ge){for(var Ke=Ce.length;Ke--&&Zs(Ge,Ce[Ke],0)>-1;);return Ke}function KI(Ce,Ge){for(var Ke=Ce.length,pt=0;Ke--;)Ce[Ke]===Ge&&++pt;return pt}var VI=kf(OI),WI=kf(AI);function kI(Ce){return"\\"+CI[Ce]}function qI(Ce,Ge){return Ce==null?t:Ce[Ge]}function eo(Ce){return xI.test(Ce)}function GI(Ce){return II.test(Ce)}function JI(Ce){for(var Ge,Ke=[];!(Ge=Ce.next()).done;)Ke.push(Ge.value);return Ke}function Yf(Ce){var Ge=-1,Ke=Array(Ce.size);return Ce.forEach(function(pt,Ct){Ke[++Ge]=[Ct,pt]}),Ke}function Fg(Ce,Ge){return function(Ke){return Ce(Ge(Ke))}}function Gi(Ce,Ge){for(var Ke=-1,pt=Ce.length,Ct=0,Jt=[];++Ke<pt;){var Nr=Ce[Ke];(Nr===Ge||Nr===ie)&&(Ce[Ke]=ie,Jt[Ct++]=Ke)}return Jt}function nc(Ce){var Ge=-1,Ke=Array(Ce.size);return Ce.forEach(function(pt){Ke[++Ge]=pt}),Ke}function YI(Ce){var Ge=-1,Ke=Array(Ce.size);return Ce.forEach(function(pt){Ke[++Ge]=[pt,pt]}),Ke}function QI(Ce,Ge,Ke){for(var pt=Ke-1,Ct=Ce.length;++pt<Ct;)if(Ce[pt]===Ge)return pt;return-1}function XI(Ce,Ge,Ke){for(var pt=Ke+1;pt--;)if(Ce[pt]===Ge)return pt;return pt}function to(Ce){return eo(Ce)?eS(Ce):LI(Ce)}function ei(Ce){return eo(Ce)?tS(Ce):MI(Ce)}function Ug(Ce){for(var Ge=Ce.length;Ge--&&K2.test(Ce.charAt(Ge)););return Ge}var ZI=kf(PI);function eS(Ce){for(var Ge=$f.lastIndex=0;$f.test(Ce);)++Ge;return Ge}function tS(Ce){return Ce.match($f)||[]}function rS(Ce){return Ce.match(EI)||[]}var nS=function Ce(Ge){Ge=Ge==null?zr:ro.defaults(zr.Object(),Ge,ro.pick(zr,SI));var Ke=Ge.Array,pt=Ge.Date,Ct=Ge.Error,Jt=Ge.Function,Nr=Ge.Math,Zt=Ge.Object,Qf=Ge.RegExp,iS=Ge.String,Bn=Ge.TypeError,ic=Ke.prototype,sS=Jt.prototype,no=Zt.prototype,sc=Ge["__core-js_shared__"],oc=sS.toString,Qt=no.hasOwnProperty,oS=0,jg=function(){var n=/[^.]+$/.exec(sc&&sc.keys&&sc.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),ac=no.toString,aS=oc.call(Zt),cS=zr._,uS=Qf("^"+oc.call(Qt).replace(Rf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cc=vg?Ge.Buffer:t,Ji=Ge.Symbol,uc=Ge.Uint8Array,Lg=cc?cc.allocUnsafe:t,fc=Fg(Zt.getPrototypeOf,Zt),Mg=Zt.create,$g=no.propertyIsEnumerable,lc=ic.splice,Bg=Ji?Ji.isConcatSpreadable:t,Vo=Ji?Ji.iterator:t,ys=Ji?Ji.toStringTag:t,hc=function(){try{var n=Es(Zt,"defineProperty");return n({},"",{}),n}catch{}}(),fS=Ge.clearTimeout!==zr.clearTimeout&&Ge.clearTimeout,lS=pt&&pt.now!==zr.Date.now&&pt.now,hS=Ge.setTimeout!==zr.setTimeout&&Ge.setTimeout,dc=Nr.ceil,pc=Nr.floor,Xf=Zt.getOwnPropertySymbols,dS=cc?cc.isBuffer:t,zg=Ge.isFinite,pS=ic.join,gS=Fg(Zt.keys,Zt),Tr=Nr.max,kr=Nr.min,_S=pt.now,yS=Ge.parseInt,Hg=Nr.random,mS=ic.reverse,Zf=Es(Ge,"DataView"),Wo=Es(Ge,"Map"),el=Es(Ge,"Promise"),io=Es(Ge,"Set"),ko=Es(Ge,"WeakMap"),qo=Es(Zt,"create"),gc=ko&&new ko,so={},vS=xs(Zf),wS=xs(Wo),bS=xs(el),ES=xs(io),xS=xs(ko),_c=Ji?Ji.prototype:t,Go=_c?_c.valueOf:t,Kg=_c?_c.toString:t;function j(n){if(gr(n)&&!Tt(n)&&!(n instanceof Bt)){if(n instanceof zn)return n;if(Qt.call(n,"__wrapped__"))return V0(n)}return new zn(n)}var oo=function(){function n(){}return function(o){if(!fr(o))return{};if(Mg)return Mg(o);n.prototype=o;var l=new n;return n.prototype=t,l}}();function yc(){}function zn(n,o){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=t}j.templateSettings={escape:L2,evaluate:M2,interpolate:Xp,variable:"",imports:{_:j}},j.prototype=yc.prototype,j.prototype.constructor=j,zn.prototype=oo(yc.prototype),zn.prototype.constructor=zn;function Bt(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ui,this.__views__=[]}function IS(){var n=new Bt(this.__wrapped__);return n.__actions__=pn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=pn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=pn(this.__views__),n}function SS(){if(this.__filtered__){var n=new Bt(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function DS(){var n=this.__wrapped__.value(),o=this.__dir__,l=Tt(n),y=o<0,N=l?n.length:0,z=MD(0,N,this.__views__),te=z.start,we=z.end,Ne=we-te,Ye=y?we:te-1,Qe=this.__iteratees__,tt=Qe.length,ut=0,wt=kr(Ne,this.__takeCount__);if(!l||!y&&N==Ne&&wt==Ne)return d0(n,this.__actions__);var St=[];e:for(;Ne--&&ut<wt;){Ye+=o;for(var Ut=-1,Dt=n[Ye];++Ut<tt;){var Mt=Qe[Ut],Kt=Mt.iteratee,Cn=Mt.type,tn=Kt(Dt);if(Cn==w2)Dt=tn;else if(!tn){if(Cn==qp)continue e;break e}}St[ut++]=Dt}return St}Bt.prototype=oo(yc.prototype),Bt.prototype.constructor=Bt;function ms(n){var o=-1,l=n==null?0:n.length;for(this.clear();++o<l;){var y=n[o];this.set(y[0],y[1])}}function OS(){this.__data__=qo?qo(null):{},this.size=0}function AS(n){var o=this.has(n)&&delete this.__data__[n];return this.size-=o?1:0,o}function PS(n){var o=this.__data__;if(qo){var l=o[n];return l===ne?t:l}return Qt.call(o,n)?o[n]:t}function CS(n){var o=this.__data__;return qo?o[n]!==t:Qt.call(o,n)}function NS(n,o){var l=this.__data__;return this.size+=this.has(n)?0:1,l[n]=qo&&o===t?ne:o,this}ms.prototype.clear=OS,ms.prototype.delete=AS,ms.prototype.get=PS,ms.prototype.has=CS,ms.prototype.set=NS;function Ii(n){var o=-1,l=n==null?0:n.length;for(this.clear();++o<l;){var y=n[o];this.set(y[0],y[1])}}function TS(){this.__data__=[],this.size=0}function RS(n){var o=this.__data__,l=mc(o,n);if(l<0)return!1;var y=o.length-1;return l==y?o.pop():lc.call(o,l,1),--this.size,!0}function FS(n){var o=this.__data__,l=mc(o,n);return l<0?t:o[l][1]}function US(n){return mc(this.__data__,n)>-1}function jS(n,o){var l=this.__data__,y=mc(l,n);return y<0?(++this.size,l.push([n,o])):l[y][1]=o,this}Ii.prototype.clear=TS,Ii.prototype.delete=RS,Ii.prototype.get=FS,Ii.prototype.has=US,Ii.prototype.set=jS;function Si(n){var o=-1,l=n==null?0:n.length;for(this.clear();++o<l;){var y=n[o];this.set(y[0],y[1])}}function LS(){this.size=0,this.__data__={hash:new ms,map:new(Wo||Ii),string:new ms}}function MS(n){var o=Cc(this,n).delete(n);return this.size-=o?1:0,o}function $S(n){return Cc(this,n).get(n)}function BS(n){return Cc(this,n).has(n)}function zS(n,o){var l=Cc(this,n),y=l.size;return l.set(n,o),this.size+=l.size==y?0:1,this}Si.prototype.clear=LS,Si.prototype.delete=MS,Si.prototype.get=$S,Si.prototype.has=BS,Si.prototype.set=zS;function vs(n){var o=-1,l=n==null?0:n.length;for(this.__data__=new Si;++o<l;)this.add(n[o])}function HS(n){return this.__data__.set(n,ne),this}function KS(n){return this.__data__.has(n)}vs.prototype.add=vs.prototype.push=HS,vs.prototype.has=KS;function ti(n){var o=this.__data__=new Ii(n);this.size=o.size}function VS(){this.__data__=new Ii,this.size=0}function WS(n){var o=this.__data__,l=o.delete(n);return this.size=o.size,l}function kS(n){return this.__data__.get(n)}function qS(n){return this.__data__.has(n)}function GS(n,o){var l=this.__data__;if(l instanceof Ii){var y=l.__data__;if(!Wo||y.length<f-1)return y.push([n,o]),this.size=++l.size,this;l=this.__data__=new Si(y)}return l.set(n,o),this.size=l.size,this}ti.prototype.clear=VS,ti.prototype.delete=WS,ti.prototype.get=kS,ti.prototype.has=qS,ti.prototype.set=GS;function Vg(n,o){var l=Tt(n),y=!l&&Is(n),N=!l&&!y&&es(n),z=!l&&!y&&!N&&fo(n),te=l||y||N||z,we=te?Gf(n.length,iS):[],Ne=we.length;for(var Ye in n)(o||Qt.call(n,Ye))&&!(te&&(Ye=="length"||N&&(Ye=="offset"||Ye=="parent")||z&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||Pi(Ye,Ne)))&&we.push(Ye);return we}function Wg(n){var o=n.length;return o?n[ll(0,o-1)]:t}function JS(n,o){return Nc(pn(n),ws(o,0,n.length))}function YS(n){return Nc(pn(n))}function tl(n,o,l){(l!==t&&!ri(n[o],l)||l===t&&!(o in n))&&Di(n,o,l)}function Jo(n,o,l){var y=n[o];(!(Qt.call(n,o)&&ri(y,l))||l===t&&!(o in n))&&Di(n,o,l)}function mc(n,o){for(var l=n.length;l--;)if(ri(n[l][0],o))return l;return-1}function QS(n,o,l,y){return Yi(n,function(N,z,te){o(y,N,l(N),te)}),y}function kg(n,o){return n&&li(o,jr(o),n)}function XS(n,o){return n&&li(o,_n(o),n)}function Di(n,o,l){o=="__proto__"&&hc?hc(n,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):n[o]=l}function rl(n,o){for(var l=-1,y=o.length,N=Ke(y),z=n==null;++l<y;)N[l]=z?t:jl(n,o[l]);return N}function ws(n,o,l){return n===n&&(l!==t&&(n=n<=l?n:l),o!==t&&(n=n>=o?n:o)),n}function Hn(n,o,l,y,N,z){var te,we=o&oe,Ne=o&He,Ye=o&st;if(l&&(te=N?l(n,y,N,z):l(n)),te!==t)return te;if(!fr(n))return n;var Qe=Tt(n);if(Qe){if(te=BD(n),!we)return pn(n,te)}else{var tt=qr(n),ut=tt==Ya||tt==Gp;if(es(n))return _0(n,we);if(tt==xi||tt==Ys||ut&&!N){if(te=Ne||ut?{}:U0(n),!we)return Ne?PD(n,XS(te,n)):AD(n,kg(te,n))}else{if(!tr[tt])return N?n:{};te=zD(n,tt,we)}}z||(z=new ti);var wt=z.get(n);if(wt)return wt;z.set(n,te),f_(n)?n.forEach(function(Dt){te.add(Hn(Dt,o,l,Dt,n,z))}):c_(n)&&n.forEach(function(Dt,Mt){te.set(Mt,Hn(Dt,o,l,Mt,n,z))});var St=Ye?Ne?El:bl:Ne?_n:jr,Ut=Qe?t:St(n);return $n(Ut||n,function(Dt,Mt){Ut&&(Mt=Dt,Dt=n[Mt]),Jo(te,Mt,Hn(Dt,o,l,Mt,n,z))}),te}function ZS(n){var o=jr(n);return function(l){return qg(l,n,o)}}function qg(n,o,l){var y=l.length;if(n==null)return!y;for(n=Zt(n);y--;){var N=l[y],z=o[N],te=n[N];if(te===t&&!(N in n)||!z(te))return!1}return!0}function Gg(n,o,l){if(typeof n!="function")throw new Bn(D);return ra(function(){n.apply(t,l)},o)}function Yo(n,o,l,y){var N=-1,z=tc,te=!0,we=n.length,Ne=[],Ye=o.length;if(!we)return Ne;l&&(o=ar(o,xn(l))),y?(z=Hf,te=!1):o.length>=f&&(z=Ko,te=!1,o=new vs(o));e:for(;++N<we;){var Qe=n[N],tt=l==null?Qe:l(Qe);if(Qe=y||Qe!==0?Qe:0,te&&tt===tt){for(var ut=Ye;ut--;)if(o[ut]===tt)continue e;Ne.push(Qe)}else z(o,tt,y)||Ne.push(Qe)}return Ne}var Yi=b0(fi),Jg=b0(il,!0);function eD(n,o){var l=!0;return Yi(n,function(y,N,z){return l=!!o(y,N,z),l}),l}function vc(n,o,l){for(var y=-1,N=n.length;++y<N;){var z=n[y],te=o(z);if(te!=null&&(we===t?te===te&&!An(te):l(te,we)))var we=te,Ne=z}return Ne}function tD(n,o,l,y){var N=n.length;for(l=Rt(l),l<0&&(l=-l>N?0:N+l),y=y===t||y>N?N:Rt(y),y<0&&(y+=N),y=l>y?0:h_(y);l<y;)n[l++]=o;return n}function Yg(n,o){var l=[];return Yi(n,function(y,N,z){o(y,N,z)&&l.push(y)}),l}function Hr(n,o,l,y,N){var z=-1,te=n.length;for(l||(l=KD),N||(N=[]);++z<te;){var we=n[z];o>0&&l(we)?o>1?Hr(we,o-1,l,y,N):qi(N,we):y||(N[N.length]=we)}return N}var nl=E0(),Qg=E0(!0);function fi(n,o){return n&&nl(n,o,jr)}function il(n,o){return n&&Qg(n,o,jr)}function wc(n,o){return ki(o,function(l){return Ci(n[l])})}function bs(n,o){o=Xi(o,n);for(var l=0,y=o.length;n!=null&&l<y;)n=n[hi(o[l++])];return l&&l==y?n:t}function Xg(n,o,l){var y=o(n);return Tt(n)?y:qi(y,l(n))}function Zr(n){return n==null?n===t?C2:A2:ys&&ys in Zt(n)?LD(n):YD(n)}function sl(n,o){return n>o}function rD(n,o){return n!=null&&Qt.call(n,o)}function nD(n,o){return n!=null&&o in Zt(n)}function iD(n,o,l){return n>=kr(o,l)&&n<Tr(o,l)}function ol(n,o,l){for(var y=l?Hf:tc,N=n[0].length,z=n.length,te=z,we=Ke(z),Ne=1/0,Ye=[];te--;){var Qe=n[te];te&&o&&(Qe=ar(Qe,xn(o))),Ne=kr(Qe.length,Ne),we[te]=!l&&(o||N>=120&&Qe.length>=120)?new vs(te&&Qe):t}Qe=n[0];var tt=-1,ut=we[0];e:for(;++tt<N&&Ye.length<Ne;){var wt=Qe[tt],St=o?o(wt):wt;if(wt=l||wt!==0?wt:0,!(ut?Ko(ut,St):y(Ye,St,l))){for(te=z;--te;){var Ut=we[te];if(!(Ut?Ko(Ut,St):y(n[te],St,l)))continue e}ut&&ut.push(St),Ye.push(wt)}}return Ye}function sD(n,o,l,y){return fi(n,function(N,z,te){o(y,l(N),z,te)}),y}function Qo(n,o,l){o=Xi(o,n),n=$0(n,o);var y=n==null?n:n[hi(Vn(o))];return y==null?t:En(y,n,l)}function Zg(n){return gr(n)&&Zr(n)==Ys}function oD(n){return gr(n)&&Zr(n)==Ho}function aD(n){return gr(n)&&Zr(n)==Lo}function Xo(n,o,l,y,N){return n===o?!0:n==null||o==null||!gr(n)&&!gr(o)?n!==n&&o!==o:cD(n,o,l,y,Xo,N)}function cD(n,o,l,y,N,z){var te=Tt(n),we=Tt(o),Ne=te?Ga:qr(n),Ye=we?Ga:qr(o);Ne=Ne==Ys?xi:Ne,Ye=Ye==Ys?xi:Ye;var Qe=Ne==xi,tt=Ye==xi,ut=Ne==Ye;if(ut&&es(n)){if(!es(o))return!1;te=!0,Qe=!1}if(ut&&!Qe)return z||(z=new ti),te||fo(n)?T0(n,o,l,y,N,z):UD(n,o,Ne,l,y,N,z);if(!(l&$e)){var wt=Qe&&Qt.call(n,"__wrapped__"),St=tt&&Qt.call(o,"__wrapped__");if(wt||St){var Ut=wt?n.value():n,Dt=St?o.value():o;return z||(z=new ti),N(Ut,Dt,l,y,z)}}return ut?(z||(z=new ti),jD(n,o,l,y,N,z)):!1}function uD(n){return gr(n)&&qr(n)==Xn}function al(n,o,l,y){var N=l.length,z=N,te=!y;if(n==null)return!z;for(n=Zt(n);N--;){var we=l[N];if(te&&we[2]?we[1]!==n[we[0]]:!(we[0]in n))return!1}for(;++N<z;){we=l[N];var Ne=we[0],Ye=n[Ne],Qe=we[1];if(te&&we[2]){if(Ye===t&&!(Ne in n))return!1}else{var tt=new ti;if(y)var ut=y(Ye,Qe,Ne,n,o,tt);if(!(ut===t?Xo(Qe,Ye,$e|et,y,tt):ut))return!1}}return!0}function e0(n){if(!fr(n)||WD(n))return!1;var o=Ci(n)?uS:Z2;return o.test(xs(n))}function fD(n){return gr(n)&&Zr(n)==$o}function lD(n){return gr(n)&&qr(n)==Zn}function hD(n){return gr(n)&&Lc(n.length)&&!!nr[Zr(n)]}function t0(n){return typeof n=="function"?n:n==null?yn:typeof n=="object"?Tt(n)?i0(n[0],n[1]):n0(n):x_(n)}function cl(n){if(!ta(n))return gS(n);var o=[];for(var l in Zt(n))Qt.call(n,l)&&l!="constructor"&&o.push(l);return o}function dD(n){if(!fr(n))return JD(n);var o=ta(n),l=[];for(var y in n)y=="constructor"&&(o||!Qt.call(n,y))||l.push(y);return l}function ul(n,o){return n<o}function r0(n,o){var l=-1,y=gn(n)?Ke(n.length):[];return Yi(n,function(N,z,te){y[++l]=o(N,z,te)}),y}function n0(n){var o=Il(n);return o.length==1&&o[0][2]?L0(o[0][0],o[0][1]):function(l){return l===n||al(l,n,o)}}function i0(n,o){return Dl(n)&&j0(o)?L0(hi(n),o):function(l){var y=jl(l,n);return y===t&&y===o?Ll(l,n):Xo(o,y,$e|et)}}function bc(n,o,l,y,N){n!==o&&nl(o,function(z,te){if(N||(N=new ti),fr(z))pD(n,o,te,l,bc,y,N);else{var we=y?y(Al(n,te),z,te+"",n,o,N):t;we===t&&(we=z),tl(n,te,we)}},_n)}function pD(n,o,l,y,N,z,te){var we=Al(n,l),Ne=Al(o,l),Ye=te.get(Ne);if(Ye){tl(n,l,Ye);return}var Qe=z?z(we,Ne,l+"",n,o,te):t,tt=Qe===t;if(tt){var ut=Tt(Ne),wt=!ut&&es(Ne),St=!ut&&!wt&&fo(Ne);Qe=Ne,ut||wt||St?Tt(we)?Qe=we:br(we)?Qe=pn(we):wt?(tt=!1,Qe=_0(Ne,!0)):St?(tt=!1,Qe=y0(Ne,!0)):Qe=[]:na(Ne)||Is(Ne)?(Qe=we,Is(we)?Qe=d_(we):(!fr(we)||Ci(we))&&(Qe=U0(Ne))):tt=!1}tt&&(te.set(Ne,Qe),N(Qe,Ne,y,z,te),te.delete(Ne)),tl(n,l,Qe)}function s0(n,o){var l=n.length;if(l)return o+=o<0?l:0,Pi(o,l)?n[o]:t}function o0(n,o,l){o.length?o=ar(o,function(z){return Tt(z)?function(te){return bs(te,z.length===1?z[0]:z)}:z}):o=[yn];var y=-1;o=ar(o,xn(It()));var N=r0(n,function(z,te,we){var Ne=ar(o,function(Ye){return Ye(z)});return{criteria:Ne,index:++y,value:z}});return zI(N,function(z,te){return OD(z,te,l)})}function gD(n,o){return a0(n,o,function(l,y){return Ll(n,y)})}function a0(n,o,l){for(var y=-1,N=o.length,z={};++y<N;){var te=o[y],we=bs(n,te);l(we,te)&&Zo(z,Xi(te,n),we)}return z}function _D(n){return function(o){return bs(o,n)}}function fl(n,o,l,y){var N=y?BI:Zs,z=-1,te=o.length,we=n;for(n===o&&(o=pn(o)),l&&(we=ar(n,xn(l)));++z<te;)for(var Ne=0,Ye=o[z],Qe=l?l(Ye):Ye;(Ne=N(we,Qe,Ne,y))>-1;)we!==n&&lc.call(we,Ne,1),lc.call(n,Ne,1);return n}function c0(n,o){for(var l=n?o.length:0,y=l-1;l--;){var N=o[l];if(l==y||N!==z){var z=N;Pi(N)?lc.call(n,N,1):pl(n,N)}}return n}function ll(n,o){return n+pc(Hg()*(o-n+1))}function yD(n,o,l,y){for(var N=-1,z=Tr(dc((o-n)/(l||1)),0),te=Ke(z);z--;)te[y?z:++N]=n,n+=l;return te}function hl(n,o){var l="";if(!n||o<1||o>Wi)return l;do o%2&&(l+=n),o=pc(o/2),o&&(n+=n);while(o);return l}function Lt(n,o){return Pl(M0(n,o,yn),n+"")}function mD(n){return Wg(lo(n))}function vD(n,o){var l=lo(n);return Nc(l,ws(o,0,l.length))}function Zo(n,o,l,y){if(!fr(n))return n;o=Xi(o,n);for(var N=-1,z=o.length,te=z-1,we=n;we!=null&&++N<z;){var Ne=hi(o[N]),Ye=l;if(Ne==="__proto__"||Ne==="constructor"||Ne==="prototype")return n;if(N!=te){var Qe=we[Ne];Ye=y?y(Qe,Ne,we):t,Ye===t&&(Ye=fr(Qe)?Qe:Pi(o[N+1])?[]:{})}Jo(we,Ne,Ye),we=we[Ne]}return n}var u0=gc?function(n,o){return gc.set(n,o),n}:yn,wD=hc?function(n,o){return hc(n,"toString",{configurable:!0,enumerable:!1,value:$l(o),writable:!0})}:yn;function bD(n){return Nc(lo(n))}function Kn(n,o,l){var y=-1,N=n.length;o<0&&(o=-o>N?0:N+o),l=l>N?N:l,l<0&&(l+=N),N=o>l?0:l-o>>>0,o>>>=0;for(var z=Ke(N);++y<N;)z[y]=n[y+o];return z}function ED(n,o){var l;return Yi(n,function(y,N,z){return l=o(y,N,z),!l}),!!l}function Ec(n,o,l){var y=0,N=n==null?y:n.length;if(typeof o=="number"&&o===o&&N<=I2){for(;y<N;){var z=y+N>>>1,te=n[z];te!==null&&!An(te)&&(l?te<=o:te<o)?y=z+1:N=z}return N}return dl(n,o,yn,l)}function dl(n,o,l,y){var N=0,z=n==null?0:n.length;if(z===0)return 0;o=l(o);for(var te=o!==o,we=o===null,Ne=An(o),Ye=o===t;N<z;){var Qe=pc((N+z)/2),tt=l(n[Qe]),ut=tt!==t,wt=tt===null,St=tt===tt,Ut=An(tt);if(te)var Dt=y||St;else Ye?Dt=St&&(y||ut):we?Dt=St&&ut&&(y||!wt):Ne?Dt=St&&ut&&!wt&&(y||!Ut):wt||Ut?Dt=!1:Dt=y?tt<=o:tt<o;Dt?N=Qe+1:z=Qe}return kr(z,x2)}function f0(n,o){for(var l=-1,y=n.length,N=0,z=[];++l<y;){var te=n[l],we=o?o(te):te;if(!l||!ri(we,Ne)){var Ne=we;z[N++]=te===0?0:te}}return z}function l0(n){return typeof n=="number"?n:An(n)?qa:+n}function Dn(n){if(typeof n=="string")return n;if(Tt(n))return ar(n,Dn)+"";if(An(n))return Kg?Kg.call(n):"";var o=n+"";return o=="0"&&1/n==-gs?"-0":o}function Qi(n,o,l){var y=-1,N=tc,z=n.length,te=!0,we=[],Ne=we;if(l)te=!1,N=Hf;else if(z>=f){var Ye=o?null:RD(n);if(Ye)return nc(Ye);te=!1,N=Ko,Ne=new vs}else Ne=o?[]:we;e:for(;++y<z;){var Qe=n[y],tt=o?o(Qe):Qe;if(Qe=l||Qe!==0?Qe:0,te&&tt===tt){for(var ut=Ne.length;ut--;)if(Ne[ut]===tt)continue e;o&&Ne.push(tt),we.push(Qe)}else N(Ne,tt,l)||(Ne!==we&&Ne.push(tt),we.push(Qe))}return we}function pl(n,o){return o=Xi(o,n),n=$0(n,o),n==null||delete n[hi(Vn(o))]}function h0(n,o,l,y){return Zo(n,o,l(bs(n,o)),y)}function xc(n,o,l,y){for(var N=n.length,z=y?N:-1;(y?z--:++z<N)&&o(n[z],z,n););return l?Kn(n,y?0:z,y?z+1:N):Kn(n,y?z+1:0,y?N:z)}function d0(n,o){var l=n;return l instanceof Bt&&(l=l.value()),Kf(o,function(y,N){return N.func.apply(N.thisArg,qi([y],N.args))},l)}function gl(n,o,l){var y=n.length;if(y<2)return y?Qi(n[0]):[];for(var N=-1,z=Ke(y);++N<y;)for(var te=n[N],we=-1;++we<y;)we!=N&&(z[N]=Yo(z[N]||te,n[we],o,l));return Qi(Hr(z,1),o,l)}function p0(n,o,l){for(var y=-1,N=n.length,z=o.length,te={};++y<N;){var we=y<z?o[y]:t;l(te,n[y],we)}return te}function _l(n){return br(n)?n:[]}function yl(n){return typeof n=="function"?n:yn}function Xi(n,o){return Tt(n)?n:Dl(n,o)?[n]:K0(Yt(n))}var xD=Lt;function Zi(n,o,l){var y=n.length;return l=l===t?y:l,!o&&l>=y?n:Kn(n,o,l)}var g0=fS||function(n){return zr.clearTimeout(n)};function _0(n,o){if(o)return n.slice();var l=n.length,y=Lg?Lg(l):new n.constructor(l);return n.copy(y),y}function ml(n){var o=new n.constructor(n.byteLength);return new uc(o).set(new uc(n)),o}function ID(n,o){var l=o?ml(n.buffer):n.buffer;return new n.constructor(l,n.byteOffset,n.byteLength)}function SD(n){var o=new n.constructor(n.source,Zp.exec(n));return o.lastIndex=n.lastIndex,o}function DD(n){return Go?Zt(Go.call(n)):{}}function y0(n,o){var l=o?ml(n.buffer):n.buffer;return new n.constructor(l,n.byteOffset,n.length)}function m0(n,o){if(n!==o){var l=n!==t,y=n===null,N=n===n,z=An(n),te=o!==t,we=o===null,Ne=o===o,Ye=An(o);if(!we&&!Ye&&!z&&n>o||z&&te&&Ne&&!we&&!Ye||y&&te&&Ne||!l&&Ne||!N)return 1;if(!y&&!z&&!Ye&&n<o||Ye&&l&&N&&!y&&!z||we&&l&&N||!te&&N||!Ne)return-1}return 0}function OD(n,o,l){for(var y=-1,N=n.criteria,z=o.criteria,te=N.length,we=l.length;++y<te;){var Ne=m0(N[y],z[y]);if(Ne){if(y>=we)return Ne;var Ye=l[y];return Ne*(Ye=="desc"?-1:1)}}return n.index-o.index}function v0(n,o,l,y){for(var N=-1,z=n.length,te=l.length,we=-1,Ne=o.length,Ye=Tr(z-te,0),Qe=Ke(Ne+Ye),tt=!y;++we<Ne;)Qe[we]=o[we];for(;++N<te;)(tt||N<z)&&(Qe[l[N]]=n[N]);for(;Ye--;)Qe[we++]=n[N++];return Qe}function w0(n,o,l,y){for(var N=-1,z=n.length,te=-1,we=l.length,Ne=-1,Ye=o.length,Qe=Tr(z-we,0),tt=Ke(Qe+Ye),ut=!y;++N<Qe;)tt[N]=n[N];for(var wt=N;++Ne<Ye;)tt[wt+Ne]=o[Ne];for(;++te<we;)(ut||N<z)&&(tt[wt+l[te]]=n[N++]);return tt}function pn(n,o){var l=-1,y=n.length;for(o||(o=Ke(y));++l<y;)o[l]=n[l];return o}function li(n,o,l,y){var N=!l;l||(l={});for(var z=-1,te=o.length;++z<te;){var we=o[z],Ne=y?y(l[we],n[we],we,l,n):t;Ne===t&&(Ne=n[we]),N?Di(l,we,Ne):Jo(l,we,Ne)}return l}function AD(n,o){return li(n,Sl(n),o)}function PD(n,o){return li(n,R0(n),o)}function Ic(n,o){return function(l,y){var N=Tt(l)?FI:QS,z=o?o():{};return N(l,n,It(y,2),z)}}function ao(n){return Lt(function(o,l){var y=-1,N=l.length,z=N>1?l[N-1]:t,te=N>2?l[2]:t;for(z=n.length>3&&typeof z=="function"?(N--,z):t,te&&en(l[0],l[1],te)&&(z=N<3?t:z,N=1),o=Zt(o);++y<N;){var we=l[y];we&&n(o,we,y,z)}return o})}function b0(n,o){return function(l,y){if(l==null)return l;if(!gn(l))return n(l,y);for(var N=l.length,z=o?N:-1,te=Zt(l);(o?z--:++z<N)&&y(te[z],z,te)!==!1;);return l}}function E0(n){return function(o,l,y){for(var N=-1,z=Zt(o),te=y(o),we=te.length;we--;){var Ne=te[n?we:++N];if(l(z[Ne],Ne,z)===!1)break}return o}}function CD(n,o,l){var y=o&ct,N=ea(n);function z(){var te=this&&this!==zr&&this instanceof z?N:n;return te.apply(y?l:this,arguments)}return z}function x0(n){return function(o){o=Yt(o);var l=eo(o)?ei(o):t,y=l?l[0]:o.charAt(0),N=l?Zi(l,1).join(""):o.slice(1);return y[n]()+N}}function co(n){return function(o){return Kf(b_(w_(o).replace(wI,"")),n,"")}}function ea(n){return function(){var o=arguments;switch(o.length){case 0:return new n;case 1:return new n(o[0]);case 2:return new n(o[0],o[1]);case 3:return new n(o[0],o[1],o[2]);case 4:return new n(o[0],o[1],o[2],o[3]);case 5:return new n(o[0],o[1],o[2],o[3],o[4]);case 6:return new n(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new n(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var l=oo(n.prototype),y=n.apply(l,o);return fr(y)?y:l}}function ND(n,o,l){var y=ea(n);function N(){for(var z=arguments.length,te=Ke(z),we=z,Ne=uo(N);we--;)te[we]=arguments[we];var Ye=z<3&&te[0]!==Ne&&te[z-1]!==Ne?[]:Gi(te,Ne);if(z-=Ye.length,z<l)return A0(n,o,Sc,N.placeholder,t,te,Ye,t,t,l-z);var Qe=this&&this!==zr&&this instanceof N?y:n;return En(Qe,this,te)}return N}function I0(n){return function(o,l,y){var N=Zt(o);if(!gn(o)){var z=It(l,3);o=jr(o),l=function(we){return z(N[we],we,N)}}var te=n(o,l,y);return te>-1?N[z?o[te]:te]:t}}function S0(n){return Ai(function(o){var l=o.length,y=l,N=zn.prototype.thru;for(n&&o.reverse();y--;){var z=o[y];if(typeof z!="function")throw new Bn(D);if(N&&!te&&Pc(z)=="wrapper")var te=new zn([],!0)}for(y=te?y:l;++y<l;){z=o[y];var we=Pc(z),Ne=we=="wrapper"?xl(z):t;Ne&&Ol(Ne[0])&&Ne[1]==(qt|Pt|_t|rr)&&!Ne[4].length&&Ne[9]==1?te=te[Pc(Ne[0])].apply(te,Ne[3]):te=z.length==1&&Ol(z)?te[we]():te.thru(z)}return function(){var Ye=arguments,Qe=Ye[0];if(te&&Ye.length==1&&Tt(Qe))return te.plant(Qe).value();for(var tt=0,ut=l?o[tt].apply(this,Ye):Qe;++tt<l;)ut=o[tt].call(this,ut);return ut}})}function Sc(n,o,l,y,N,z,te,we,Ne,Ye){var Qe=o&qt,tt=o&ct,ut=o&xt,wt=o&(Pt|mt),St=o&bn,Ut=ut?t:ea(n);function Dt(){for(var Mt=arguments.length,Kt=Ke(Mt),Cn=Mt;Cn--;)Kt[Cn]=arguments[Cn];if(wt)var tn=uo(Dt),Nn=KI(Kt,tn);if(y&&(Kt=v0(Kt,y,N,wt)),z&&(Kt=w0(Kt,z,te,wt)),Mt-=Nn,wt&&Mt<Ye){var Er=Gi(Kt,tn);return A0(n,o,Sc,Dt.placeholder,l,Kt,Er,we,Ne,Ye-Mt)}var ni=tt?l:this,Ti=ut?ni[n]:n;return Mt=Kt.length,we?Kt=QD(Kt,we):St&&Mt>1&&Kt.reverse(),Qe&&Ne<Mt&&(Kt.length=Ne),this&&this!==zr&&this instanceof Dt&&(Ti=Ut||ea(Ti)),Ti.apply(ni,Kt)}return Dt}function D0(n,o){return function(l,y){return sD(l,n,o(y),{})}}function Dc(n,o){return function(l,y){var N;if(l===t&&y===t)return o;if(l!==t&&(N=l),y!==t){if(N===t)return y;typeof l=="string"||typeof y=="string"?(l=Dn(l),y=Dn(y)):(l=l0(l),y=l0(y)),N=n(l,y)}return N}}function vl(n){return Ai(function(o){return o=ar(o,xn(It())),Lt(function(l){var y=this;return n(o,function(N){return En(N,y,l)})})})}function Oc(n,o){o=o===t?" ":Dn(o);var l=o.length;if(l<2)return l?hl(o,n):o;var y=hl(o,dc(n/to(o)));return eo(o)?Zi(ei(y),0,n).join(""):y.slice(0,n)}function TD(n,o,l,y){var N=o&ct,z=ea(n);function te(){for(var we=-1,Ne=arguments.length,Ye=-1,Qe=y.length,tt=Ke(Qe+Ne),ut=this&&this!==zr&&this instanceof te?z:n;++Ye<Qe;)tt[Ye]=y[Ye];for(;Ne--;)tt[Ye++]=arguments[++we];return En(ut,N?l:this,tt)}return te}function O0(n){return function(o,l,y){return y&&typeof y!="number"&&en(o,l,y)&&(l=y=t),o=Ni(o),l===t?(l=o,o=0):l=Ni(l),y=y===t?o<l?1:-1:Ni(y),yD(o,l,y,n)}}function Ac(n){return function(o,l){return typeof o=="string"&&typeof l=="string"||(o=Wn(o),l=Wn(l)),n(o,l)}}function A0(n,o,l,y,N,z,te,we,Ne,Ye){var Qe=o&Pt,tt=Qe?te:t,ut=Qe?t:te,wt=Qe?z:t,St=Qe?t:z;o|=Qe?_t:Ot,o&=~(Qe?Ot:_t),o&$t||(o&=~(ct|xt));var Ut=[n,o,N,wt,tt,St,ut,we,Ne,Ye],Dt=l.apply(t,Ut);return Ol(n)&&B0(Dt,Ut),Dt.placeholder=y,z0(Dt,n,o)}function wl(n){var o=Nr[n];return function(l,y){if(l=Wn(l),y=y==null?0:kr(Rt(y),292),y&&zg(l)){var N=(Yt(l)+"e").split("e"),z=o(N[0]+"e"+(+N[1]+y));return N=(Yt(z)+"e").split("e"),+(N[0]+"e"+(+N[1]-y))}return o(l)}}var RD=io&&1/nc(new io([,-0]))[1]==gs?function(n){return new io(n)}:Hl;function P0(n){return function(o){var l=qr(o);return l==Xn?Yf(o):l==Zn?YI(o):HI(o,n(o))}}function Oi(n,o,l,y,N,z,te,we){var Ne=o&xt;if(!Ne&&typeof n!="function")throw new Bn(D);var Ye=y?y.length:0;if(Ye||(o&=~(_t|Ot),y=N=t),te=te===t?te:Tr(Rt(te),0),we=we===t?we:Rt(we),Ye-=N?N.length:0,o&Ot){var Qe=y,tt=N;y=N=t}var ut=Ne?t:xl(n),wt=[n,o,l,y,N,Qe,tt,z,te,we];if(ut&&GD(wt,ut),n=wt[0],o=wt[1],l=wt[2],y=wt[3],N=wt[4],we=wt[9]=wt[9]===t?Ne?0:n.length:Tr(wt[9]-Ye,0),!we&&o&(Pt|mt)&&(o&=~(Pt|mt)),!o||o==ct)var St=CD(n,o,l);else o==Pt||o==mt?St=ND(n,o,we):(o==_t||o==(ct|_t))&&!N.length?St=TD(n,o,l,y):St=Sc.apply(t,wt);var Ut=ut?u0:B0;return z0(Ut(St,wt),n,o)}function C0(n,o,l,y){return n===t||ri(n,no[l])&&!Qt.call(y,l)?o:n}function N0(n,o,l,y,N,z){return fr(n)&&fr(o)&&(z.set(o,n),bc(n,o,t,N0,z),z.delete(o)),n}function FD(n){return na(n)?t:n}function T0(n,o,l,y,N,z){var te=l&$e,we=n.length,Ne=o.length;if(we!=Ne&&!(te&&Ne>we))return!1;var Ye=z.get(n),Qe=z.get(o);if(Ye&&Qe)return Ye==o&&Qe==n;var tt=-1,ut=!0,wt=l&et?new vs:t;for(z.set(n,o),z.set(o,n);++tt<we;){var St=n[tt],Ut=o[tt];if(y)var Dt=te?y(Ut,St,tt,o,n,z):y(St,Ut,tt,n,o,z);if(Dt!==t){if(Dt)continue;ut=!1;break}if(wt){if(!Vf(o,function(Mt,Kt){if(!Ko(wt,Kt)&&(St===Mt||N(St,Mt,l,y,z)))return wt.push(Kt)})){ut=!1;break}}else if(!(St===Ut||N(St,Ut,l,y,z))){ut=!1;break}}return z.delete(n),z.delete(o),ut}function UD(n,o,l,y,N,z,te){switch(l){case Qs:if(n.byteLength!=o.byteLength||n.byteOffset!=o.byteOffset)return!1;n=n.buffer,o=o.buffer;case Ho:return!(n.byteLength!=o.byteLength||!z(new uc(n),new uc(o)));case jo:case Lo:case Mo:return ri(+n,+o);case Ja:return n.name==o.name&&n.message==o.message;case $o:case Bo:return n==o+"";case Xn:var we=Yf;case Zn:var Ne=y&$e;if(we||(we=nc),n.size!=o.size&&!Ne)return!1;var Ye=te.get(n);if(Ye)return Ye==o;y|=et,te.set(n,o);var Qe=T0(we(n),we(o),y,N,z,te);return te.delete(n),Qe;case Qa:if(Go)return Go.call(n)==Go.call(o)}return!1}function jD(n,o,l,y,N,z){var te=l&$e,we=bl(n),Ne=we.length,Ye=bl(o),Qe=Ye.length;if(Ne!=Qe&&!te)return!1;for(var tt=Ne;tt--;){var ut=we[tt];if(!(te?ut in o:Qt.call(o,ut)))return!1}var wt=z.get(n),St=z.get(o);if(wt&&St)return wt==o&&St==n;var Ut=!0;z.set(n,o),z.set(o,n);for(var Dt=te;++tt<Ne;){ut=we[tt];var Mt=n[ut],Kt=o[ut];if(y)var Cn=te?y(Kt,Mt,ut,o,n,z):y(Mt,Kt,ut,n,o,z);if(!(Cn===t?Mt===Kt||N(Mt,Kt,l,y,z):Cn)){Ut=!1;break}Dt||(Dt=ut=="constructor")}if(Ut&&!Dt){var tn=n.constructor,Nn=o.constructor;tn!=Nn&&"constructor"in n&&"constructor"in o&&!(typeof tn=="function"&&tn instanceof tn&&typeof Nn=="function"&&Nn instanceof Nn)&&(Ut=!1)}return z.delete(n),z.delete(o),Ut}function Ai(n){return Pl(M0(n,t,q0),n+"")}function bl(n){return Xg(n,jr,Sl)}function El(n){return Xg(n,_n,R0)}var xl=gc?function(n){return gc.get(n)}:Hl;function Pc(n){for(var o=n.name+"",l=so[o],y=Qt.call(so,o)?l.length:0;y--;){var N=l[y],z=N.func;if(z==null||z==n)return N.name}return o}function uo(n){var o=Qt.call(j,"placeholder")?j:n;return o.placeholder}function It(){var n=j.iteratee||Bl;return n=n===Bl?t0:n,arguments.length?n(arguments[0],arguments[1]):n}function Cc(n,o){var l=n.__data__;return VD(o)?l[typeof o=="string"?"string":"hash"]:l.map}function Il(n){for(var o=jr(n),l=o.length;l--;){var y=o[l],N=n[y];o[l]=[y,N,j0(N)]}return o}function Es(n,o){var l=qI(n,o);return e0(l)?l:t}function LD(n){var o=Qt.call(n,ys),l=n[ys];try{n[ys]=t;var y=!0}catch{}var N=ac.call(n);return y&&(o?n[ys]=l:delete n[ys]),N}var Sl=Xf?function(n){return n==null?[]:(n=Zt(n),ki(Xf(n),function(o){return $g.call(n,o)}))}:Kl,R0=Xf?function(n){for(var o=[];n;)qi(o,Sl(n)),n=fc(n);return o}:Kl,qr=Zr;(Zf&&qr(new Zf(new ArrayBuffer(1)))!=Qs||Wo&&qr(new Wo)!=Xn||el&&qr(el.resolve())!=Jp||io&&qr(new io)!=Zn||ko&&qr(new ko)!=zo)&&(qr=function(n){var o=Zr(n),l=o==xi?n.constructor:t,y=l?xs(l):"";if(y)switch(y){case vS:return Qs;case wS:return Xn;case bS:return Jp;case ES:return Zn;case xS:return zo}return o});function MD(n,o,l){for(var y=-1,N=l.length;++y<N;){var z=l[y],te=z.size;switch(z.type){case"drop":n+=te;break;case"dropRight":o-=te;break;case"take":o=kr(o,n+te);break;case"takeRight":n=Tr(n,o-te);break}}return{start:n,end:o}}function $D(n){var o=n.match(W2);return o?o[1].split(k2):[]}function F0(n,o,l){o=Xi(o,n);for(var y=-1,N=o.length,z=!1;++y<N;){var te=hi(o[y]);if(!(z=n!=null&&l(n,te)))break;n=n[te]}return z||++y!=N?z:(N=n==null?0:n.length,!!N&&Lc(N)&&Pi(te,N)&&(Tt(n)||Is(n)))}function BD(n){var o=n.length,l=new n.constructor(o);return o&&typeof n[0]=="string"&&Qt.call(n,"index")&&(l.index=n.index,l.input=n.input),l}function U0(n){return typeof n.constructor=="function"&&!ta(n)?oo(fc(n)):{}}function zD(n,o,l){var y=n.constructor;switch(o){case Ho:return ml(n);case jo:case Lo:return new y(+n);case Qs:return ID(n,l);case If:case Sf:case Df:case Of:case Af:case Pf:case Cf:case Nf:case Tf:return y0(n,l);case Xn:return new y;case Mo:case Bo:return new y(n);case $o:return SD(n);case Zn:return new y;case Qa:return DD(n)}}function HD(n,o){var l=o.length;if(!l)return n;var y=l-1;return o[y]=(l>1?"& ":"")+o[y],o=o.join(l>2?", ":" "),n.replace(V2,`{
/* [wrapped with `+o+`] */
`)}function KD(n){return Tt(n)||Is(n)||!!(Bg&&n&&n[Bg])}function Pi(n,o){var l=typeof n;return o=o??Wi,!!o&&(l=="number"||l!="symbol"&&tI.test(n))&&n>-1&&n%1==0&&n<o}function en(n,o,l){if(!fr(l))return!1;var y=typeof o;return(y=="number"?gn(l)&&Pi(o,l.length):y=="string"&&o in l)?ri(l[o],n):!1}function Dl(n,o){if(Tt(n))return!1;var l=typeof n;return l=="number"||l=="symbol"||l=="boolean"||n==null||An(n)?!0:B2.test(n)||!$2.test(n)||o!=null&&n in Zt(o)}function VD(n){var o=typeof n;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null}function Ol(n){var o=Pc(n),l=j[o];if(typeof l!="function"||!(o in Bt.prototype))return!1;if(n===l)return!0;var y=xl(l);return!!y&&n===y[0]}function WD(n){return!!jg&&jg in n}var kD=sc?Ci:Vl;function ta(n){var o=n&&n.constructor,l=typeof o=="function"&&o.prototype||no;return n===l}function j0(n){return n===n&&!fr(n)}function L0(n,o){return function(l){return l==null?!1:l[n]===o&&(o!==t||n in Zt(l))}}function qD(n){var o=Uc(n,function(y){return l.size===B&&l.clear(),y}),l=o.cache;return o}function GD(n,o){var l=n[1],y=o[1],N=l|y,z=N<(ct|xt|qt),te=y==qt&&l==Pt||y==qt&&l==rr&&n[7].length<=o[8]||y==(qt|rr)&&o[7].length<=o[8]&&l==Pt;if(!(z||te))return n;y&ct&&(n[2]=o[2],N|=l&ct?0:$t);var we=o[3];if(we){var Ne=n[3];n[3]=Ne?v0(Ne,we,o[4]):we,n[4]=Ne?Gi(n[3],ie):o[4]}return we=o[5],we&&(Ne=n[5],n[5]=Ne?w0(Ne,we,o[6]):we,n[6]=Ne?Gi(n[5],ie):o[6]),we=o[7],we&&(n[7]=we),y&qt&&(n[8]=n[8]==null?o[8]:kr(n[8],o[8])),n[9]==null&&(n[9]=o[9]),n[0]=o[0],n[1]=N,n}function JD(n){var o=[];if(n!=null)for(var l in Zt(n))o.push(l);return o}function YD(n){return ac.call(n)}function M0(n,o,l){return o=Tr(o===t?n.length-1:o,0),function(){for(var y=arguments,N=-1,z=Tr(y.length-o,0),te=Ke(z);++N<z;)te[N]=y[o+N];N=-1;for(var we=Ke(o+1);++N<o;)we[N]=y[N];return we[o]=l(te),En(n,this,we)}}function $0(n,o){return o.length<2?n:bs(n,Kn(o,0,-1))}function QD(n,o){for(var l=n.length,y=kr(o.length,l),N=pn(n);y--;){var z=o[y];n[y]=Pi(z,l)?N[z]:t}return n}function Al(n,o){if(!(o==="constructor"&&typeof n[o]=="function")&&o!="__proto__")return n[o]}var B0=H0(u0),ra=hS||function(n,o){return zr.setTimeout(n,o)},Pl=H0(wD);function z0(n,o,l){var y=o+"";return Pl(n,HD(y,XD($D(y),l)))}function H0(n){var o=0,l=0;return function(){var y=_S(),N=v2-(y-l);if(l=y,N>0){if(++o>=m2)return arguments[0]}else o=0;return n.apply(t,arguments)}}function Nc(n,o){var l=-1,y=n.length,N=y-1;for(o=o===t?y:o;++l<o;){var z=ll(l,N),te=n[z];n[z]=n[l],n[l]=te}return n.length=o,n}var K0=qD(function(n){var o=[];return n.charCodeAt(0)===46&&o.push(""),n.replace(z2,function(l,y,N,z){o.push(N?z.replace(J2,"$1"):y||l)}),o});function hi(n){if(typeof n=="string"||An(n))return n;var o=n+"";return o=="0"&&1/n==-gs?"-0":o}function xs(n){if(n!=null){try{return oc.call(n)}catch{}try{return n+""}catch{}}return""}function XD(n,o){return $n(S2,function(l){var y="_."+l[0];o&l[1]&&!tc(n,y)&&n.push(y)}),n.sort()}function V0(n){if(n instanceof Bt)return n.clone();var o=new zn(n.__wrapped__,n.__chain__);return o.__actions__=pn(n.__actions__),o.__index__=n.__index__,o.__values__=n.__values__,o}function ZD(n,o,l){(l?en(n,o,l):o===t)?o=1:o=Tr(Rt(o),0);var y=n==null?0:n.length;if(!y||o<1)return[];for(var N=0,z=0,te=Ke(dc(y/o));N<y;)te[z++]=Kn(n,N,N+=o);return te}function e6(n){for(var o=-1,l=n==null?0:n.length,y=0,N=[];++o<l;){var z=n[o];z&&(N[y++]=z)}return N}function t6(){var n=arguments.length;if(!n)return[];for(var o=Ke(n-1),l=arguments[0],y=n;y--;)o[y-1]=arguments[y];return qi(Tt(l)?pn(l):[l],Hr(o,1))}var r6=Lt(function(n,o){return br(n)?Yo(n,Hr(o,1,br,!0)):[]}),n6=Lt(function(n,o){var l=Vn(o);return br(l)&&(l=t),br(n)?Yo(n,Hr(o,1,br,!0),It(l,2)):[]}),i6=Lt(function(n,o){var l=Vn(o);return br(l)&&(l=t),br(n)?Yo(n,Hr(o,1,br,!0),t,l):[]});function s6(n,o,l){var y=n==null?0:n.length;return y?(o=l||o===t?1:Rt(o),Kn(n,o<0?0:o,y)):[]}function o6(n,o,l){var y=n==null?0:n.length;return y?(o=l||o===t?1:Rt(o),o=y-o,Kn(n,0,o<0?0:o)):[]}function a6(n,o){return n&&n.length?xc(n,It(o,3),!0,!0):[]}function c6(n,o){return n&&n.length?xc(n,It(o,3),!0):[]}function u6(n,o,l,y){var N=n==null?0:n.length;return N?(l&&typeof l!="number"&&en(n,o,l)&&(l=0,y=N),tD(n,o,l,y)):[]}function W0(n,o,l){var y=n==null?0:n.length;if(!y)return-1;var N=l==null?0:Rt(l);return N<0&&(N=Tr(y+N,0)),rc(n,It(o,3),N)}function k0(n,o,l){var y=n==null?0:n.length;if(!y)return-1;var N=y-1;return l!==t&&(N=Rt(l),N=l<0?Tr(y+N,0):kr(N,y-1)),rc(n,It(o,3),N,!0)}function q0(n){var o=n==null?0:n.length;return o?Hr(n,1):[]}function f6(n){var o=n==null?0:n.length;return o?Hr(n,gs):[]}function l6(n,o){var l=n==null?0:n.length;return l?(o=o===t?1:Rt(o),Hr(n,o)):[]}function h6(n){for(var o=-1,l=n==null?0:n.length,y={};++o<l;){var N=n[o];y[N[0]]=N[1]}return y}function G0(n){return n&&n.length?n[0]:t}function d6(n,o,l){var y=n==null?0:n.length;if(!y)return-1;var N=l==null?0:Rt(l);return N<0&&(N=Tr(y+N,0)),Zs(n,o,N)}function p6(n){var o=n==null?0:n.length;return o?Kn(n,0,-1):[]}var g6=Lt(function(n){var o=ar(n,_l);return o.length&&o[0]===n[0]?ol(o):[]}),_6=Lt(function(n){var o=Vn(n),l=ar(n,_l);return o===Vn(l)?o=t:l.pop(),l.length&&l[0]===n[0]?ol(l,It(o,2)):[]}),y6=Lt(function(n){var o=Vn(n),l=ar(n,_l);return o=typeof o=="function"?o:t,o&&l.pop(),l.length&&l[0]===n[0]?ol(l,t,o):[]});function m6(n,o){return n==null?"":pS.call(n,o)}function Vn(n){var o=n==null?0:n.length;return o?n[o-1]:t}function v6(n,o,l){var y=n==null?0:n.length;if(!y)return-1;var N=y;return l!==t&&(N=Rt(l),N=N<0?Tr(y+N,0):kr(N,y-1)),o===o?XI(n,o,N):rc(n,Ag,N,!0)}function w6(n,o){return n&&n.length?s0(n,Rt(o)):t}var b6=Lt(J0);function J0(n,o){return n&&n.length&&o&&o.length?fl(n,o):n}function E6(n,o,l){return n&&n.length&&o&&o.length?fl(n,o,It(l,2)):n}function x6(n,o,l){return n&&n.length&&o&&o.length?fl(n,o,t,l):n}var I6=Ai(function(n,o){var l=n==null?0:n.length,y=rl(n,o);return c0(n,ar(o,function(N){return Pi(N,l)?+N:N}).sort(m0)),y});function S6(n,o){var l=[];if(!(n&&n.length))return l;var y=-1,N=[],z=n.length;for(o=It(o,3);++y<z;){var te=n[y];o(te,y,n)&&(l.push(te),N.push(y))}return c0(n,N),l}function Cl(n){return n==null?n:mS.call(n)}function D6(n,o,l){var y=n==null?0:n.length;return y?(l&&typeof l!="number"&&en(n,o,l)?(o=0,l=y):(o=o==null?0:Rt(o),l=l===t?y:Rt(l)),Kn(n,o,l)):[]}function O6(n,o){return Ec(n,o)}function A6(n,o,l){return dl(n,o,It(l,2))}function P6(n,o){var l=n==null?0:n.length;if(l){var y=Ec(n,o);if(y<l&&ri(n[y],o))return y}return-1}function C6(n,o){return Ec(n,o,!0)}function N6(n,o,l){return dl(n,o,It(l,2),!0)}function T6(n,o){var l=n==null?0:n.length;if(l){var y=Ec(n,o,!0)-1;if(ri(n[y],o))return y}return-1}function R6(n){return n&&n.length?f0(n):[]}function F6(n,o){return n&&n.length?f0(n,It(o,2)):[]}function U6(n){var o=n==null?0:n.length;return o?Kn(n,1,o):[]}function j6(n,o,l){return n&&n.length?(o=l||o===t?1:Rt(o),Kn(n,0,o<0?0:o)):[]}function L6(n,o,l){var y=n==null?0:n.length;return y?(o=l||o===t?1:Rt(o),o=y-o,Kn(n,o<0?0:o,y)):[]}function M6(n,o){return n&&n.length?xc(n,It(o,3),!1,!0):[]}function $6(n,o){return n&&n.length?xc(n,It(o,3)):[]}var B6=Lt(function(n){return Qi(Hr(n,1,br,!0))}),z6=Lt(function(n){var o=Vn(n);return br(o)&&(o=t),Qi(Hr(n,1,br,!0),It(o,2))}),H6=Lt(function(n){var o=Vn(n);return o=typeof o=="function"?o:t,Qi(Hr(n,1,br,!0),t,o)});function K6(n){return n&&n.length?Qi(n):[]}function V6(n,o){return n&&n.length?Qi(n,It(o,2)):[]}function W6(n,o){return o=typeof o=="function"?o:t,n&&n.length?Qi(n,t,o):[]}function Nl(n){if(!(n&&n.length))return[];var o=0;return n=ki(n,function(l){if(br(l))return o=Tr(l.length,o),!0}),Gf(o,function(l){return ar(n,Wf(l))})}function Y0(n,o){if(!(n&&n.length))return[];var l=Nl(n);return o==null?l:ar(l,function(y){return En(o,t,y)})}var k6=Lt(function(n,o){return br(n)?Yo(n,o):[]}),q6=Lt(function(n){return gl(ki(n,br))}),G6=Lt(function(n){var o=Vn(n);return br(o)&&(o=t),gl(ki(n,br),It(o,2))}),J6=Lt(function(n){var o=Vn(n);return o=typeof o=="function"?o:t,gl(ki(n,br),t,o)}),Y6=Lt(Nl);function Q6(n,o){return p0(n||[],o||[],Jo)}function X6(n,o){return p0(n||[],o||[],Zo)}var Z6=Lt(function(n){var o=n.length,l=o>1?n[o-1]:t;return l=typeof l=="function"?(n.pop(),l):t,Y0(n,l)});function Q0(n){var o=j(n);return o.__chain__=!0,o}function eO(n,o){return o(n),n}function Tc(n,o){return o(n)}var tO=Ai(function(n){var o=n.length,l=o?n[0]:0,y=this.__wrapped__,N=function(z){return rl(z,n)};return o>1||this.__actions__.length||!(y instanceof Bt)||!Pi(l)?this.thru(N):(y=y.slice(l,+l+(o?1:0)),y.__actions__.push({func:Tc,args:[N],thisArg:t}),new zn(y,this.__chain__).thru(function(z){return o&&!z.length&&z.push(t),z}))});function rO(){return Q0(this)}function nO(){return new zn(this.value(),this.__chain__)}function iO(){this.__values__===t&&(this.__values__=l_(this.value()));var n=this.__index__>=this.__values__.length,o=n?t:this.__values__[this.__index__++];return{done:n,value:o}}function sO(){return this}function oO(n){for(var o,l=this;l instanceof yc;){var y=V0(l);y.__index__=0,y.__values__=t,o?N.__wrapped__=y:o=y;var N=y;l=l.__wrapped__}return N.__wrapped__=n,o}function aO(){var n=this.__wrapped__;if(n instanceof Bt){var o=n;return this.__actions__.length&&(o=new Bt(this)),o=o.reverse(),o.__actions__.push({func:Tc,args:[Cl],thisArg:t}),new zn(o,this.__chain__)}return this.thru(Cl)}function cO(){return d0(this.__wrapped__,this.__actions__)}var uO=Ic(function(n,o,l){Qt.call(n,l)?++n[l]:Di(n,l,1)});function fO(n,o,l){var y=Tt(n)?Dg:eD;return l&&en(n,o,l)&&(o=t),y(n,It(o,3))}function lO(n,o){var l=Tt(n)?ki:Yg;return l(n,It(o,3))}var hO=I0(W0),dO=I0(k0);function pO(n,o){return Hr(Rc(n,o),1)}function gO(n,o){return Hr(Rc(n,o),gs)}function _O(n,o,l){return l=l===t?1:Rt(l),Hr(Rc(n,o),l)}function X0(n,o){var l=Tt(n)?$n:Yi;return l(n,It(o,3))}function Z0(n,o){var l=Tt(n)?UI:Jg;return l(n,It(o,3))}var yO=Ic(function(n,o,l){Qt.call(n,l)?n[l].push(o):Di(n,l,[o])});function mO(n,o,l,y){n=gn(n)?n:lo(n),l=l&&!y?Rt(l):0;var N=n.length;return l<0&&(l=Tr(N+l,0)),Mc(n)?l<=N&&n.indexOf(o,l)>-1:!!N&&Zs(n,o,l)>-1}var vO=Lt(function(n,o,l){var y=-1,N=typeof o=="function",z=gn(n)?Ke(n.length):[];return Yi(n,function(te){z[++y]=N?En(o,te,l):Qo(te,o,l)}),z}),wO=Ic(function(n,o,l){Di(n,l,o)});function Rc(n,o){var l=Tt(n)?ar:r0;return l(n,It(o,3))}function bO(n,o,l,y){return n==null?[]:(Tt(o)||(o=o==null?[]:[o]),l=y?t:l,Tt(l)||(l=l==null?[]:[l]),o0(n,o,l))}var EO=Ic(function(n,o,l){n[l?0:1].push(o)},function(){return[[],[]]});function xO(n,o,l){var y=Tt(n)?Kf:Cg,N=arguments.length<3;return y(n,It(o,4),l,N,Yi)}function IO(n,o,l){var y=Tt(n)?jI:Cg,N=arguments.length<3;return y(n,It(o,4),l,N,Jg)}function SO(n,o){var l=Tt(n)?ki:Yg;return l(n,jc(It(o,3)))}function DO(n){var o=Tt(n)?Wg:mD;return o(n)}function OO(n,o,l){(l?en(n,o,l):o===t)?o=1:o=Rt(o);var y=Tt(n)?JS:vD;return y(n,o)}function AO(n){var o=Tt(n)?YS:bD;return o(n)}function PO(n){if(n==null)return 0;if(gn(n))return Mc(n)?to(n):n.length;var o=qr(n);return o==Xn||o==Zn?n.size:cl(n).length}function CO(n,o,l){var y=Tt(n)?Vf:ED;return l&&en(n,o,l)&&(o=t),y(n,It(o,3))}var NO=Lt(function(n,o){if(n==null)return[];var l=o.length;return l>1&&en(n,o[0],o[1])?o=[]:l>2&&en(o[0],o[1],o[2])&&(o=[o[0]]),o0(n,Hr(o,1),[])}),Fc=lS||function(){return zr.Date.now()};function TO(n,o){if(typeof o!="function")throw new Bn(D);return n=Rt(n),function(){if(--n<1)return o.apply(this,arguments)}}function e_(n,o,l){return o=l?t:o,o=n&&o==null?n.length:o,Oi(n,qt,t,t,t,t,o)}function t_(n,o){var l;if(typeof o!="function")throw new Bn(D);return n=Rt(n),function(){return--n>0&&(l=o.apply(this,arguments)),n<=1&&(o=t),l}}var Tl=Lt(function(n,o,l){var y=ct;if(l.length){var N=Gi(l,uo(Tl));y|=_t}return Oi(n,y,o,l,N)}),r_=Lt(function(n,o,l){var y=ct|xt;if(l.length){var N=Gi(l,uo(r_));y|=_t}return Oi(o,y,n,l,N)});function n_(n,o,l){o=l?t:o;var y=Oi(n,Pt,t,t,t,t,t,o);return y.placeholder=n_.placeholder,y}function i_(n,o,l){o=l?t:o;var y=Oi(n,mt,t,t,t,t,t,o);return y.placeholder=i_.placeholder,y}function s_(n,o,l){var y,N,z,te,we,Ne,Ye=0,Qe=!1,tt=!1,ut=!0;if(typeof n!="function")throw new Bn(D);o=Wn(o)||0,fr(l)&&(Qe=!!l.leading,tt="maxWait"in l,z=tt?Tr(Wn(l.maxWait)||0,o):z,ut="trailing"in l?!!l.trailing:ut);function wt(Er){var ni=y,Ti=N;return y=N=t,Ye=Er,te=n.apply(Ti,ni),te}function St(Er){return Ye=Er,we=ra(Mt,o),Qe?wt(Er):te}function Ut(Er){var ni=Er-Ne,Ti=Er-Ye,I_=o-ni;return tt?kr(I_,z-Ti):I_}function Dt(Er){var ni=Er-Ne,Ti=Er-Ye;return Ne===t||ni>=o||ni<0||tt&&Ti>=z}function Mt(){var Er=Fc();if(Dt(Er))return Kt(Er);we=ra(Mt,Ut(Er))}function Kt(Er){return we=t,ut&&y?wt(Er):(y=N=t,te)}function Cn(){we!==t&&g0(we),Ye=0,y=Ne=N=we=t}function tn(){return we===t?te:Kt(Fc())}function Nn(){var Er=Fc(),ni=Dt(Er);if(y=arguments,N=this,Ne=Er,ni){if(we===t)return St(Ne);if(tt)return g0(we),we=ra(Mt,o),wt(Ne)}return we===t&&(we=ra(Mt,o)),te}return Nn.cancel=Cn,Nn.flush=tn,Nn}var RO=Lt(function(n,o){return Gg(n,1,o)}),FO=Lt(function(n,o,l){return Gg(n,Wn(o)||0,l)});function UO(n){return Oi(n,bn)}function Uc(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new Bn(D);var l=function(){var y=arguments,N=o?o.apply(this,y):y[0],z=l.cache;if(z.has(N))return z.get(N);var te=n.apply(this,y);return l.cache=z.set(N,te)||z,te};return l.cache=new(Uc.Cache||Si),l}Uc.Cache=Si;function jc(n){if(typeof n!="function")throw new Bn(D);return function(){var o=arguments;switch(o.length){case 0:return!n.call(this);case 1:return!n.call(this,o[0]);case 2:return!n.call(this,o[0],o[1]);case 3:return!n.call(this,o[0],o[1],o[2])}return!n.apply(this,o)}}function jO(n){return t_(2,n)}var LO=xD(function(n,o){o=o.length==1&&Tt(o[0])?ar(o[0],xn(It())):ar(Hr(o,1),xn(It()));var l=o.length;return Lt(function(y){for(var N=-1,z=kr(y.length,l);++N<z;)y[N]=o[N].call(this,y[N]);return En(n,this,y)})}),Rl=Lt(function(n,o){var l=Gi(o,uo(Rl));return Oi(n,_t,t,o,l)}),o_=Lt(function(n,o){var l=Gi(o,uo(o_));return Oi(n,Ot,t,o,l)}),MO=Ai(function(n,o){return Oi(n,rr,t,t,t,o)});function $O(n,o){if(typeof n!="function")throw new Bn(D);return o=o===t?o:Rt(o),Lt(n,o)}function BO(n,o){if(typeof n!="function")throw new Bn(D);return o=o==null?0:Tr(Rt(o),0),Lt(function(l){var y=l[o],N=Zi(l,0,o);return y&&qi(N,y),En(n,this,N)})}function zO(n,o,l){var y=!0,N=!0;if(typeof n!="function")throw new Bn(D);return fr(l)&&(y="leading"in l?!!l.leading:y,N="trailing"in l?!!l.trailing:N),s_(n,o,{leading:y,maxWait:o,trailing:N})}function HO(n){return e_(n,1)}function KO(n,o){return Rl(yl(o),n)}function VO(){if(!arguments.length)return[];var n=arguments[0];return Tt(n)?n:[n]}function WO(n){return Hn(n,st)}function kO(n,o){return o=typeof o=="function"?o:t,Hn(n,st,o)}function qO(n){return Hn(n,oe|st)}function GO(n,o){return o=typeof o=="function"?o:t,Hn(n,oe|st,o)}function JO(n,o){return o==null||qg(n,o,jr(o))}function ri(n,o){return n===o||n!==n&&o!==o}var YO=Ac(sl),QO=Ac(function(n,o){return n>=o}),Is=Zg(function(){return arguments}())?Zg:function(n){return gr(n)&&Qt.call(n,"callee")&&!$g.call(n,"callee")},Tt=Ke.isArray,XO=wg?xn(wg):oD;function gn(n){return n!=null&&Lc(n.length)&&!Ci(n)}function br(n){return gr(n)&&gn(n)}function ZO(n){return n===!0||n===!1||gr(n)&&Zr(n)==jo}var es=dS||Vl,e5=bg?xn(bg):aD;function t5(n){return gr(n)&&n.nodeType===1&&!na(n)}function r5(n){if(n==null)return!0;if(gn(n)&&(Tt(n)||typeof n=="string"||typeof n.splice=="function"||es(n)||fo(n)||Is(n)))return!n.length;var o=qr(n);if(o==Xn||o==Zn)return!n.size;if(ta(n))return!cl(n).length;for(var l in n)if(Qt.call(n,l))return!1;return!0}function n5(n,o){return Xo(n,o)}function i5(n,o,l){l=typeof l=="function"?l:t;var y=l?l(n,o):t;return y===t?Xo(n,o,t,l):!!y}function Fl(n){if(!gr(n))return!1;var o=Zr(n);return o==Ja||o==O2||typeof n.message=="string"&&typeof n.name=="string"&&!na(n)}function s5(n){return typeof n=="number"&&zg(n)}function Ci(n){if(!fr(n))return!1;var o=Zr(n);return o==Ya||o==Gp||o==D2||o==P2}function a_(n){return typeof n=="number"&&n==Rt(n)}function Lc(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Wi}function fr(n){var o=typeof n;return n!=null&&(o=="object"||o=="function")}function gr(n){return n!=null&&typeof n=="object"}var c_=Eg?xn(Eg):uD;function o5(n,o){return n===o||al(n,o,Il(o))}function a5(n,o,l){return l=typeof l=="function"?l:t,al(n,o,Il(o),l)}function c5(n){return u_(n)&&n!=+n}function u5(n){if(kD(n))throw new Ct(p);return e0(n)}function f5(n){return n===null}function l5(n){return n==null}function u_(n){return typeof n=="number"||gr(n)&&Zr(n)==Mo}function na(n){if(!gr(n)||Zr(n)!=xi)return!1;var o=fc(n);if(o===null)return!0;var l=Qt.call(o,"constructor")&&o.constructor;return typeof l=="function"&&l instanceof l&&oc.call(l)==aS}var Ul=xg?xn(xg):fD;function h5(n){return a_(n)&&n>=-Wi&&n<=Wi}var f_=Ig?xn(Ig):lD;function Mc(n){return typeof n=="string"||!Tt(n)&&gr(n)&&Zr(n)==Bo}function An(n){return typeof n=="symbol"||gr(n)&&Zr(n)==Qa}var fo=Sg?xn(Sg):hD;function d5(n){return n===t}function p5(n){return gr(n)&&qr(n)==zo}function g5(n){return gr(n)&&Zr(n)==N2}var _5=Ac(ul),y5=Ac(function(n,o){return n<=o});function l_(n){if(!n)return[];if(gn(n))return Mc(n)?ei(n):pn(n);if(Vo&&n[Vo])return JI(n[Vo]());var o=qr(n),l=o==Xn?Yf:o==Zn?nc:lo;return l(n)}function Ni(n){if(!n)return n===0?n:0;if(n=Wn(n),n===gs||n===-gs){var o=n<0?-1:1;return o*E2}return n===n?n:0}function Rt(n){var o=Ni(n),l=o%1;return o===o?l?o-l:o:0}function h_(n){return n?ws(Rt(n),0,ui):0}function Wn(n){if(typeof n=="number")return n;if(An(n))return qa;if(fr(n)){var o=typeof n.valueOf=="function"?n.valueOf():n;n=fr(o)?o+"":o}if(typeof n!="string")return n===0?n:+n;n=Ng(n);var l=X2.test(n);return l||eI.test(n)?TI(n.slice(2),l?2:8):Q2.test(n)?qa:+n}function d_(n){return li(n,_n(n))}function m5(n){return n?ws(Rt(n),-Wi,Wi):n===0?n:0}function Yt(n){return n==null?"":Dn(n)}var v5=ao(function(n,o){if(ta(o)||gn(o)){li(o,jr(o),n);return}for(var l in o)Qt.call(o,l)&&Jo(n,l,o[l])}),p_=ao(function(n,o){li(o,_n(o),n)}),$c=ao(function(n,o,l,y){li(o,_n(o),n,y)}),w5=ao(function(n,o,l,y){li(o,jr(o),n,y)}),b5=Ai(rl);function E5(n,o){var l=oo(n);return o==null?l:kg(l,o)}var x5=Lt(function(n,o){n=Zt(n);var l=-1,y=o.length,N=y>2?o[2]:t;for(N&&en(o[0],o[1],N)&&(y=1);++l<y;)for(var z=o[l],te=_n(z),we=-1,Ne=te.length;++we<Ne;){var Ye=te[we],Qe=n[Ye];(Qe===t||ri(Qe,no[Ye])&&!Qt.call(n,Ye))&&(n[Ye]=z[Ye])}return n}),I5=Lt(function(n){return n.push(t,N0),En(g_,t,n)});function S5(n,o){return Og(n,It(o,3),fi)}function D5(n,o){return Og(n,It(o,3),il)}function O5(n,o){return n==null?n:nl(n,It(o,3),_n)}function A5(n,o){return n==null?n:Qg(n,It(o,3),_n)}function P5(n,o){return n&&fi(n,It(o,3))}function C5(n,o){return n&&il(n,It(o,3))}function N5(n){return n==null?[]:wc(n,jr(n))}function T5(n){return n==null?[]:wc(n,_n(n))}function jl(n,o,l){var y=n==null?t:bs(n,o);return y===t?l:y}function R5(n,o){return n!=null&&F0(n,o,rD)}function Ll(n,o){return n!=null&&F0(n,o,nD)}var F5=D0(function(n,o,l){o!=null&&typeof o.toString!="function"&&(o=ac.call(o)),n[o]=l},$l(yn)),U5=D0(function(n,o,l){o!=null&&typeof o.toString!="function"&&(o=ac.call(o)),Qt.call(n,o)?n[o].push(l):n[o]=[l]},It),j5=Lt(Qo);function jr(n){return gn(n)?Vg(n):cl(n)}function _n(n){return gn(n)?Vg(n,!0):dD(n)}function L5(n,o){var l={};return o=It(o,3),fi(n,function(y,N,z){Di(l,o(y,N,z),y)}),l}function M5(n,o){var l={};return o=It(o,3),fi(n,function(y,N,z){Di(l,N,o(y,N,z))}),l}var $5=ao(function(n,o,l){bc(n,o,l)}),g_=ao(function(n,o,l,y){bc(n,o,l,y)}),B5=Ai(function(n,o){var l={};if(n==null)return l;var y=!1;o=ar(o,function(z){return z=Xi(z,n),y||(y=z.length>1),z}),li(n,El(n),l),y&&(l=Hn(l,oe|He|st,FD));for(var N=o.length;N--;)pl(l,o[N]);return l});function z5(n,o){return __(n,jc(It(o)))}var H5=Ai(function(n,o){return n==null?{}:gD(n,o)});function __(n,o){if(n==null)return{};var l=ar(El(n),function(y){return[y]});return o=It(o),a0(n,l,function(y,N){return o(y,N[0])})}function K5(n,o,l){o=Xi(o,n);var y=-1,N=o.length;for(N||(N=1,n=t);++y<N;){var z=n==null?t:n[hi(o[y])];z===t&&(y=N,z=l),n=Ci(z)?z.call(n):z}return n}function V5(n,o,l){return n==null?n:Zo(n,o,l)}function W5(n,o,l,y){return y=typeof y=="function"?y:t,n==null?n:Zo(n,o,l,y)}var y_=P0(jr),m_=P0(_n);function k5(n,o,l){var y=Tt(n),N=y||es(n)||fo(n);if(o=It(o,4),l==null){var z=n&&n.constructor;N?l=y?new z:[]:fr(n)?l=Ci(z)?oo(fc(n)):{}:l={}}return(N?$n:fi)(n,function(te,we,Ne){return o(l,te,we,Ne)}),l}function q5(n,o){return n==null?!0:pl(n,o)}function G5(n,o,l){return n==null?n:h0(n,o,yl(l))}function J5(n,o,l,y){return y=typeof y=="function"?y:t,n==null?n:h0(n,o,yl(l),y)}function lo(n){return n==null?[]:Jf(n,jr(n))}function Y5(n){return n==null?[]:Jf(n,_n(n))}function Q5(n,o,l){return l===t&&(l=o,o=t),l!==t&&(l=Wn(l),l=l===l?l:0),o!==t&&(o=Wn(o),o=o===o?o:0),ws(Wn(n),o,l)}function X5(n,o,l){return o=Ni(o),l===t?(l=o,o=0):l=Ni(l),n=Wn(n),iD(n,o,l)}function Z5(n,o,l){if(l&&typeof l!="boolean"&&en(n,o,l)&&(o=l=t),l===t&&(typeof o=="boolean"?(l=o,o=t):typeof n=="boolean"&&(l=n,n=t)),n===t&&o===t?(n=0,o=1):(n=Ni(n),o===t?(o=n,n=0):o=Ni(o)),n>o){var y=n;n=o,o=y}if(l||n%1||o%1){var N=Hg();return kr(n+N*(o-n+NI("1e-"+((N+"").length-1))),o)}return ll(n,o)}var eA=co(function(n,o,l){return o=o.toLowerCase(),n+(l?v_(o):o)});function v_(n){return Ml(Yt(n).toLowerCase())}function w_(n){return n=Yt(n),n&&n.replace(rI,VI).replace(bI,"")}function tA(n,o,l){n=Yt(n),o=Dn(o);var y=n.length;l=l===t?y:ws(Rt(l),0,y);var N=l;return l-=o.length,l>=0&&n.slice(l,N)==o}function rA(n){return n=Yt(n),n&&j2.test(n)?n.replace(Qp,WI):n}function nA(n){return n=Yt(n),n&&H2.test(n)?n.replace(Rf,"\\$&"):n}var iA=co(function(n,o,l){return n+(l?"-":"")+o.toLowerCase()}),sA=co(function(n,o,l){return n+(l?" ":"")+o.toLowerCase()}),oA=x0("toLowerCase");function aA(n,o,l){n=Yt(n),o=Rt(o);var y=o?to(n):0;if(!o||y>=o)return n;var N=(o-y)/2;return Oc(pc(N),l)+n+Oc(dc(N),l)}function cA(n,o,l){n=Yt(n),o=Rt(o);var y=o?to(n):0;return o&&y<o?n+Oc(o-y,l):n}function uA(n,o,l){n=Yt(n),o=Rt(o);var y=o?to(n):0;return o&&y<o?Oc(o-y,l)+n:n}function fA(n,o,l){return l||o==null?o=0:o&&(o=+o),yS(Yt(n).replace(Ff,""),o||0)}function lA(n,o,l){return(l?en(n,o,l):o===t)?o=1:o=Rt(o),hl(Yt(n),o)}function hA(){var n=arguments,o=Yt(n[0]);return n.length<3?o:o.replace(n[1],n[2])}var dA=co(function(n,o,l){return n+(l?"_":"")+o.toLowerCase()});function pA(n,o,l){return l&&typeof l!="number"&&en(n,o,l)&&(o=l=t),l=l===t?ui:l>>>0,l?(n=Yt(n),n&&(typeof o=="string"||o!=null&&!Ul(o))&&(o=Dn(o),!o&&eo(n))?Zi(ei(n),0,l):n.split(o,l)):[]}var gA=co(function(n,o,l){return n+(l?" ":"")+Ml(o)});function _A(n,o,l){return n=Yt(n),l=l==null?0:ws(Rt(l),0,n.length),o=Dn(o),n.slice(l,l+o.length)==o}function yA(n,o,l){var y=j.templateSettings;l&&en(n,o,l)&&(o=t),n=Yt(n),o=$c({},o,y,C0);var N=$c({},o.imports,y.imports,C0),z=jr(N),te=Jf(N,z),we,Ne,Ye=0,Qe=o.interpolate||Xa,tt="__p += '",ut=Qf((o.escape||Xa).source+"|"+Qe.source+"|"+(Qe===Xp?Y2:Xa).source+"|"+(o.evaluate||Xa).source+"|$","g"),wt="//# sourceURL="+(Qt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++DI+"]")+`
`;n.replace(ut,function(Dt,Mt,Kt,Cn,tn,Nn){return Kt||(Kt=Cn),tt+=n.slice(Ye,Nn).replace(nI,kI),Mt&&(we=!0,tt+=`' +
__e(`+Mt+`) +
'`),tn&&(Ne=!0,tt+=`';
`+tn+`;
__p += '`),Kt&&(tt+=`' +
((__t = (`+Kt+`)) == null ? '' : __t) +
'`),Ye=Nn+Dt.length,Dt}),tt+=`';
`;var St=Qt.call(o,"variable")&&o.variable;if(!St)tt=`with (obj) {
`+tt+`
}
`;else if(G2.test(St))throw new Ct(K);tt=(Ne?tt.replace(T2,""):tt).replace(R2,"$1").replace(F2,"$1;"),tt="function("+(St||"obj")+`) {
`+(St?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(we?", __e = _.escape":"")+(Ne?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+tt+`return __p
}`;var Ut=E_(function(){return Jt(z,wt+"return "+tt).apply(t,te)});if(Ut.source=tt,Fl(Ut))throw Ut;return Ut}function mA(n){return Yt(n).toLowerCase()}function vA(n){return Yt(n).toUpperCase()}function wA(n,o,l){if(n=Yt(n),n&&(l||o===t))return Ng(n);if(!n||!(o=Dn(o)))return n;var y=ei(n),N=ei(o),z=Tg(y,N),te=Rg(y,N)+1;return Zi(y,z,te).join("")}function bA(n,o,l){if(n=Yt(n),n&&(l||o===t))return n.slice(0,Ug(n)+1);if(!n||!(o=Dn(o)))return n;var y=ei(n),N=Rg(y,ei(o))+1;return Zi(y,0,N).join("")}function EA(n,o,l){if(n=Yt(n),n&&(l||o===t))return n.replace(Ff,"");if(!n||!(o=Dn(o)))return n;var y=ei(n),N=Tg(y,ei(o));return Zi(y,N).join("")}function xA(n,o){var l=_2,y=y2;if(fr(o)){var N="separator"in o?o.separator:N;l="length"in o?Rt(o.length):l,y="omission"in o?Dn(o.omission):y}n=Yt(n);var z=n.length;if(eo(n)){var te=ei(n);z=te.length}if(l>=z)return n;var we=l-to(y);if(we<1)return y;var Ne=te?Zi(te,0,we).join(""):n.slice(0,we);if(N===t)return Ne+y;if(te&&(we+=Ne.length-we),Ul(N)){if(n.slice(we).search(N)){var Ye,Qe=Ne;for(N.global||(N=Qf(N.source,Yt(Zp.exec(N))+"g")),N.lastIndex=0;Ye=N.exec(Qe);)var tt=Ye.index;Ne=Ne.slice(0,tt===t?we:tt)}}else if(n.indexOf(Dn(N),we)!=we){var ut=Ne.lastIndexOf(N);ut>-1&&(Ne=Ne.slice(0,ut))}return Ne+y}function IA(n){return n=Yt(n),n&&U2.test(n)?n.replace(Yp,ZI):n}var SA=co(function(n,o,l){return n+(l?" ":"")+o.toUpperCase()}),Ml=x0("toUpperCase");function b_(n,o,l){return n=Yt(n),o=l?t:o,o===t?GI(n)?rS(n):$I(n):n.match(o)||[]}var E_=Lt(function(n,o){try{return En(n,t,o)}catch(l){return Fl(l)?l:new Ct(l)}}),DA=Ai(function(n,o){return $n(o,function(l){l=hi(l),Di(n,l,Tl(n[l],n))}),n});function OA(n){var o=n==null?0:n.length,l=It();return n=o?ar(n,function(y){if(typeof y[1]!="function")throw new Bn(D);return[l(y[0]),y[1]]}):[],Lt(function(y){for(var N=-1;++N<o;){var z=n[N];if(En(z[0],this,y))return En(z[1],this,y)}})}function AA(n){return ZS(Hn(n,oe))}function $l(n){return function(){return n}}function PA(n,o){return n==null||n!==n?o:n}var CA=S0(),NA=S0(!0);function yn(n){return n}function Bl(n){return t0(typeof n=="function"?n:Hn(n,oe))}function TA(n){return n0(Hn(n,oe))}function RA(n,o){return i0(n,Hn(o,oe))}var FA=Lt(function(n,o){return function(l){return Qo(l,n,o)}}),UA=Lt(function(n,o){return function(l){return Qo(n,l,o)}});function zl(n,o,l){var y=jr(o),N=wc(o,y);l==null&&!(fr(o)&&(N.length||!y.length))&&(l=o,o=n,n=this,N=wc(o,jr(o)));var z=!(fr(l)&&"chain"in l)||!!l.chain,te=Ci(n);return $n(N,function(we){var Ne=o[we];n[we]=Ne,te&&(n.prototype[we]=function(){var Ye=this.__chain__;if(z||Ye){var Qe=n(this.__wrapped__),tt=Qe.__actions__=pn(this.__actions__);return tt.push({func:Ne,args:arguments,thisArg:n}),Qe.__chain__=Ye,Qe}return Ne.apply(n,qi([this.value()],arguments))})}),n}function jA(){return zr._===this&&(zr._=cS),this}function Hl(){}function LA(n){return n=Rt(n),Lt(function(o){return s0(o,n)})}var MA=vl(ar),$A=vl(Dg),BA=vl(Vf);function x_(n){return Dl(n)?Wf(hi(n)):_D(n)}function zA(n){return function(o){return n==null?t:bs(n,o)}}var HA=O0(),KA=O0(!0);function Kl(){return[]}function Vl(){return!1}function VA(){return{}}function WA(){return""}function kA(){return!0}function qA(n,o){if(n=Rt(n),n<1||n>Wi)return[];var l=ui,y=kr(n,ui);o=It(o),n-=ui;for(var N=Gf(y,o);++l<n;)o(l);return N}function GA(n){return Tt(n)?ar(n,hi):An(n)?[n]:pn(K0(Yt(n)))}function JA(n){var o=++oS;return Yt(n)+o}var YA=Dc(function(n,o){return n+o},0),QA=wl("ceil"),XA=Dc(function(n,o){return n/o},1),ZA=wl("floor");function eP(n){return n&&n.length?vc(n,yn,sl):t}function tP(n,o){return n&&n.length?vc(n,It(o,2),sl):t}function rP(n){return Pg(n,yn)}function nP(n,o){return Pg(n,It(o,2))}function iP(n){return n&&n.length?vc(n,yn,ul):t}function sP(n,o){return n&&n.length?vc(n,It(o,2),ul):t}var oP=Dc(function(n,o){return n*o},1),aP=wl("round"),cP=Dc(function(n,o){return n-o},0);function uP(n){return n&&n.length?qf(n,yn):0}function fP(n,o){return n&&n.length?qf(n,It(o,2)):0}return j.after=TO,j.ary=e_,j.assign=v5,j.assignIn=p_,j.assignInWith=$c,j.assignWith=w5,j.at=b5,j.before=t_,j.bind=Tl,j.bindAll=DA,j.bindKey=r_,j.castArray=VO,j.chain=Q0,j.chunk=ZD,j.compact=e6,j.concat=t6,j.cond=OA,j.conforms=AA,j.constant=$l,j.countBy=uO,j.create=E5,j.curry=n_,j.curryRight=i_,j.debounce=s_,j.defaults=x5,j.defaultsDeep=I5,j.defer=RO,j.delay=FO,j.difference=r6,j.differenceBy=n6,j.differenceWith=i6,j.drop=s6,j.dropRight=o6,j.dropRightWhile=a6,j.dropWhile=c6,j.fill=u6,j.filter=lO,j.flatMap=pO,j.flatMapDeep=gO,j.flatMapDepth=_O,j.flatten=q0,j.flattenDeep=f6,j.flattenDepth=l6,j.flip=UO,j.flow=CA,j.flowRight=NA,j.fromPairs=h6,j.functions=N5,j.functionsIn=T5,j.groupBy=yO,j.initial=p6,j.intersection=g6,j.intersectionBy=_6,j.intersectionWith=y6,j.invert=F5,j.invertBy=U5,j.invokeMap=vO,j.iteratee=Bl,j.keyBy=wO,j.keys=jr,j.keysIn=_n,j.map=Rc,j.mapKeys=L5,j.mapValues=M5,j.matches=TA,j.matchesProperty=RA,j.memoize=Uc,j.merge=$5,j.mergeWith=g_,j.method=FA,j.methodOf=UA,j.mixin=zl,j.negate=jc,j.nthArg=LA,j.omit=B5,j.omitBy=z5,j.once=jO,j.orderBy=bO,j.over=MA,j.overArgs=LO,j.overEvery=$A,j.overSome=BA,j.partial=Rl,j.partialRight=o_,j.partition=EO,j.pick=H5,j.pickBy=__,j.property=x_,j.propertyOf=zA,j.pull=b6,j.pullAll=J0,j.pullAllBy=E6,j.pullAllWith=x6,j.pullAt=I6,j.range=HA,j.rangeRight=KA,j.rearg=MO,j.reject=SO,j.remove=S6,j.rest=$O,j.reverse=Cl,j.sampleSize=OO,j.set=V5,j.setWith=W5,j.shuffle=AO,j.slice=D6,j.sortBy=NO,j.sortedUniq=R6,j.sortedUniqBy=F6,j.split=pA,j.spread=BO,j.tail=U6,j.take=j6,j.takeRight=L6,j.takeRightWhile=M6,j.takeWhile=$6,j.tap=eO,j.throttle=zO,j.thru=Tc,j.toArray=l_,j.toPairs=y_,j.toPairsIn=m_,j.toPath=GA,j.toPlainObject=d_,j.transform=k5,j.unary=HO,j.union=B6,j.unionBy=z6,j.unionWith=H6,j.uniq=K6,j.uniqBy=V6,j.uniqWith=W6,j.unset=q5,j.unzip=Nl,j.unzipWith=Y0,j.update=G5,j.updateWith=J5,j.values=lo,j.valuesIn=Y5,j.without=k6,j.words=b_,j.wrap=KO,j.xor=q6,j.xorBy=G6,j.xorWith=J6,j.zip=Y6,j.zipObject=Q6,j.zipObjectDeep=X6,j.zipWith=Z6,j.entries=y_,j.entriesIn=m_,j.extend=p_,j.extendWith=$c,zl(j,j),j.add=YA,j.attempt=E_,j.camelCase=eA,j.capitalize=v_,j.ceil=QA,j.clamp=Q5,j.clone=WO,j.cloneDeep=qO,j.cloneDeepWith=GO,j.cloneWith=kO,j.conformsTo=JO,j.deburr=w_,j.defaultTo=PA,j.divide=XA,j.endsWith=tA,j.eq=ri,j.escape=rA,j.escapeRegExp=nA,j.every=fO,j.find=hO,j.findIndex=W0,j.findKey=S5,j.findLast=dO,j.findLastIndex=k0,j.findLastKey=D5,j.floor=ZA,j.forEach=X0,j.forEachRight=Z0,j.forIn=O5,j.forInRight=A5,j.forOwn=P5,j.forOwnRight=C5,j.get=jl,j.gt=YO,j.gte=QO,j.has=R5,j.hasIn=Ll,j.head=G0,j.identity=yn,j.includes=mO,j.indexOf=d6,j.inRange=X5,j.invoke=j5,j.isArguments=Is,j.isArray=Tt,j.isArrayBuffer=XO,j.isArrayLike=gn,j.isArrayLikeObject=br,j.isBoolean=ZO,j.isBuffer=es,j.isDate=e5,j.isElement=t5,j.isEmpty=r5,j.isEqual=n5,j.isEqualWith=i5,j.isError=Fl,j.isFinite=s5,j.isFunction=Ci,j.isInteger=a_,j.isLength=Lc,j.isMap=c_,j.isMatch=o5,j.isMatchWith=a5,j.isNaN=c5,j.isNative=u5,j.isNil=l5,j.isNull=f5,j.isNumber=u_,j.isObject=fr,j.isObjectLike=gr,j.isPlainObject=na,j.isRegExp=Ul,j.isSafeInteger=h5,j.isSet=f_,j.isString=Mc,j.isSymbol=An,j.isTypedArray=fo,j.isUndefined=d5,j.isWeakMap=p5,j.isWeakSet=g5,j.join=m6,j.kebabCase=iA,j.last=Vn,j.lastIndexOf=v6,j.lowerCase=sA,j.lowerFirst=oA,j.lt=_5,j.lte=y5,j.max=eP,j.maxBy=tP,j.mean=rP,j.meanBy=nP,j.min=iP,j.minBy=sP,j.stubArray=Kl,j.stubFalse=Vl,j.stubObject=VA,j.stubString=WA,j.stubTrue=kA,j.multiply=oP,j.nth=w6,j.noConflict=jA,j.noop=Hl,j.now=Fc,j.pad=aA,j.padEnd=cA,j.padStart=uA,j.parseInt=fA,j.random=Z5,j.reduce=xO,j.reduceRight=IO,j.repeat=lA,j.replace=hA,j.result=K5,j.round=aP,j.runInContext=Ce,j.sample=DO,j.size=PO,j.snakeCase=dA,j.some=CO,j.sortedIndex=O6,j.sortedIndexBy=A6,j.sortedIndexOf=P6,j.sortedLastIndex=C6,j.sortedLastIndexBy=N6,j.sortedLastIndexOf=T6,j.startCase=gA,j.startsWith=_A,j.subtract=cP,j.sum=uP,j.sumBy=fP,j.template=yA,j.times=qA,j.toFinite=Ni,j.toInteger=Rt,j.toLength=h_,j.toLower=mA,j.toNumber=Wn,j.toSafeInteger=m5,j.toString=Yt,j.toUpper=vA,j.trim=wA,j.trimEnd=bA,j.trimStart=EA,j.truncate=xA,j.unescape=IA,j.uniqueId=JA,j.upperCase=SA,j.upperFirst=Ml,j.each=X0,j.eachRight=Z0,j.first=G0,zl(j,function(){var n={};return fi(j,function(o,l){Qt.call(j.prototype,l)||(n[l]=o)}),n}(),{chain:!1}),j.VERSION=a,$n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){j[n].placeholder=j}),$n(["drop","take"],function(n,o){Bt.prototype[n]=function(l){l=l===t?1:Tr(Rt(l),0);var y=this.__filtered__&&!o?new Bt(this):this.clone();return y.__filtered__?y.__takeCount__=kr(l,y.__takeCount__):y.__views__.push({size:kr(l,ui),type:n+(y.__dir__<0?"Right":"")}),y},Bt.prototype[n+"Right"]=function(l){return this.reverse()[n](l).reverse()}}),$n(["filter","map","takeWhile"],function(n,o){var l=o+1,y=l==qp||l==b2;Bt.prototype[n]=function(N){var z=this.clone();return z.__iteratees__.push({iteratee:It(N,3),type:l}),z.__filtered__=z.__filtered__||y,z}}),$n(["head","last"],function(n,o){var l="take"+(o?"Right":"");Bt.prototype[n]=function(){return this[l](1).value()[0]}}),$n(["initial","tail"],function(n,o){var l="drop"+(o?"":"Right");Bt.prototype[n]=function(){return this.__filtered__?new Bt(this):this[l](1)}}),Bt.prototype.compact=function(){return this.filter(yn)},Bt.prototype.find=function(n){return this.filter(n).head()},Bt.prototype.findLast=function(n){return this.reverse().find(n)},Bt.prototype.invokeMap=Lt(function(n,o){return typeof n=="function"?new Bt(this):this.map(function(l){return Qo(l,n,o)})}),Bt.prototype.reject=function(n){return this.filter(jc(It(n)))},Bt.prototype.slice=function(n,o){n=Rt(n);var l=this;return l.__filtered__&&(n>0||o<0)?new Bt(l):(n<0?l=l.takeRight(-n):n&&(l=l.drop(n)),o!==t&&(o=Rt(o),l=o<0?l.dropRight(-o):l.take(o-n)),l)},Bt.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Bt.prototype.toArray=function(){return this.take(ui)},fi(Bt.prototype,function(n,o){var l=/^(?:filter|find|map|reject)|While$/.test(o),y=/^(?:head|last)$/.test(o),N=j[y?"take"+(o=="last"?"Right":""):o],z=y||/^find/.test(o);N&&(j.prototype[o]=function(){var te=this.__wrapped__,we=y?[1]:arguments,Ne=te instanceof Bt,Ye=we[0],Qe=Ne||Tt(te),tt=function(Mt){var Kt=N.apply(j,qi([Mt],we));return y&&ut?Kt[0]:Kt};Qe&&l&&typeof Ye=="function"&&Ye.length!=1&&(Ne=Qe=!1);var ut=this.__chain__,wt=!!this.__actions__.length,St=z&&!ut,Ut=Ne&&!wt;if(!z&&Qe){te=Ut?te:new Bt(this);var Dt=n.apply(te,we);return Dt.__actions__.push({func:Tc,args:[tt],thisArg:t}),new zn(Dt,ut)}return St&&Ut?n.apply(this,we):(Dt=this.thru(tt),St?y?Dt.value()[0]:Dt.value():Dt)})}),$n(["pop","push","shift","sort","splice","unshift"],function(n){var o=ic[n],l=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",y=/^(?:pop|shift)$/.test(n);j.prototype[n]=function(){var N=arguments;if(y&&!this.__chain__){var z=this.value();return o.apply(Tt(z)?z:[],N)}return this[l](function(te){return o.apply(Tt(te)?te:[],N)})}}),fi(Bt.prototype,function(n,o){var l=j[o];if(l){var y=l.name+"";Qt.call(so,y)||(so[y]=[]),so[y].push({name:o,func:l})}}),so[Sc(t,xt).name]=[{name:"wrapper",func:t}],Bt.prototype.clone=IS,Bt.prototype.reverse=SS,Bt.prototype.value=DS,j.prototype.at=tO,j.prototype.chain=rO,j.prototype.commit=nO,j.prototype.next=iO,j.prototype.plant=oO,j.prototype.reverse=aO,j.prototype.toJSON=j.prototype.valueOf=j.prototype.value=cO,j.prototype.first=j.prototype.head,Vo&&(j.prototype[Vo]=sO),j},ro=nS();_s?((_s.exports=ro)._=ro,Bf._=ro):zr._=ro}).call(Fo)})(gf,gf.exports);var F3=Object.defineProperty,U3=Object.defineProperties,j3=Object.getOwnPropertyDescriptors,jp=Object.getOwnPropertySymbols,L3=Object.prototype.hasOwnProperty,M3=Object.prototype.propertyIsEnumerable,Lp=(r,e,t)=>e in r?F3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Va=(r,e)=>{for(var t in e||(e={}))L3.call(e,t)&&Lp(r,t,e[t]);if(jp)for(var t of jp(e))M3.call(e,t)&&Lp(r,t,e[t]);return r},$3=(r,e)=>U3(r,j3(e));function Vi(r,e,t){var a;const f=cp(r);return((a=e.rpcMap)==null?void 0:a[f.reference])||`${R3}?chainId=${f.namespace}:${f.reference}&projectId=${t}`}function ps(r){return r.includes(":")?r.split(":")[1]:r}function Mp(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function B3(r,e){const t=Object.keys(e.namespaces).filter(f=>f.includes(r));if(!t.length)return[];const a=[];return t.forEach(f=>{const p=e.namespaces[f].accounts;a.push(...p)}),a}function $p(r={},e={}){const t=Bp(r),a=Bp(e);return gf.exports.merge(t,a)}function Bp(r){var e,t,a,f;const p={};if(!Ha(r))return p;for(const[D,K]of Object.entries(r)){const ne=za(D)?[D]:K.chains,B=K.methods||[],ie=K.events||[],oe=K.rpcMap||{},He=Gs(D);p[He]=$3(Va(Va({},p[He]),K),{chains:ci(ne,(e=p[He])==null?void 0:e.chains),methods:ci(B,(t=p[He])==null?void 0:t.methods),events:ci(ie,(a=p[He])==null?void 0:a.events),rpcMap:Va(Va({},oe),(f=p[He])==null?void 0:f.rpcMap)})}return p}function z3(r){return r.includes(":")?r.split(":")[2]:r}function H3(r){const e={};for(const[t,a]of Object.entries(r)){const f=a.methods||[],p=a.events||[],D=a.accounts||[],K=za(t)?[t]:a.chains?a.chains:Mp(a.accounts);e[t]={chains:K,methods:f,events:p,accounts:D}}return e}function _f(r){return typeof r=="number"?r:r.includes("0x")?parseInt(r,16):(r=r.includes(":")?r.split(":")[1]:r,isNaN(Number(r))?r:Number(r))}const zp={},or=r=>zp[r],yf=(r,e)=>{zp[r]=e};class K3{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=or("events"),this.client=or("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const f=ps(t);e[f]=this.createHttpProvider(f,(a=this.namespace.rpcMap)==null?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||Vi(e,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new mi(new ds(a,or("disableProviderPing")))}}class V3{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=or("events"),this.client=or("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(Ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const a=t||Vi(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new mi(new Rp(a,or("disableProviderPing")))}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const f=parseInt(ps(t));e[f]=this.createHttpProvider(f,(a=this.namespace.rpcMap)==null?void 0:a[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,a;let f=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";f=f.startsWith("0x")?f:`0x${f}`;const p=parseInt(f,16);if(this.isChainApproved(p))this.setDefaultChain(`${p}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:f}]},chainId:(a=this.namespace.chains)==null?void 0:a[0]}),this.setDefaultChain(`${p}`);else throw new Error(`Failed to switch to chain 'eip155:${p}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class W3{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=or("events"),this.client=or("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const f=ps(t);e[f]=this.createHttpProvider(f,(a=this.namespace.rpcMap)==null?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||Vi(e,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new mi(new ds(a,or("disableProviderPing")))}}class k3{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=or("events"),this.client=or("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const f=ps(t);e[f]=this.createHttpProvider(f,(a=this.namespace.rpcMap)==null?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||Vi(e,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new mi(new ds(a,or("disableProviderPing")))}}class q3{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=or("events"),this.client=or("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const a=this.getCardanoRPCUrl(t),f=ps(t);e[f]=this.createHttpProvider(f,a)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||this.getCardanoRPCUrl(e);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new mi(new ds(a,or("disableProviderPing")))}}class G3{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=or("events"),this.client=or("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const f=ps(t);e[f]=this.createHttpProvider(f,(a=this.namespace.rpcMap)==null?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||Vi(e,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new mi(new ds(a,or("disableProviderPing")))}}class J3{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=or("events"),this.client=or("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const f=ps(t);e[f]=this.createHttpProvider(f,(a=this.namespace.rpcMap)==null?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||Vi(e,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new mi(new ds(a,or("disableProviderPing")))}}class Y3{constructor(e){this.name="near",this.namespace=e.namespace,this.events=or("events"),this.client=or("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const a=t||Vi(`${this.name}:${e}`,this.namespace);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,a)}this.events.emit(Ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;e[t]=this.createHttpProvider(t,(a=this.namespace.rpcMap)==null?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||Vi(e,this.namespace);return typeof a>"u"?void 0:new mi(new ds(a,or("disableProviderPing")))}}var Q3=Object.defineProperty,X3=Object.defineProperties,Z3=Object.getOwnPropertyDescriptors,Hp=Object.getOwnPropertySymbols,e2=Object.prototype.hasOwnProperty,t2=Object.prototype.propertyIsEnumerable,Kp=(r,e,t)=>e in r?Q3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wa=(r,e)=>{for(var t in e||(e={}))e2.call(e,t)&&Kp(r,t,e[t]);if(Hp)for(var t of Hp(e))t2.call(e,t)&&Kp(r,t,e[t]);return r},mf=(r,e)=>X3(r,Z3(e));class vf{constructor(e){this.events=new(Be()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ma()(ba({level:(e==null?void 0:e.logger)||Fp})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const t=new vf(e);return await t.initialize(),t}async request(e,t,a){const[f,p]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(f).request({request:Wa({},e),chainId:`${f}:${p}`,topic:this.session.topic,expiry:a})}sendAsync(e,t,a,f){const p=new Date().getTime();this.request(e,a,f).then(D=>t(null,Ta(p,D))).catch(D=>t(D,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Ki("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:a,approval:f}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});a&&(this.uri=a,this.events.emit("display_uri",a)),await f().then(p=>{this.session=p;const D=H3(p.namespaces);this.namespaces=$p(this.namespaces,D),this.persist("namespaces",this.namespaces)}).catch(p=>{if(p.message!==sp)throw p;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[a,f]=this.validateChain(e);this.getProvider(a).setDefaultChain(f,t)}catch(a){if(!/Please call connect/.test(a.message))throw a}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(Js(t)){for(const a of t)e.deletePairings?this.client.core.expirer.set(a.topic,0):await this.client.core.relayer.subscriber.unsubscribe(a.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await nf.init({logger:this.providerOpts.logger||Fp,relayUrl:this.providerOpts.relayUrl||C3,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>Gs(t)))];yf("client",this.client),yf("events",this.events),yf("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const a=B3(t,this.session),f=Mp(a),p=$p(this.namespaces,this.optionalNamespaces),D=mf(Wa({},p[t]),{accounts:a,chains:f});switch(t){case"eip155":this.rpcProviders[t]=new V3({namespace:D});break;case"solana":this.rpcProviders[t]=new W3({namespace:D});break;case"cosmos":this.rpcProviders[t]=new k3({namespace:D});break;case"polkadot":this.rpcProviders[t]=new K3({namespace:D});break;case"cip34":this.rpcProviders[t]=new q3({namespace:D});break;case"elrond":this.rpcProviders[t]=new G3({namespace:D});break;case"multiversx":this.rpcProviders[t]=new J3({namespace:D});break;case"near":this.rpcProviders[t]=new Y3({namespace:D});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:t}=e,{event:a}=t;if(a.name==="accountsChanged"){const f=a.data;f&&Js(f)&&this.events.emit("accountsChanged",f.map(z3))}else if(a.name==="chainChanged"){const f=t.chainId,p=t.event.data,D=Gs(f),K=_f(f)!==_f(p)?`${D}:${_f(p)}`:f;this.onChainChanged(K)}else this.events.emit(a.name,a.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var a;const{namespaces:f}=t,p=(a=this.client)==null?void 0:a.session.get(e);this.session=mf(Wa({},p),{namespaces:f}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",mf(Wa({},Ki("USER_DISCONNECTED")),{data:e.topic}))}),this.on(Ei.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t,optionalNamespaces:a,sessionProperties:f}=e;t&&Object.keys(t).length&&(this.namespaces=t),a&&Object.keys(a).length&&(this.optionalNamespaces=a),this.sessionProperties=f,this.persist("namespaces",t),this.persist("optionalNamespaces",a)}validateChain(e){const[t,a]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,a];if(t&&!Object.keys(this.namespaces||{}).map(D=>Gs(D)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&a)return[t,a];const f=Gs(Object.keys(this.namespaces)[0]),p=this.rpcProviders[f].getDefaultChain();return[f,p]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){if(!this.namespaces)return;const[a,f]=this.validateChain(e);f&&(t||this.getProvider(a).setDefaultChain(f),this.namespaces[a]?this.namespaces[a].defaultChain=f:this.namespaces[`${a}:${f}`]?this.namespaces[`${a}:${f}`].defaultChain=f:this.namespaces[`${a}:${f}`]={defaultChain:f},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",f))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${Up}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${Up}/${e}`)}}const r2=vf,n2="wc",i2="ethereum_provider",s2=`${n2}@2:${i2}:`,o2="https://rpc.walletconnect.com/v1/",wf=["eth_sendTransaction","personal_sign"],a2=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],bf=["chainChanged","accountsChanged"],c2=["chainChanged","accountsChanged","message","disconnect","connect"];var u2=Object.defineProperty,f2=Object.defineProperties,l2=Object.getOwnPropertyDescriptors,Vp=Object.getOwnPropertySymbols,h2=Object.prototype.hasOwnProperty,d2=Object.prototype.propertyIsEnumerable,Wp=(r,e,t)=>e in r?u2(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Uo=(r,e)=>{for(var t in e||(e={}))h2.call(e,t)&&Wp(r,t,e[t]);if(Vp)for(var t of Vp(e))d2.call(e,t)&&Wp(r,t,e[t]);return r},kp=(r,e)=>f2(r,l2(e));function ka(r){return Number(r[0].split(":")[1])}function Ef(r){return`0x${r.toString(16)}`}function p2(r){const{chains:e,optionalChains:t,methods:a,optionalMethods:f,events:p,optionalEvents:D,rpcMap:K}=r;if(!os(e))throw new Error("Invalid chains");const ne={chains:e,methods:a||wf,events:p||bf,rpcMap:Uo({},e.length?{[ka(e)]:K[ka(e)]}:{})},B=p==null?void 0:p.filter(st=>!bf.includes(st)),ie=a==null?void 0:a.filter(st=>!wf.includes(st));if(!t&&!D&&!f&&!(B!=null&&B.length)&&!(ie!=null&&ie.length))return{required:e.length?ne:void 0};const oe=(B==null?void 0:B.length)&&(ie==null?void 0:ie.length)||!t,He={chains:[...new Set(oe?ne.chains.concat(t||[]):t)],methods:[...new Set(ne.methods.concat(f!=null&&f.length?f:a2))],events:[...new Set(ne.events.concat(D!=null&&D.length?D:c2))],rpcMap:K};return{required:e.length?ne:void 0,optional:t.length?He:void 0}}class xf{constructor(){this.events=new re.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=s2,this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const t=new xf;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,a){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),a)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:t,optional:a}=p2(this.rpc);try{const f=await new Promise(async(D,K)=>{var ne;this.rpc.showQrModal&&((ne=this.modal)==null||ne.subscribeModal(B=>{!B.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),K(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(kp(Uo({namespaces:Uo({},t&&{[this.namespace]:t})},a&&{optionalNamespaces:{[this.namespace]:a}}),{pairingTopic:e==null?void 0:e.pairingTopic})).then(B=>{D(B)}).catch(B=>{K(new Error(B.message))})});if(!f)return;const p=N_(f.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:p),this.setAccounts(p),this.events.emit("connect",{chainId:Ef(this.chainId)})}catch(f){throw this.signer.logger.error(f),f}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:a}=t;a.name==="accountsChanged"?(this.accounts=this.parseAccounts(a.data),this.events.emit("accountsChanged",this.accounts)):a.name==="chainChanged"?this.setChainId(this.formatChainId(a.data)):this.events.emit(a.name,a.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",Ef(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",kp(Uo({},ss("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,a;this.rpc.showQrModal&&((t=this.modal)==null||t.closeModal(),(a=this.modal)==null||a.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(a=>this.isCompatibleChainId(a)).map(a=>this.parseChainId(a));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",Ef(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,a,f]=e.split(":");return{chainId:`${t}:${a}`,address:f}}setAccounts(e){this.accounts=e.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,a;const f=(t=e==null?void 0:e.chains)!=null?t:[],p=(a=e==null?void 0:e.optionalChains)!=null?a:[],D=f.concat(p);if(!D.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const K=f.length?(e==null?void 0:e.methods)||wf:[],ne=f.length?(e==null?void 0:e.events)||bf:[],B=(e==null?void 0:e.optionalMethods)||[],ie=(e==null?void 0:e.optionalEvents)||[],oe=(e==null?void 0:e.rpcMap)||this.buildRpcMap(D,e.projectId),He=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:f==null?void 0:f.map(st=>this.formatChainId(st)),optionalChains:p.map(st=>this.formatChainId(st)),methods:K,events:ne,optionalMethods:B,optionalEvents:ie,rpcMap:oe,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:He,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const a={};return e.forEach(f=>{a[f]=this.getRpcUrl(f,t)}),a}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?ka(this.rpc.chains):ka(this.rpc.optionalChains),this.signer=await r2.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{const{WalletConnectModal:a}=await T.e(343).then(T.bind(T,59343));t=a}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(Uo({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(a){throw this.signer.logger.error(a),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:a,rpcMap:f}=e;t&&os(t)&&(this.rpc.chains=t.map(p=>this.formatChainId(p)),t.forEach(p=>{this.rpc.rpcMap[p]=(f==null?void 0:f[p])||this.getRpcUrl(p)})),a&&os(a)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=a==null?void 0:a.map(p=>this.formatChainId(p)),a.forEach(p=>{this.rpc.rpcMap[p]=(f==null?void 0:f[p])||this.getRpcUrl(p)}))}getRpcUrl(e,t){var a;return((a=this.rpc.rpcMap)==null?void 0:a[e])||`${o2}?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t==null?void 0:t.accounts),this.setAccounts(t==null?void 0:t.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(t=>this.parseAccount(t))}}const g2=xf},62116:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getLocalStorage=b.getLocalStorageOrThrow=b.getCrypto=b.getCryptoOrThrow=b.getLocation=b.getLocationOrThrow=b.getNavigator=b.getNavigatorOrThrow=b.getDocument=b.getDocumentOrThrow=b.getFromWindowOrThrow=b.getFromWindow=void 0;function T(Re){let ee;return typeof window<"u"&&typeof window[Re]<"u"&&(ee=window[Re]),ee}b.getFromWindow=T;function k(Re){const ee=T(Re);if(!ee)throw new Error(`${Re} is not defined in Window`);return ee}b.getFromWindowOrThrow=k;function Te(){return k("document")}b.getDocumentOrThrow=Te;function Ue(){return T("document")}b.getDocument=Ue;function xe(){return k("navigator")}b.getNavigatorOrThrow=xe;function V(){return T("navigator")}b.getNavigator=V;function ce(){return k("location")}b.getLocationOrThrow=ce;function Q(){return T("location")}b.getLocation=Q;function F(){return k("crypto")}b.getCryptoOrThrow=F;function G(){return T("crypto")}b.getCrypto=G;function Y(){return k("localStorage")}b.getLocalStorageOrThrow=Y;function Ie(){return T("localStorage")}b.getLocalStorage=Ie},304:function(rt,b,T){"use strict";var k;k={value:!0},k=void 0;const Te=T(62116);function Ue(){let xe,V;try{xe=Te.getDocumentOrThrow(),V=Te.getLocationOrThrow()}catch{return null}function ce(){const re=xe.getElementsByTagName("link"),Be=[];for(let ze=0;ze<re.length;ze++){const ke=re[ze],je=ke.getAttribute("rel");if(je&&je.toLowerCase().indexOf("icon")>-1){const ve=ke.getAttribute("href");if(ve)if(ve.toLowerCase().indexOf("https:")===-1&&ve.toLowerCase().indexOf("http:")===-1&&ve.indexOf("//")!==0){let se=V.protocol+"//"+V.host;if(ve.indexOf("/")===0)se+=ve;else{const De=V.pathname.split("/");De.pop();const _=De.join("/");se+=_+"/"+ve}Be.push(se)}else if(ve.indexOf("//")===0){const se=V.protocol+ve;Be.push(se)}else Be.push(ve)}}return Be}function Q(...re){const Be=xe.getElementsByTagName("meta");for(let ze=0;ze<Be.length;ze++){const ke=Be[ze],je=["itemprop","property","name"].map(ve=>ke.getAttribute(ve)).filter(ve=>ve?re.includes(ve):!1);if(je.length&&je){const ve=ke.getAttribute("content");if(ve)return ve}}return""}function F(){let re=Q("name","og:site_name","og:title","twitter:title");return re||(re=xe.title),re}function G(){return Q("description","og:description","twitter:description","keywords")}const Y=F(),Ie=G(),Re=V.origin,ee=ce();return{description:Ie,url:Re,icons:ee,name:Y}}k=Ue},38200:function(rt,b,T){"use strict";T.d(b,{q:function(){return k}});class k{}},30997:function(rt,b,T){"use strict";T.r(b),T.d(b,{IEvents:function(){return k.q}});var k=T(38200)},32568:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.HEARTBEAT_EVENTS=b.HEARTBEAT_INTERVAL=void 0;const k=T(66736);b.HEARTBEAT_INTERVAL=k.FIVE_SECONDS,b.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},53401:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),T(57875).__exportStar(T(32568),b)},38969:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.HeartBeat=void 0;const k=T(57875),Te=T(17187),Ue=T(66736),xe=T(1614),V=T(53401);class ce extends xe.IHeartBeat{constructor(F){super(F),this.events=new Te.EventEmitter,this.interval=V.HEARTBEAT_INTERVAL,this.interval=(F==null?void 0:F.interval)||V.HEARTBEAT_INTERVAL}static init(F){return k.__awaiter(this,void 0,void 0,function*(){const G=new ce(F);return yield G.init(),G})}init(){return k.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(F,G){this.events.on(F,G)}once(F,G){this.events.once(F,G)}off(F,G){this.events.off(F,G)}removeListener(F,G){this.events.removeListener(F,G)}initialize(){return k.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),Ue.toMiliseconds(this.interval))})}pulse(){this.events.emit(V.HEARTBEAT_EVENTS.pulse)}}b.HeartBeat=ce},90772:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const k=T(57875);k.__exportStar(T(38969),b),k.__exportStar(T(1614),b),k.__exportStar(T(53401),b)},44174:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IHeartBeat=void 0;const k=T(30997);class Te extends k.IEvents{constructor(xe){super()}}b.IHeartBeat=Te},1614:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),T(57875).__exportStar(T(44174),b)},80699:function(rt,b){var T=typeof self<"u"?self:this,k=function(){function Ue(){this.fetch=!1,this.DOMException=T.DOMException}return Ue.prototype=T,new Ue}();(function(Ue){var xe=function(V){var ce={searchParams:"URLSearchParams"in Ue,iterable:"Symbol"in Ue&&"iterator"in Symbol,blob:"FileReader"in Ue&&"Blob"in Ue&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Ue,arrayBuffer:"ArrayBuffer"in Ue};function Q(I){return I&&DataView.prototype.isPrototypeOf(I)}if(ce.arrayBuffer)var F=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],G=ArrayBuffer.isView||function(I){return I&&F.indexOf(Object.prototype.toString.call(I))>-1};function Y(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(I))throw new TypeError("Invalid character in header field name");return I.toLowerCase()}function Ie(I){return typeof I!="string"&&(I=String(I)),I}function Re(I){var A={next:function(){var C=I.shift();return{done:C===void 0,value:C}}};return ce.iterable&&(A[Symbol.iterator]=function(){return A}),A}function ee(I){this.map={},I instanceof ee?I.forEach(function(A,C){this.append(C,A)},this):Array.isArray(I)?I.forEach(function(A){this.append(A[0],A[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(A){this.append(A,I[A])},this)}ee.prototype.append=function(I,A){I=Y(I),A=Ie(A);var C=this.map[I];this.map[I]=C?C+", "+A:A},ee.prototype.delete=function(I){delete this.map[Y(I)]},ee.prototype.get=function(I){return I=Y(I),this.has(I)?this.map[I]:null},ee.prototype.has=function(I){return this.map.hasOwnProperty(Y(I))},ee.prototype.set=function(I,A){this.map[Y(I)]=Ie(A)},ee.prototype.forEach=function(I,A){for(var C in this.map)this.map.hasOwnProperty(C)&&I.call(A,this.map[C],C,this)},ee.prototype.keys=function(){var I=[];return this.forEach(function(A,C){I.push(C)}),Re(I)},ee.prototype.values=function(){var I=[];return this.forEach(function(A){I.push(A)}),Re(I)},ee.prototype.entries=function(){var I=[];return this.forEach(function(A,C){I.push([C,A])}),Re(I)},ce.iterable&&(ee.prototype[Symbol.iterator]=ee.prototype.entries);function _e(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function re(I){return new Promise(function(A,C){I.onload=function(){A(I.result)},I.onerror=function(){C(I.error)}})}function Be(I){var A=new FileReader,C=re(A);return A.readAsArrayBuffer(I),C}function ze(I){var A=new FileReader,C=re(A);return A.readAsText(I),C}function ke(I){for(var A=new Uint8Array(I),C=new Array(A.length),O=0;O<A.length;O++)C[O]=String.fromCharCode(A[O]);return C.join("")}function je(I){if(I.slice)return I.slice(0);var A=new Uint8Array(I.byteLength);return A.set(new Uint8Array(I)),A.buffer}function ve(){return this.bodyUsed=!1,this._initBody=function(I){this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:ce.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:ce.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:ce.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():ce.arrayBuffer&&ce.blob&&Q(I)?(this._bodyArrayBuffer=je(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ce.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||G(I))?this._bodyArrayBuffer=je(I):this._bodyText=I=Object.prototype.toString.call(I):this._bodyText="",this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ce.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ce.blob&&(this.blob=function(){var I=_e(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_e(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Be)}),this.text=function(){var I=_e(this);if(I)return I;if(this._bodyBlob)return ze(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ke(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ce.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}var se=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function De(I){var A=I.toUpperCase();return se.indexOf(A)>-1?A:I}function _(I,A){A=A||{};var C=A.body;if(I instanceof _){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,A.headers||(this.headers=new ee(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!C&&I._bodyInit!=null&&(C=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new ee(A.headers)),this.method=De(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&C)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(C)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function d(I){var A=new FormData;return I.trim().split("&").forEach(function(C){if(C){var O=C.split("="),P=O.shift().replace(/\+/g," "),$=O.join("=").replace(/\+/g," ");A.append(decodeURIComponent(P),decodeURIComponent($))}}),A}function x(I){var A=new ee,C=I.replace(/\r?\n[\t ]+/g," ");return C.split(/\r?\n/).forEach(function(O){var P=O.split(":"),$=P.shift().trim();if($){var Se=P.join(":").trim();A.append($,Se)}}),A}ve.call(_.prototype);function U(I,A){A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in A?A.statusText:"OK",this.headers=new ee(A.headers),this.url=A.url||"",this._initBody(I)}ve.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ee(this.headers),url:this.url})},U.error=function(){var I=new U(null,{status:0,statusText:""});return I.type="error",I};var g=[301,302,303,307,308];U.redirect=function(I,A){if(g.indexOf(A)===-1)throw new RangeError("Invalid status code");return new U(null,{status:A,headers:{location:I}})},V.DOMException=Ue.DOMException;try{new V.DOMException}catch{V.DOMException=function(A,C){this.message=A,this.name=C;var O=Error(A);this.stack=O.stack},V.DOMException.prototype=Object.create(Error.prototype),V.DOMException.prototype.constructor=V.DOMException}function R(I,A){return new Promise(function(C,O){var P=new _(I,A);if(P.signal&&P.signal.aborted)return O(new V.DOMException("Aborted","AbortError"));var $=new XMLHttpRequest;function Se(){$.abort()}$.onload=function(){var Z={status:$.status,statusText:$.statusText,headers:x($.getAllResponseHeaders()||"")};Z.url="responseURL"in $?$.responseURL:Z.headers.get("X-Request-URL");var be="response"in $?$.response:$.responseText;C(new U(be,Z))},$.onerror=function(){O(new TypeError("Network request failed"))},$.ontimeout=function(){O(new TypeError("Network request failed"))},$.onabort=function(){O(new V.DOMException("Aborted","AbortError"))},$.open(P.method,P.url,!0),P.credentials==="include"?$.withCredentials=!0:P.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&ce.blob&&($.responseType="blob"),P.headers.forEach(function(Z,be){$.setRequestHeader(be,Z)}),P.signal&&(P.signal.addEventListener("abort",Se),$.onreadystatechange=function(){$.readyState===4&&P.signal.removeEventListener("abort",Se)}),$.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return R.polyfill=!0,Ue.fetch||(Ue.fetch=R,Ue.Headers=ee,Ue.Request=_,Ue.Response=U),V.Headers=ee,V.Request=_,V.Response=U,V.fetch=R,Object.defineProperty(V,"__esModule",{value:!0}),V}({})})(k),k.fetch.ponyfill=!0,delete k.fetch.polyfill;var Te=k;b=Te.fetch,b.default=Te.fetch,b.fetch=Te.fetch,b.Headers=Te.Headers,b.Request=Te.Request,b.Response=Te.Response,rt.exports=b},43014:function(){},18495:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getLocalStorage=b.getLocalStorageOrThrow=b.getCrypto=b.getCryptoOrThrow=b.getLocation=b.getLocationOrThrow=b.getNavigator=b.getNavigatorOrThrow=b.getDocument=b.getDocumentOrThrow=b.getFromWindowOrThrow=b.getFromWindow=void 0;function T(Re){let ee;return typeof window<"u"&&typeof window[Re]<"u"&&(ee=window[Re]),ee}b.getFromWindow=T;function k(Re){const ee=T(Re);if(!ee)throw new Error(`${Re} is not defined in Window`);return ee}b.getFromWindowOrThrow=k;function Te(){return k("document")}b.getDocumentOrThrow=Te;function Ue(){return T("document")}b.getDocument=Ue;function xe(){return k("navigator")}b.getNavigatorOrThrow=xe;function V(){return T("navigator")}b.getNavigator=V;function ce(){return k("location")}b.getLocationOrThrow=ce;function Q(){return T("location")}b.getLocation=Q;function F(){return k("crypto")}b.getCryptoOrThrow=F;function G(){return T("crypto")}b.getCrypto=G;function Y(){return k("localStorage")}b.getLocalStorageOrThrow=Y;function Ie(){return T("localStorage")}b.getLocalStorage=Ie},20416:function(rt,b,T){"use strict";var k;k={value:!0},b.D=void 0;const Te=T(18495);function Ue(){let xe,V;try{xe=Te.getDocumentOrThrow(),V=Te.getLocationOrThrow()}catch{return null}function ce(){const re=xe.getElementsByTagName("link"),Be=[];for(let ze=0;ze<re.length;ze++){const ke=re[ze],je=ke.getAttribute("rel");if(je&&je.toLowerCase().indexOf("icon")>-1){const ve=ke.getAttribute("href");if(ve)if(ve.toLowerCase().indexOf("https:")===-1&&ve.toLowerCase().indexOf("http:")===-1&&ve.indexOf("//")!==0){let se=V.protocol+"//"+V.host;if(ve.indexOf("/")===0)se+=ve;else{const De=V.pathname.split("/");De.pop();const _=De.join("/");se+=_+"/"+ve}Be.push(se)}else if(ve.indexOf("//")===0){const se=V.protocol+ve;Be.push(se)}else Be.push(ve)}}return Be}function Q(...re){const Be=xe.getElementsByTagName("meta");for(let ze=0;ze<Be.length;ze++){const ke=Be[ze],je=["itemprop","property","name"].map(ve=>ke.getAttribute(ve)).filter(ve=>ve?re.includes(ve):!1);if(je.length&&je){const ve=ke.getAttribute("content");if(ve)return ve}}return""}function F(){let re=Q("name","og:site_name","og:title","twitter:title");return re||(re=xe.title),re}function G(){return Q("description","og:description","twitter:description","keywords")}const Y=F(),Ie=G(),Re=V.origin,ee=ce();return{description:Ie,url:Re,icons:ee,name:Y}}b.D=Ue},28550:function(rt,b,T){rt.exports=self.fetch||(self.fetch=T(42225).default||T(42225))},42225:function(rt,b,T){"use strict";T.r(b),T.d(b,{default:function(){return k}});function k(Te,Ue){return Ue=Ue||{},new Promise(function(xe,V){var ce=new XMLHttpRequest,Q=[],F=[],G={},Y=function(){return{ok:(ce.status/100|0)==2,statusText:ce.statusText,status:ce.status,url:ce.responseURL,text:function(){return Promise.resolve(ce.responseText)},json:function(){return Promise.resolve(ce.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([ce.response]))},clone:Y,headers:{keys:function(){return Q},entries:function(){return F},get:function(Re){return G[Re.toLowerCase()]},has:function(Re){return Re.toLowerCase()in G}}}};for(var Ie in ce.open(Ue.method||"get",Te,!0),ce.onload=function(){ce.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(Re,ee,_e){Q.push(ee=ee.toLowerCase()),F.push([ee,_e]),G[ee]=G[ee]?G[ee]+","+_e:_e}),xe(Y())},ce.onerror=V,ce.withCredentials=Ue.credentials=="include",Ue.headers)ce.setRequestHeader(Ie,Ue.headers[Ie]);ce.send(Ue.body||null)})}},36900:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const k=T(62108);k.__exportStar(T(46869),b),k.__exportStar(T(88033),b)},46869:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ONE_THOUSAND=b.ONE_HUNDRED=void 0,b.ONE_HUNDRED=100,b.ONE_THOUSAND=1e3},88033:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ONE_YEAR=b.FOUR_WEEKS=b.THREE_WEEKS=b.TWO_WEEKS=b.ONE_WEEK=b.THIRTY_DAYS=b.SEVEN_DAYS=b.FIVE_DAYS=b.THREE_DAYS=b.ONE_DAY=b.TWENTY_FOUR_HOURS=b.TWELVE_HOURS=b.SIX_HOURS=b.THREE_HOURS=b.ONE_HOUR=b.SIXTY_MINUTES=b.THIRTY_MINUTES=b.TEN_MINUTES=b.FIVE_MINUTES=b.ONE_MINUTE=b.SIXTY_SECONDS=b.THIRTY_SECONDS=b.TEN_SECONDS=b.FIVE_SECONDS=b.ONE_SECOND=void 0,b.ONE_SECOND=1,b.FIVE_SECONDS=5,b.TEN_SECONDS=10,b.THIRTY_SECONDS=30,b.SIXTY_SECONDS=60,b.ONE_MINUTE=b.SIXTY_SECONDS,b.FIVE_MINUTES=b.ONE_MINUTE*5,b.TEN_MINUTES=b.ONE_MINUTE*10,b.THIRTY_MINUTES=b.ONE_MINUTE*30,b.SIXTY_MINUTES=b.ONE_MINUTE*60,b.ONE_HOUR=b.SIXTY_MINUTES,b.THREE_HOURS=b.ONE_HOUR*3,b.SIX_HOURS=b.ONE_HOUR*6,b.TWELVE_HOURS=b.ONE_HOUR*12,b.TWENTY_FOUR_HOURS=b.ONE_HOUR*24,b.ONE_DAY=b.TWENTY_FOUR_HOURS,b.THREE_DAYS=b.ONE_DAY*3,b.FIVE_DAYS=b.ONE_DAY*5,b.SEVEN_DAYS=b.ONE_DAY*7,b.THIRTY_DAYS=b.ONE_DAY*30,b.ONE_WEEK=b.SEVEN_DAYS,b.TWO_WEEKS=b.ONE_WEEK*2,b.THREE_WEEKS=b.ONE_WEEK*3,b.FOUR_WEEKS=b.ONE_WEEK*4,b.ONE_YEAR=b.ONE_DAY*365},66736:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const k=T(62108);k.__exportStar(T(44273),b),k.__exportStar(T(47001),b),k.__exportStar(T(52939),b),k.__exportStar(T(36900),b)},52939:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),T(62108).__exportStar(T(88766),b)},88766:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IWatch=void 0;class T{}b.IWatch=T},83207:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.fromMiliseconds=b.toMiliseconds=void 0;const k=T(36900);function Te(xe){return xe*k.ONE_THOUSAND}b.toMiliseconds=Te;function Ue(xe){return Math.floor(xe/k.ONE_THOUSAND)}b.fromMiliseconds=Ue},83873:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.delay=void 0;function T(k){return new Promise(Te=>{setTimeout(()=>{Te(!0)},k)})}b.delay=T},44273:function(rt,b,T){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const k=T(62108);k.__exportStar(T(83873),b),k.__exportStar(T(83207),b)},47001:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Watch=void 0;class T{constructor(){this.timestamps=new Map}start(Te){if(this.timestamps.has(Te))throw new Error(`Watch already started for label: ${Te}`);this.timestamps.set(Te,{started:Date.now()})}stop(Te){const Ue=this.get(Te);if(typeof Ue.elapsed<"u")throw new Error(`Watch already stopped for label: ${Te}`);const xe=Date.now()-Ue.started;this.timestamps.set(Te,{started:Ue.started,elapsed:xe})}get(Te){const Ue=this.timestamps.get(Te);if(typeof Ue>"u")throw new Error(`No timestamp found for label: ${Te}`);return Ue}elapsed(Te){const Ue=this.get(Te);return Ue.elapsed||Date.now()-Ue.started}}b.Watch=T,b.default=T},3382:function(rt,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getLocalStorage=b.getLocalStorageOrThrow=b.getCrypto=b.getCryptoOrThrow=b.getLocation=b.getLocationOrThrow=b.getNavigator=b.getNavigatorOrThrow=b.getDocument=b.getDocumentOrThrow=b.getFromWindowOrThrow=b.getFromWindow=void 0;function T(Re){let ee;return typeof window<"u"&&typeof window[Re]<"u"&&(ee=window[Re]),ee}b.getFromWindow=T;function k(Re){const ee=T(Re);if(!ee)throw new Error(`${Re} is not defined in Window`);return ee}b.getFromWindowOrThrow=k;function Te(){return k("document")}b.getDocumentOrThrow=Te;function Ue(){return T("document")}b.getDocument=Ue;function xe(){return k("navigator")}b.getNavigatorOrThrow=xe;function V(){return T("navigator")}b.getNavigator=V;function ce(){return k("location")}b.getLocationOrThrow=ce;function Q(){return T("location")}b.getLocation=Q;function F(){return k("crypto")}b.getCryptoOrThrow=F;function G(){return T("crypto")}b.getCrypto=G;function Y(){return k("localStorage")}b.getLocalStorageOrThrow=Y;function Ie(){return T("localStorage")}b.getLocalStorage=Ie},99982:function(rt,b,T){"use strict";var k;k={value:!0},k=void 0;const Te=T(3382);function Ue(){let xe,V;try{xe=Te.getDocumentOrThrow(),V=Te.getLocationOrThrow()}catch{return null}function ce(){const re=xe.getElementsByTagName("link"),Be=[];for(let ze=0;ze<re.length;ze++){const ke=re[ze],je=ke.getAttribute("rel");if(je&&je.toLowerCase().indexOf("icon")>-1){const ve=ke.getAttribute("href");if(ve)if(ve.toLowerCase().indexOf("https:")===-1&&ve.toLowerCase().indexOf("http:")===-1&&ve.indexOf("//")!==0){let se=V.protocol+"//"+V.host;if(ve.indexOf("/")===0)se+=ve;else{const De=V.pathname.split("/");De.pop();const _=De.join("/");se+=_+"/"+ve}Be.push(se)}else if(ve.indexOf("//")===0){const se=V.protocol+ve;Be.push(se)}else Be.push(ve)}}return Be}function Q(...re){const Be=xe.getElementsByTagName("meta");for(let ze=0;ze<Be.length;ze++){const ke=Be[ze],je=["itemprop","property","name"].map(ve=>ke.getAttribute(ve)).filter(ve=>ve?re.includes(ve):!1);if(je.length&&je){const ve=ke.getAttribute("content");if(ve)return ve}}return""}function F(){let re=Q("name","og:site_name","og:title","twitter:title");return re||(re=xe.title),re}function G(){return Q("description","og:description","twitter:description","keywords")}const Y=F(),Ie=G(),Re=V.origin,ee=ce();return{description:Ie,url:Re,icons:ee,name:Y}}k=Ue},79742:function(rt,b){"use strict";b.byteLength=Q,b.toByteArray=G,b.fromByteArray=Re;for(var T=[],k=[],Te=typeof Uint8Array<"u"?Uint8Array:Array,Ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xe=0,V=Ue.length;xe<V;++xe)T[xe]=Ue[xe],k[Ue.charCodeAt(xe)]=xe;k["-".charCodeAt(0)]=62,k["_".charCodeAt(0)]=63;function ce(ee){var _e=ee.length;if(_e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var re=ee.indexOf("=");re===-1&&(re=_e);var Be=re===_e?0:4-re%4;return[re,Be]}function Q(ee){var _e=ce(ee),re=_e[0],Be=_e[1];return(re+Be)*3/4-Be}function F(ee,_e,re){return(_e+re)*3/4-re}function G(ee){var _e,re=ce(ee),Be=re[0],ze=re[1],ke=new Te(F(ee,Be,ze)),je=0,ve=ze>0?Be-4:Be,se;for(se=0;se<ve;se+=4)_e=k[ee.charCodeAt(se)]<<18|k[ee.charCodeAt(se+1)]<<12|k[ee.charCodeAt(se+2)]<<6|k[ee.charCodeAt(se+3)],ke[je++]=_e>>16&255,ke[je++]=_e>>8&255,ke[je++]=_e&255;return ze===2&&(_e=k[ee.charCodeAt(se)]<<2|k[ee.charCodeAt(se+1)]>>4,ke[je++]=_e&255),ze===1&&(_e=k[ee.charCodeAt(se)]<<10|k[ee.charCodeAt(se+1)]<<4|k[ee.charCodeAt(se+2)]>>2,ke[je++]=_e>>8&255,ke[je++]=_e&255),ke}function Y(ee){return T[ee>>18&63]+T[ee>>12&63]+T[ee>>6&63]+T[ee&63]}function Ie(ee,_e,re){for(var Be,ze=[],ke=_e;ke<re;ke+=3)Be=(ee[ke]<<16&16711680)+(ee[ke+1]<<8&65280)+(ee[ke+2]&255),ze.push(Y(Be));return ze.join("")}function Re(ee){for(var _e,re=ee.length,Be=re%3,ze=[],ke=16383,je=0,ve=re-Be;je<ve;je+=ke)ze.push(Ie(ee,je,je+ke>ve?ve:je+ke));return Be===1?(_e=ee[re-1],ze.push(T[_e>>2]+T[_e<<4&63]+"==")):Be===2&&(_e=(ee[re-2]<<8)+ee[re-1],ze.push(T[_e>>10]+T[_e>>4&63]+T[_e<<2&63]+"=")),ze.join("")}},48764:function(rt,b,T){"use strict";var k;var Te=T(79742),Ue=T(80645),xe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;b.lW=F,k=je,b.h2=50;var V=2147483647;k=V,F.TYPED_ARRAY_SUPPORT=ce(),!F.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ce(){try{var H=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(H,w),H.foo()===42}catch{return!1}}Object.defineProperty(F.prototype,"parent",{enumerable:!0,get:function(){if(F.isBuffer(this))return this.buffer}}),Object.defineProperty(F.prototype,"offset",{enumerable:!0,get:function(){if(F.isBuffer(this))return this.byteOffset}});function Q(H){if(H>V)throw new RangeError('The value "'+H+'" is invalid for option "size"');var w=new Uint8Array(H);return Object.setPrototypeOf(w,F.prototype),w}function F(H,w,S){if(typeof H=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Re(H)}return G(H,w,S)}F.poolSize=8192;function G(H,w,S){if(typeof H=="string")return ee(H,w);if(ArrayBuffer.isView(H))return re(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(yt(H,ArrayBuffer)||H&&yt(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yt(H,SharedArrayBuffer)||H&&yt(H.buffer,SharedArrayBuffer)))return Be(H,w,S);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=H.valueOf&&H.valueOf();if(J!=null&&J!==H)return F.from(J,w,S);var Ee=ze(H);if(Ee)return Ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return F.from(H[Symbol.toPrimitive]("string"),w,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}F.from=function(H,w,S){return G(H,w,S)},Object.setPrototypeOf(F.prototype,Uint8Array.prototype),Object.setPrototypeOf(F,Uint8Array);function Y(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function Ie(H,w,S){return Y(H),H<=0?Q(H):w!==void 0?typeof S=="string"?Q(H).fill(w,S):Q(H).fill(w):Q(H)}F.alloc=function(H,w,S){return Ie(H,w,S)};function Re(H){return Y(H),Q(H<0?0:ke(H)|0)}F.allocUnsafe=function(H){return Re(H)},F.allocUnsafeSlow=function(H){return Re(H)};function ee(H,w){if((typeof w!="string"||w==="")&&(w="utf8"),!F.isEncoding(w))throw new TypeError("Unknown encoding: "+w);var S=ve(H,w)|0,J=Q(S),Ee=J.write(H,w);return Ee!==S&&(J=J.slice(0,Ee)),J}function _e(H){for(var w=H.length<0?0:ke(H.length)|0,S=Q(w),J=0;J<w;J+=1)S[J]=H[J]&255;return S}function re(H){if(yt(H,Uint8Array)){var w=new Uint8Array(H);return Be(w.buffer,w.byteOffset,w.byteLength)}return _e(H)}function Be(H,w,S){if(w<0||H.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<w+(S||0))throw new RangeError('"length" is outside of buffer bounds');var J;return w===void 0&&S===void 0?J=new Uint8Array(H):S===void 0?J=new Uint8Array(H,w):J=new Uint8Array(H,w,S),Object.setPrototypeOf(J,F.prototype),J}function ze(H){if(F.isBuffer(H)){var w=ke(H.length)|0,S=Q(w);return S.length===0||H.copy(S,0,0,w),S}if(H.length!==void 0)return typeof H.length!="number"||Nt(H.length)?Q(0):_e(H);if(H.type==="Buffer"&&Array.isArray(H.data))return _e(H.data)}function ke(H){if(H>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return H|0}function je(H){return+H!=H&&(H=0),F.alloc(+H)}F.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==F.prototype},F.compare=function(w,S){if(yt(w,Uint8Array)&&(w=F.from(w,w.offset,w.byteLength)),yt(S,Uint8Array)&&(S=F.from(S,S.offset,S.byteLength)),!F.isBuffer(w)||!F.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===S)return 0;for(var J=w.length,Ee=S.length,Ve=0,qe=Math.min(J,Ee);Ve<qe;++Ve)if(w[Ve]!==S[Ve]){J=w[Ve],Ee=S[Ve];break}return J<Ee?-1:Ee<J?1:0},F.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},F.concat=function(w,S){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return F.alloc(0);var J;if(S===void 0)for(S=0,J=0;J<w.length;++J)S+=w[J].length;var Ee=F.allocUnsafe(S),Ve=0;for(J=0;J<w.length;++J){var qe=w[J];if(yt(qe,Uint8Array))Ve+qe.length>Ee.length?F.from(qe).copy(Ee,Ve):Uint8Array.prototype.set.call(Ee,qe,Ve);else if(F.isBuffer(qe))qe.copy(Ee,Ve);else throw new TypeError('"list" argument must be an Array of Buffers');Ve+=qe.length}return Ee};function ve(H,w){if(F.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||yt(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var S=H.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&S===0)return 0;for(var Ee=!1;;)switch(w){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return Me(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S*2;case"hex":return S>>>1;case"base64":return ae(H).length;default:if(Ee)return J?-1:Me(H).length;w=(""+w).toLowerCase(),Ee=!0}}F.byteLength=ve;function se(H,w,S){var J=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0,w>>>=0,S<=w))return"";for(H||(H="utf8");;)switch(H){case"hex":return Z(this,w,S);case"utf8":case"utf-8":return C(this,w,S);case"ascii":return $(this,w,S);case"latin1":case"binary":return Se(this,w,S);case"base64":return A(this,w,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,w,S);default:if(J)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),J=!0}}F.prototype._isBuffer=!0;function De(H,w,S){var J=H[w];H[w]=H[S],H[S]=J}F.prototype.swap16=function(){var w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var S=0;S<w;S+=2)De(this,S,S+1);return this},F.prototype.swap32=function(){var w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var S=0;S<w;S+=4)De(this,S,S+3),De(this,S+1,S+2);return this},F.prototype.swap64=function(){var w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var S=0;S<w;S+=8)De(this,S,S+7),De(this,S+1,S+6),De(this,S+2,S+5),De(this,S+3,S+4);return this},F.prototype.toString=function(){var w=this.length;return w===0?"":arguments.length===0?C(this,0,w):se.apply(this,arguments)},F.prototype.toLocaleString=F.prototype.toString,F.prototype.equals=function(w){if(!F.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:F.compare(this,w)===0},F.prototype.inspect=function(){var w="",S=b.h2;return w=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(w+=" ... "),"<Buffer "+w+">"},xe&&(F.prototype[xe]=F.prototype.inspect),F.prototype.compare=function(w,S,J,Ee,Ve){if(yt(w,Uint8Array)&&(w=F.from(w,w.offset,w.byteLength)),!F.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(S===void 0&&(S=0),J===void 0&&(J=w?w.length:0),Ee===void 0&&(Ee=0),Ve===void 0&&(Ve=this.length),S<0||J>w.length||Ee<0||Ve>this.length)throw new RangeError("out of range index");if(Ee>=Ve&&S>=J)return 0;if(Ee>=Ve)return-1;if(S>=J)return 1;if(S>>>=0,J>>>=0,Ee>>>=0,Ve>>>=0,this===w)return 0;for(var qe=Ve-Ee,ft=J-S,ht=Math.min(qe,ft),lt=this.slice(Ee,Ve),vt=w.slice(S,J),gt=0;gt<ht;++gt)if(lt[gt]!==vt[gt]){qe=lt[gt],ft=vt[gt];break}return qe<ft?-1:ft<qe?1:0};function _(H,w,S,J,Ee){if(H.length===0)return-1;if(typeof S=="string"?(J=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,Nt(S)&&(S=Ee?0:H.length-1),S<0&&(S=H.length+S),S>=H.length){if(Ee)return-1;S=H.length-1}else if(S<0)if(Ee)S=0;else return-1;if(typeof w=="string"&&(w=F.from(w,J)),F.isBuffer(w))return w.length===0?-1:d(H,w,S,J,Ee);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?Ee?Uint8Array.prototype.indexOf.call(H,w,S):Uint8Array.prototype.lastIndexOf.call(H,w,S):d(H,[w],S,J,Ee);throw new TypeError("val must be string, number or Buffer")}function d(H,w,S,J,Ee){var Ve=1,qe=H.length,ft=w.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(H.length<2||w.length<2)return-1;Ve=2,qe/=2,ft/=2,S/=2}function ht(Ft,jt){return Ve===1?Ft[jt]:Ft.readUInt16BE(jt*Ve)}var lt;if(Ee){var vt=-1;for(lt=S;lt<qe;lt++)if(ht(H,lt)===ht(w,vt===-1?0:lt-vt)){if(vt===-1&&(vt=lt),lt-vt+1===ft)return vt*Ve}else vt!==-1&&(lt-=lt-vt),vt=-1}else for(S+ft>qe&&(S=qe-ft),lt=S;lt>=0;lt--){for(var gt=!0,bt=0;bt<ft;bt++)if(ht(H,lt+bt)!==ht(w,bt)){gt=!1;break}if(gt)return lt}return-1}F.prototype.includes=function(w,S,J){return this.indexOf(w,S,J)!==-1},F.prototype.indexOf=function(w,S,J){return _(this,w,S,J,!0)},F.prototype.lastIndexOf=function(w,S,J){return _(this,w,S,J,!1)};function x(H,w,S,J){S=Number(S)||0;var Ee=H.length-S;J?(J=Number(J),J>Ee&&(J=Ee)):J=Ee;var Ve=w.length;J>Ve/2&&(J=Ve/2);for(var qe=0;qe<J;++qe){var ft=parseInt(w.substr(qe*2,2),16);if(Nt(ft))return qe;H[S+qe]=ft}return qe}function U(H,w,S,J){return nt(Me(w,H.length-S),H,S,J)}function g(H,w,S,J){return nt(Ae(w),H,S,J)}function R(H,w,S,J){return nt(ae(w),H,S,J)}function I(H,w,S,J){return nt(m(w,H.length-S),H,S,J)}F.prototype.write=function(w,S,J,Ee){if(S===void 0)Ee="utf8",J=this.length,S=0;else if(J===void 0&&typeof S=="string")Ee=S,J=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(J)?(J=J>>>0,Ee===void 0&&(Ee="utf8")):(Ee=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ve=this.length-S;if((J===void 0||J>Ve)&&(J=Ve),w.length>0&&(J<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");for(var qe=!1;;)switch(Ee){case"hex":return x(this,w,S,J);case"utf8":case"utf-8":return U(this,w,S,J);case"ascii":case"latin1":case"binary":return g(this,w,S,J);case"base64":return R(this,w,S,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,w,S,J);default:if(qe)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),qe=!0}},F.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(H,w,S){return w===0&&S===H.length?Te.fromByteArray(H):Te.fromByteArray(H.slice(w,S))}function C(H,w,S){S=Math.min(H.length,S);for(var J=[],Ee=w;Ee<S;){var Ve=H[Ee],qe=null,ft=Ve>239?4:Ve>223?3:Ve>191?2:1;if(Ee+ft<=S){var ht,lt,vt,gt;switch(ft){case 1:Ve<128&&(qe=Ve);break;case 2:ht=H[Ee+1],(ht&192)===128&&(gt=(Ve&31)<<6|ht&63,gt>127&&(qe=gt));break;case 3:ht=H[Ee+1],lt=H[Ee+2],(ht&192)===128&&(lt&192)===128&&(gt=(Ve&15)<<12|(ht&63)<<6|lt&63,gt>2047&&(gt<55296||gt>57343)&&(qe=gt));break;case 4:ht=H[Ee+1],lt=H[Ee+2],vt=H[Ee+3],(ht&192)===128&&(lt&192)===128&&(vt&192)===128&&(gt=(Ve&15)<<18|(ht&63)<<12|(lt&63)<<6|vt&63,gt>65535&&gt<1114112&&(qe=gt))}}qe===null?(qe=65533,ft=1):qe>65535&&(qe-=65536,J.push(qe>>>10&1023|55296),qe=56320|qe&1023),J.push(qe),Ee+=ft}return P(J)}var O=4096;function P(H){var w=H.length;if(w<=O)return String.fromCharCode.apply(String,H);for(var S="",J=0;J<w;)S+=String.fromCharCode.apply(String,H.slice(J,J+=O));return S}function $(H,w,S){var J="";S=Math.min(H.length,S);for(var Ee=w;Ee<S;++Ee)J+=String.fromCharCode(H[Ee]&127);return J}function Se(H,w,S){var J="";S=Math.min(H.length,S);for(var Ee=w;Ee<S;++Ee)J+=String.fromCharCode(H[Ee]);return J}function Z(H,w,S){var J=H.length;(!w||w<0)&&(w=0),(!S||S<0||S>J)&&(S=J);for(var Ee="",Ve=w;Ve<S;++Ve)Ee+=zt[H[Ve]];return Ee}function be(H,w,S){for(var J=H.slice(w,S),Ee="",Ve=0;Ve<J.length-1;Ve+=2)Ee+=String.fromCharCode(J[Ve]+J[Ve+1]*256);return Ee}F.prototype.slice=function(w,S){var J=this.length;w=~~w,S=S===void 0?J:~~S,w<0?(w+=J,w<0&&(w=0)):w>J&&(w=J),S<0?(S+=J,S<0&&(S=0)):S>J&&(S=J),S<w&&(S=w);var Ee=this.subarray(w,S);return Object.setPrototypeOf(Ee,F.prototype),Ee};function Je(H,w,S){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+w>S)throw new RangeError("Trying to access beyond buffer length")}F.prototype.readUintLE=F.prototype.readUIntLE=function(w,S,J){w=w>>>0,S=S>>>0,J||Je(w,S,this.length);for(var Ee=this[w],Ve=1,qe=0;++qe<S&&(Ve*=256);)Ee+=this[w+qe]*Ve;return Ee},F.prototype.readUintBE=F.prototype.readUIntBE=function(w,S,J){w=w>>>0,S=S>>>0,J||Je(w,S,this.length);for(var Ee=this[w+--S],Ve=1;S>0&&(Ve*=256);)Ee+=this[w+--S]*Ve;return Ee},F.prototype.readUint8=F.prototype.readUInt8=function(w,S){return w=w>>>0,S||Je(w,1,this.length),this[w]},F.prototype.readUint16LE=F.prototype.readUInt16LE=function(w,S){return w=w>>>0,S||Je(w,2,this.length),this[w]|this[w+1]<<8},F.prototype.readUint16BE=F.prototype.readUInt16BE=function(w,S){return w=w>>>0,S||Je(w,2,this.length),this[w]<<8|this[w+1]},F.prototype.readUint32LE=F.prototype.readUInt32LE=function(w,S){return w=w>>>0,S||Je(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},F.prototype.readUint32BE=F.prototype.readUInt32BE=function(w,S){return w=w>>>0,S||Je(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},F.prototype.readIntLE=function(w,S,J){w=w>>>0,S=S>>>0,J||Je(w,S,this.length);for(var Ee=this[w],Ve=1,qe=0;++qe<S&&(Ve*=256);)Ee+=this[w+qe]*Ve;return Ve*=128,Ee>=Ve&&(Ee-=Math.pow(2,8*S)),Ee},F.prototype.readIntBE=function(w,S,J){w=w>>>0,S=S>>>0,J||Je(w,S,this.length);for(var Ee=S,Ve=1,qe=this[w+--Ee];Ee>0&&(Ve*=256);)qe+=this[w+--Ee]*Ve;return Ve*=128,qe>=Ve&&(qe-=Math.pow(2,8*S)),qe},F.prototype.readInt8=function(w,S){return w=w>>>0,S||Je(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},F.prototype.readInt16LE=function(w,S){w=w>>>0,S||Je(w,2,this.length);var J=this[w]|this[w+1]<<8;return J&32768?J|4294901760:J},F.prototype.readInt16BE=function(w,S){w=w>>>0,S||Je(w,2,this.length);var J=this[w+1]|this[w]<<8;return J&32768?J|4294901760:J},F.prototype.readInt32LE=function(w,S){return w=w>>>0,S||Je(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},F.prototype.readInt32BE=function(w,S){return w=w>>>0,S||Je(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},F.prototype.readFloatLE=function(w,S){return w=w>>>0,S||Je(w,4,this.length),Ue.read(this,w,!0,23,4)},F.prototype.readFloatBE=function(w,S){return w=w>>>0,S||Je(w,4,this.length),Ue.read(this,w,!1,23,4)},F.prototype.readDoubleLE=function(w,S){return w=w>>>0,S||Je(w,8,this.length),Ue.read(this,w,!0,52,8)},F.prototype.readDoubleBE=function(w,S){return w=w>>>0,S||Je(w,8,this.length),Ue.read(this,w,!1,52,8)};function Pe(H,w,S,J,Ee,Ve){if(!F.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>Ee||w<Ve)throw new RangeError('"value" argument is out of bounds');if(S+J>H.length)throw new RangeError("Index out of range")}F.prototype.writeUintLE=F.prototype.writeUIntLE=function(w,S,J,Ee){if(w=+w,S=S>>>0,J=J>>>0,!Ee){var Ve=Math.pow(2,8*J)-1;Pe(this,w,S,J,Ve,0)}var qe=1,ft=0;for(this[S]=w&255;++ft<J&&(qe*=256);)this[S+ft]=w/qe&255;return S+J},F.prototype.writeUintBE=F.prototype.writeUIntBE=function(w,S,J,Ee){if(w=+w,S=S>>>0,J=J>>>0,!Ee){var Ve=Math.pow(2,8*J)-1;Pe(this,w,S,J,Ve,0)}var qe=J-1,ft=1;for(this[S+qe]=w&255;--qe>=0&&(ft*=256);)this[S+qe]=w/ft&255;return S+J},F.prototype.writeUint8=F.prototype.writeUInt8=function(w,S,J){return w=+w,S=S>>>0,J||Pe(this,w,S,1,255,0),this[S]=w&255,S+1},F.prototype.writeUint16LE=F.prototype.writeUInt16LE=function(w,S,J){return w=+w,S=S>>>0,J||Pe(this,w,S,2,65535,0),this[S]=w&255,this[S+1]=w>>>8,S+2},F.prototype.writeUint16BE=F.prototype.writeUInt16BE=function(w,S,J){return w=+w,S=S>>>0,J||Pe(this,w,S,2,65535,0),this[S]=w>>>8,this[S+1]=w&255,S+2},F.prototype.writeUint32LE=F.prototype.writeUInt32LE=function(w,S,J){return w=+w,S=S>>>0,J||Pe(this,w,S,4,4294967295,0),this[S+3]=w>>>24,this[S+2]=w>>>16,this[S+1]=w>>>8,this[S]=w&255,S+4},F.prototype.writeUint32BE=F.prototype.writeUInt32BE=function(w,S,J){return w=+w,S=S>>>0,J||Pe(this,w,S,4,4294967295,0),this[S]=w>>>24,this[S+1]=w>>>16,this[S+2]=w>>>8,this[S+3]=w&255,S+4},F.prototype.writeIntLE=function(w,S,J,Ee){if(w=+w,S=S>>>0,!Ee){var Ve=Math.pow(2,8*J-1);Pe(this,w,S,J,Ve-1,-Ve)}var qe=0,ft=1,ht=0;for(this[S]=w&255;++qe<J&&(ft*=256);)w<0&&ht===0&&this[S+qe-1]!==0&&(ht=1),this[S+qe]=(w/ft>>0)-ht&255;return S+J},F.prototype.writeIntBE=function(w,S,J,Ee){if(w=+w,S=S>>>0,!Ee){var Ve=Math.pow(2,8*J-1);Pe(this,w,S,J,Ve-1,-Ve)}var qe=J-1,ft=1,ht=0;for(this[S+qe]=w&255;--qe>=0&&(ft*=256);)w<0&&ht===0&&this[S+qe+1]!==0&&(ht=1),this[S+qe]=(w/ft>>0)-ht&255;return S+J},F.prototype.writeInt8=function(w,S,J){return w=+w,S=S>>>0,J||Pe(this,w,S,1,127,-128),w<0&&(w=255+w+1),this[S]=w&255,S+1},F.prototype.writeInt16LE=function(w,S,J){return w=+w,S=S>>>0,J||Pe(this,w,S,2,32767,-32768),this[S]=w&255,this[S+1]=w>>>8,S+2},F.prototype.writeInt16BE=function(w,S,J){return w=+w,S=S>>>0,J||Pe(this,w,S,2,32767,-32768),this[S]=w>>>8,this[S+1]=w&255,S+2},F.prototype.writeInt32LE=function(w,S,J){return w=+w,S=S>>>0,J||Pe(this,w,S,4,2147483647,-2147483648),this[S]=w&255,this[S+1]=w>>>8,this[S+2]=w>>>16,this[S+3]=w>>>24,S+4},F.prototype.writeInt32BE=function(w,S,J){return w=+w,S=S>>>0,J||Pe(this,w,S,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[S]=w>>>24,this[S+1]=w>>>16,this[S+2]=w>>>8,this[S+3]=w&255,S+4};function We(H,w,S,J,Ee,Ve){if(S+J>H.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function Ze(H,w,S,J,Ee){return w=+w,S=S>>>0,Ee||We(H,w,S,4,34028234663852886e22,-34028234663852886e22),Ue.write(H,w,S,J,23,4),S+4}F.prototype.writeFloatLE=function(w,S,J){return Ze(this,w,S,!0,J)},F.prototype.writeFloatBE=function(w,S,J){return Ze(this,w,S,!1,J)};function it(H,w,S,J,Ee){return w=+w,S=S>>>0,Ee||We(H,w,S,8,17976931348623157e292,-17976931348623157e292),Ue.write(H,w,S,J,52,8),S+8}F.prototype.writeDoubleLE=function(w,S,J){return it(this,w,S,!0,J)},F.prototype.writeDoubleBE=function(w,S,J){return it(this,w,S,!1,J)},F.prototype.copy=function(w,S,J,Ee){if(!F.isBuffer(w))throw new TypeError("argument should be a Buffer");if(J||(J=0),!Ee&&Ee!==0&&(Ee=this.length),S>=w.length&&(S=w.length),S||(S=0),Ee>0&&Ee<J&&(Ee=J),Ee===J||w.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),w.length-S<Ee-J&&(Ee=w.length-S+J);var Ve=Ee-J;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(S,J,Ee):Uint8Array.prototype.set.call(w,this.subarray(J,Ee),S),Ve},F.prototype.fill=function(w,S,J,Ee){if(typeof w=="string"){if(typeof S=="string"?(Ee=S,S=0,J=this.length):typeof J=="string"&&(Ee=J,J=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!F.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(w.length===1){var Ve=w.charCodeAt(0);(Ee==="utf8"&&Ve<128||Ee==="latin1")&&(w=Ve)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(S<0||this.length<S||this.length<J)throw new RangeError("Out of range index");if(J<=S)return this;S=S>>>0,J=J===void 0?this.length:J>>>0,w||(w=0);var qe;if(typeof w=="number")for(qe=S;qe<J;++qe)this[qe]=w;else{var ft=F.isBuffer(w)?w:F.from(w,Ee),ht=ft.length;if(ht===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(qe=0;qe<J-S;++qe)this[qe+S]=ft[qe%ht]}return this};var ot=/[^+/0-9A-Za-z-_]/g;function Le(H){if(H=H.split("=")[0],H=H.trim().replace(ot,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function Me(H,w){w=w||1/0;for(var S,J=H.length,Ee=null,Ve=[],qe=0;qe<J;++qe){if(S=H.charCodeAt(qe),S>55295&&S<57344){if(!Ee){if(S>56319){(w-=3)>-1&&Ve.push(239,191,189);continue}else if(qe+1===J){(w-=3)>-1&&Ve.push(239,191,189);continue}Ee=S;continue}if(S<56320){(w-=3)>-1&&Ve.push(239,191,189),Ee=S;continue}S=(Ee-55296<<10|S-56320)+65536}else Ee&&(w-=3)>-1&&Ve.push(239,191,189);if(Ee=null,S<128){if((w-=1)<0)break;Ve.push(S)}else if(S<2048){if((w-=2)<0)break;Ve.push(S>>6|192,S&63|128)}else if(S<65536){if((w-=3)<0)break;Ve.push(S>>12|224,S>>6&63|128,S&63|128)}else if(S<1114112){if((w-=4)<0)break;Ve.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw new Error("Invalid code point")}return Ve}function Ae(H){for(var w=[],S=0;S<H.length;++S)w.push(H.charCodeAt(S)&255);return w}function m(H,w){for(var S,J,Ee,Ve=[],qe=0;qe<H.length&&!((w-=2)<0);++qe)S=H.charCodeAt(qe),J=S>>8,Ee=S%256,Ve.push(Ee),Ve.push(J);return Ve}function ae(H){return Te.toByteArray(Le(H))}function nt(H,w,S,J){for(var Ee=0;Ee<J&&!(Ee+S>=w.length||Ee>=H.length);++Ee)w[Ee+S]=H[Ee];return Ee}function yt(H,w){return H instanceof w||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===w.name}function Nt(H){return H!==H}var zt=function(){for(var H="0123456789abcdef",w=new Array(256),S=0;S<16;++S)for(var J=S*16,Ee=0;Ee<16;++Ee)w[J+Ee]=H[S]+H[Ee];return w}()},44020:function(rt){"use strict";var b="%[a-f0-9]{2}",T=new RegExp("("+b+")|([^%]+?)","gi"),k=new RegExp("("+b+")+","gi");function Te(V,ce){try{return[decodeURIComponent(V.join(""))]}catch{}if(V.length===1)return V;ce=ce||1;var Q=V.slice(0,ce),F=V.slice(ce);return Array.prototype.concat.call([],Te(Q),Te(F))}function Ue(V){try{return decodeURIComponent(V)}catch{for(var ce=V.match(T)||[],Q=1;Q<ce.length;Q++)V=Te(ce,Q).join(""),ce=V.match(T)||[];return V}}function xe(V){for(var ce={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},Q=k.exec(V);Q;){try{ce[Q[0]]=decodeURIComponent(Q[0])}catch{var F=Ue(Q[0]);F!==Q[0]&&(ce[Q[0]]=F)}Q=k.exec(V)}ce["%C2"]="\uFFFD";for(var G=Object.keys(ce),Y=0;Y<G.length;Y++){var Ie=G[Y];V=V.replace(new RegExp(Ie,"g"),ce[Ie])}return V}rt.exports=function(V){if(typeof V!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof V+"`");try{return V=V.replace(/\+/g," "),decodeURIComponent(V)}catch{return xe(V)}}},17187:function(rt){"use strict";var b=typeof Reflect=="object"?Reflect:null,T=b&&typeof b.apply=="function"?b.apply:function(ve,se,De){return Function.prototype.apply.call(ve,se,De)},k;b&&typeof b.ownKeys=="function"?k=b.ownKeys:Object.getOwnPropertySymbols?k=function(ve){return Object.getOwnPropertyNames(ve).concat(Object.getOwnPropertySymbols(ve))}:k=function(ve){return Object.getOwnPropertyNames(ve)};function Te(je){console&&console.warn&&console.warn(je)}var Ue=Number.isNaN||function(ve){return ve!==ve};function xe(){xe.init.call(this)}rt.exports=xe,rt.exports.once=Be,xe.EventEmitter=xe,xe.prototype._events=void 0,xe.prototype._eventsCount=0,xe.prototype._maxListeners=void 0;var V=10;function ce(je){if(typeof je!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof je)}Object.defineProperty(xe,"defaultMaxListeners",{enumerable:!0,get:function(){return V},set:function(je){if(typeof je!="number"||je<0||Ue(je))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+je+".");V=je}}),xe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},xe.prototype.setMaxListeners=function(ve){if(typeof ve!="number"||ve<0||Ue(ve))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ve+".");return this._maxListeners=ve,this};function Q(je){return je._maxListeners===void 0?xe.defaultMaxListeners:je._maxListeners}xe.prototype.getMaxListeners=function(){return Q(this)},xe.prototype.emit=function(ve){for(var se=[],De=1;De<arguments.length;De++)se.push(arguments[De]);var _=ve==="error",d=this._events;if(d!==void 0)_=_&&d.error===void 0;else if(!_)return!1;if(_){var x;if(se.length>0&&(x=se[0]),x instanceof Error)throw x;var U=new Error("Unhandled error."+(x?" ("+x.message+")":""));throw U.context=x,U}var g=d[ve];if(g===void 0)return!1;if(typeof g=="function")T(g,this,se);else for(var R=g.length,I=ee(g,R),De=0;De<R;++De)T(I[De],this,se);return!0};function F(je,ve,se,De){var _,d,x;if(ce(se),d=je._events,d===void 0?(d=je._events=Object.create(null),je._eventsCount=0):(d.newListener!==void 0&&(je.emit("newListener",ve,se.listener?se.listener:se),d=je._events),x=d[ve]),x===void 0)x=d[ve]=se,++je._eventsCount;else if(typeof x=="function"?x=d[ve]=De?[se,x]:[x,se]:De?x.unshift(se):x.push(se),_=Q(je),_>0&&x.length>_&&!x.warned){x.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+x.length+" "+String(ve)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=je,U.type=ve,U.count=x.length,Te(U)}return je}xe.prototype.addListener=function(ve,se){return F(this,ve,se,!1)},xe.prototype.on=xe.prototype.addListener,xe.prototype.prependListener=function(ve,se){return F(this,ve,se,!0)};function G(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Y(je,ve,se){var De={fired:!1,wrapFn:void 0,target:je,type:ve,listener:se},_=G.bind(De);return _.listener=se,De.wrapFn=_,_}xe.prototype.once=function(ve,se){return ce(se),this.on(ve,Y(this,ve,se)),this},xe.prototype.prependOnceListener=function(ve,se){return ce(se),this.prependListener(ve,Y(this,ve,se)),this},xe.prototype.removeListener=function(ve,se){var De,_,d,x,U;if(ce(se),_=this._events,_===void 0)return this;if(De=_[ve],De===void 0)return this;if(De===se||De.listener===se)--this._eventsCount===0?this._events=Object.create(null):(delete _[ve],_.removeListener&&this.emit("removeListener",ve,De.listener||se));else if(typeof De!="function"){for(d=-1,x=De.length-1;x>=0;x--)if(De[x]===se||De[x].listener===se){U=De[x].listener,d=x;break}if(d<0)return this;d===0?De.shift():_e(De,d),De.length===1&&(_[ve]=De[0]),_.removeListener!==void 0&&this.emit("removeListener",ve,U||se)}return this},xe.prototype.off=xe.prototype.removeListener,xe.prototype.removeAllListeners=function(ve){var se,De,_;if(De=this._events,De===void 0)return this;if(De.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):De[ve]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete De[ve]),this;if(arguments.length===0){var d=Object.keys(De),x;for(_=0;_<d.length;++_)x=d[_],x!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(se=De[ve],typeof se=="function")this.removeListener(ve,se);else if(se!==void 0)for(_=se.length-1;_>=0;_--)this.removeListener(ve,se[_]);return this};function Ie(je,ve,se){var De=je._events;if(De===void 0)return[];var _=De[ve];return _===void 0?[]:typeof _=="function"?se?[_.listener||_]:[_]:se?re(_):ee(_,_.length)}xe.prototype.listeners=function(ve){return Ie(this,ve,!0)},xe.prototype.rawListeners=function(ve){return Ie(this,ve,!1)},xe.listenerCount=function(je,ve){return typeof je.listenerCount=="function"?je.listenerCount(ve):Re.call(je,ve)},xe.prototype.listenerCount=Re;function Re(je){var ve=this._events;if(ve!==void 0){var se=ve[je];if(typeof se=="function")return 1;if(se!==void 0)return se.length}return 0}xe.prototype.eventNames=function(){return this._eventsCount>0?k(this._events):[]};function ee(je,ve){for(var se=new Array(ve),De=0;De<ve;++De)se[De]=je[De];return se}function _e(je,ve){for(;ve+1<je.length;ve++)je[ve]=je[ve+1];je.pop()}function re(je){for(var ve=new Array(je.length),se=0;se<ve.length;++se)ve[se]=je[se].listener||je[se];return ve}function Be(je,ve){return new Promise(function(se,De){function _(x){je.removeListener(ve,d),De(x)}function d(){typeof je.removeListener=="function"&&je.removeListener("error",_),se([].slice.call(arguments))}ke(je,ve,d,{once:!0}),ve!=="error"&&ze(je,_,{once:!0})})}function ze(je,ve,se){typeof je.on=="function"&&ke(je,"error",ve,se)}function ke(je,ve,se,De){if(typeof je.on=="function")De.once?je.once(ve,se):je.on(ve,se);else if(typeof je.addEventListener=="function")je.addEventListener(ve,function _(d){De.once&&je.removeEventListener(ve,_),se(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof je)}},92806:function(rt){"use strict";rt.exports=function(b,T){for(var k={},Te=Object.keys(b),Ue=Array.isArray(T),xe=0;xe<Te.length;xe++){var V=Te[xe],ce=b[V];(Ue?T.indexOf(V)!==-1:T(V,ce,b))&&(k[V]=ce)}return k}},80645:function(rt,b){b.read=function(T,k,Te,Ue,xe){var V,ce,Q=xe*8-Ue-1,F=(1<<Q)-1,G=F>>1,Y=-7,Ie=Te?xe-1:0,Re=Te?-1:1,ee=T[k+Ie];for(Ie+=Re,V=ee&(1<<-Y)-1,ee>>=-Y,Y+=Q;Y>0;V=V*256+T[k+Ie],Ie+=Re,Y-=8);for(ce=V&(1<<-Y)-1,V>>=-Y,Y+=Ue;Y>0;ce=ce*256+T[k+Ie],Ie+=Re,Y-=8);if(V===0)V=1-G;else{if(V===F)return ce?NaN:(ee?-1:1)*(1/0);ce=ce+Math.pow(2,Ue),V=V-G}return(ee?-1:1)*ce*Math.pow(2,V-Ue)},b.write=function(T,k,Te,Ue,xe,V){var ce,Q,F,G=V*8-xe-1,Y=(1<<G)-1,Ie=Y>>1,Re=xe===23?Math.pow(2,-24)-Math.pow(2,-77):0,ee=Ue?0:V-1,_e=Ue?1:-1,re=k<0||k===0&&1/k<0?1:0;for(k=Math.abs(k),isNaN(k)||k===1/0?(Q=isNaN(k)?1:0,ce=Y):(ce=Math.floor(Math.log(k)/Math.LN2),k*(F=Math.pow(2,-ce))<1&&(ce--,F*=2),ce+Ie>=1?k+=Re/F:k+=Re*Math.pow(2,1-Ie),k*F>=2&&(ce++,F/=2),ce+Ie>=Y?(Q=0,ce=Y):ce+Ie>=1?(Q=(k*F-1)*Math.pow(2,xe),ce=ce+Ie):(Q=k*Math.pow(2,Ie-1)*Math.pow(2,xe),ce=0));xe>=8;T[Te+ee]=Q&255,ee+=_e,Q/=256,xe-=8);for(ce=ce<<xe|Q,G+=xe;G>0;T[Te+ee]=ce&255,ee+=_e,ce/=256,G-=8);T[Te+ee-_e]|=re*128}},72307:function(rt,b,T){rt=T.nmd(rt);var k=200,Te="__lodash_hash_undefined__",Ue=1,xe=2,V=9007199254740991,ce="[object Arguments]",Q="[object Array]",F="[object AsyncFunction]",G="[object Boolean]",Y="[object Date]",Ie="[object Error]",Re="[object Function]",ee="[object GeneratorFunction]",_e="[object Map]",re="[object Number]",Be="[object Null]",ze="[object Object]",ke="[object Promise]",je="[object Proxy]",ve="[object RegExp]",se="[object Set]",De="[object String]",_="[object Symbol]",d="[object Undefined]",x="[object WeakMap]",U="[object ArrayBuffer]",g="[object DataView]",R="[object Float32Array]",I="[object Float64Array]",A="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",$="[object Uint8ClampedArray]",Se="[object Uint16Array]",Z="[object Uint32Array]",be=/[\\^$.*+?()[\]{}|]/g,Je=/^\[object .+?Constructor\]$/,Pe=/^(?:0|[1-9]\d*)$/,We={};We[R]=We[I]=We[A]=We[C]=We[O]=We[P]=We[$]=We[Se]=We[Z]=!0,We[ce]=We[Q]=We[U]=We[G]=We[g]=We[Y]=We[Ie]=We[Re]=We[_e]=We[re]=We[ze]=We[ve]=We[se]=We[De]=We[x]=!1;var Ze=typeof T.g=="object"&&T.g&&T.g.Object===Object&&T.g,it=typeof self=="object"&&self&&self.Object===Object&&self,ot=Ze||it||Function("return this")(),Le=b&&!b.nodeType&&b,Me=Le&&!0&&rt&&!rt.nodeType&&rt,Ae=Me&&Me.exports===Le,m=Ae&&Ze.process,ae=function(){try{return m&&m.binding&&m.binding("util")}catch{}}(),nt=ae&&ae.isTypedArray;function yt(q,Oe){for(var Xe=-1,dt=q==null?0:q.length,Xt=0,At=[];++Xe<dt;){var ur=q[Xe];Oe(ur,Xe,q)&&(At[Xt++]=ur)}return At}function Nt(q,Oe){for(var Xe=-1,dt=Oe.length,Xt=q.length;++Xe<dt;)q[Xt+Xe]=Oe[Xe];return q}function zt(q,Oe){for(var Xe=-1,dt=q==null?0:q.length;++Xe<dt;)if(Oe(q[Xe],Xe,q))return!0;return!1}function H(q,Oe){for(var Xe=-1,dt=Array(q);++Xe<q;)dt[Xe]=Oe(Xe);return dt}function w(q){return function(Oe){return q(Oe)}}function S(q,Oe){return q.has(Oe)}function J(q,Oe){return q==null?void 0:q[Oe]}function Ee(q){var Oe=-1,Xe=Array(q.size);return q.forEach(function(dt,Xt){Xe[++Oe]=[Xt,dt]}),Xe}function Ve(q,Oe){return function(Xe){return q(Oe(Xe))}}function qe(q){var Oe=-1,Xe=Array(q.size);return q.forEach(function(dt){Xe[++Oe]=dt}),Xe}var ft=Array.prototype,ht=Function.prototype,lt=Object.prototype,vt=ot["__core-js_shared__"],gt=ht.toString,bt=lt.hasOwnProperty,Ft=function(){var q=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||"");return q?"Symbol(src)_1."+q:""}(),jt=lt.toString,Vt=RegExp("^"+gt.call(bt).replace(be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=Ae?ot.Buffer:void 0,Ht=ot.Symbol,kt=ot.Uint8Array,Gt=lt.propertyIsEnumerable,Rn=ft.splice,Lr=Ht?Ht.toStringTag:void 0,kn=Object.getOwnPropertySymbols,di=Wt?Wt.isBuffer:void 0,Ri=Ve(Object.keys,Object),ii=pi(ot,"DataView"),si=pi(ot,"Map"),lr=pi(ot,"Promise"),hr=pi(ot,"Set"),cr=pi(ot,"WeakMap"),ir=pi(Object,"create"),xr=Ui(ii),_r=Ui(si),dr=Ui(lr),Ir=Ui(hr),Sr=Ui(cr),yr=Ht?Ht.prototype:void 0,pr=yr?yr.valueOf:void 0;function er(q){var Oe=-1,Xe=q==null?0:q.length;for(this.clear();++Oe<Xe;){var dt=q[Oe];this.set(dt[0],dt[1])}}function Dr(){this.__data__=ir?ir(null):{},this.size=0}function Or(q){var Oe=this.has(q)&&delete this.__data__[q];return this.size-=Oe?1:0,Oe}function Ar(q){var Oe=this.__data__;if(ir){var Xe=Oe[q];return Xe===Te?void 0:Xe}return bt.call(Oe,q)?Oe[q]:void 0}function Pr(q){var Oe=this.__data__;return ir?Oe[q]!==void 0:bt.call(Oe,q)}function Bc(q,Oe){var Xe=this.__data__;return this.size+=this.has(q)?0:1,Xe[q]=ir&&Oe===void 0?Te:Oe,this}er.prototype.clear=Dr,er.prototype.delete=Or,er.prototype.get=Ar,er.prototype.has=Pr,er.prototype.set=Bc;function qn(q){var Oe=-1,Xe=q==null?0:q.length;for(this.clear();++Oe<Xe;){var dt=q[Oe];this.set(dt[0],dt[1])}}function zc(){this.__data__=[],this.size=0}function Ss(q){var Oe=this.__data__,Xe=As(Oe,q);if(Xe<0)return!1;var dt=Oe.length-1;return Xe==dt?Oe.pop():Rn.call(Oe,Xe,1),--this.size,!0}function ho(q){var Oe=this.__data__,Xe=As(Oe,q);return Xe<0?void 0:Oe[Xe][1]}function Ds(q){return As(this.__data__,q)>-1}function Os(q,Oe){var Xe=this.__data__,dt=As(Xe,q);return dt<0?(++this.size,Xe.push([q,Oe])):Xe[dt][1]=Oe,this}qn.prototype.clear=zc,qn.prototype.delete=Ss,qn.prototype.get=ho,qn.prototype.has=Ds,qn.prototype.set=Os;function Fn(q){var Oe=-1,Xe=q==null?0:q.length;for(this.clear();++Oe<Xe;){var dt=q[Oe];this.set(dt[0],dt[1])}}function Hc(){this.size=0,this.__data__={hash:new er,map:new(si||qn),string:new er}}function Kc(q){var Oe=Ps(this,q).delete(q);return this.size-=Oe?1:0,Oe}function po(q){return Ps(this,q).get(q)}function ia(q){return Ps(this,q).has(q)}function Vc(q,Oe){var Xe=Ps(this,q),dt=Xe.size;return Xe.set(q,Oe),this.size+=Xe.size==dt?0:1,this}Fn.prototype.clear=Hc,Fn.prototype.delete=Kc,Fn.prototype.get=po,Fn.prototype.has=ia,Fn.prototype.set=Vc;function ts(q){var Oe=-1,Xe=q==null?0:q.length;for(this.__data__=new Fn;++Oe<Xe;)this.add(q[Oe])}function Wc(q){return this.__data__.set(q,Te),this}function kc(q){return this.__data__.has(q)}ts.prototype.add=ts.prototype.push=Wc,ts.prototype.has=kc;function Gn(q){var Oe=this.__data__=new qn(q);this.size=Oe.size}function qc(){this.__data__=new qn,this.size=0}function sa(q){var Oe=this.__data__,Xe=Oe.delete(q);return this.size=Oe.size,Xe}function Wl(q){return this.__data__.get(q)}function Gc(q){return this.__data__.has(q)}function Jc(q,Oe){var Xe=this.__data__;if(Xe instanceof qn){var dt=Xe.__data__;if(!si||dt.length<k-1)return dt.push([q,Oe]),this.size=++Xe.size,this;Xe=this.__data__=new Fn(dt)}return Xe.set(q,Oe),this.size=Xe.size,this}Gn.prototype.clear=qc,Gn.prototype.delete=sa,Gn.prototype.get=Wl,Gn.prototype.has=Gc,Gn.prototype.set=Jc;function Yc(q,Oe){var Xe=ji(q),dt=!Xe&&la(q),Xt=!Xe&&!dt&&Ns(q),At=!Xe&&!dt&&!Xt&&au(q),ur=Xe||dt||Xt||At,mr=ur?H(q.length,String):[],Cr=mr.length;for(var sr in q)(Oe||bt.call(q,sr))&&!(ur&&(sr=="length"||Xt&&(sr=="offset"||sr=="parent")||At&&(sr=="buffer"||sr=="byteLength"||sr=="byteOffset")||nu(sr,Cr)))&&mr.push(sr);return mr}function As(q,Oe){for(var Xe=q.length;Xe--;)if(go(q[Xe][0],Oe))return Xe;return-1}function Qc(q,Oe,Xe){var dt=Oe(q);return ji(q)?dt:Nt(dt,Xe(q))}function rs(q){return q==null?q===void 0?d:Be:Lr&&Lr in Object(q)?ua(q):kl(q)}function oa(q){return Ts(q)&&rs(q)==ce}function aa(q,Oe,Xe,dt,Xt){return q===Oe?!0:q==null||Oe==null||!Ts(q)&&!Ts(Oe)?q!==q&&Oe!==Oe:Xc(q,Oe,Xe,dt,aa,Xt)}function Xc(q,Oe,Xe,dt,Xt,At){var ur=ji(q),mr=ji(Oe),Cr=ur?Q:mn(q),sr=mr?Q:mn(Oe);Cr=Cr==ce?ze:Cr,sr=sr==ce?ze:sr;var Vr=Cr==ze,rn=sr==ze,$r=Cr==sr;if($r&&Ns(q)){if(!Ns(Oe))return!1;ur=!0,Vr=!1}if($r&&!Vr)return At||(At=new Gn),ur||au(q)?ca(q,Oe,Xe,dt,Xt,At):tu(q,Oe,Cr,Xe,dt,Xt,At);if(!(Xe&Ue)){var Gr=Vr&&bt.call(q,"__wrapped__"),Jr=rn&&bt.call(Oe,"__wrapped__");if(Gr||Jr){var _i=Gr?q.value():q,oi=Jr?Oe.value():Oe;return At||(At=new Gn),Xt(_i,oi,Xe,dt,At)}}return $r?(At||(At=new Gn),ru(q,Oe,Xe,dt,Xt,At)):!1}function Zc(q){if(!ou(q)||su(q))return!1;var Oe=Rr(q)?Vt:Je;return Oe.test(Ui(q))}function eu(q){return Ts(q)&&Et(q.length)&&!!We[rs(q)]}function Mr(q){if(!fa(q))return Ri(q);var Oe=[];for(var Xe in Object(q))bt.call(q,Xe)&&Xe!="constructor"&&Oe.push(Xe);return Oe}function ca(q,Oe,Xe,dt,Xt,At){var ur=Xe&Ue,mr=q.length,Cr=Oe.length;if(mr!=Cr&&!(ur&&Cr>mr))return!1;var sr=At.get(q);if(sr&&At.get(Oe))return sr==Oe;var Vr=-1,rn=!0,$r=Xe&xe?new ts:void 0;for(At.set(q,Oe),At.set(Oe,q);++Vr<mr;){var Gr=q[Vr],Jr=Oe[Vr];if(dt)var _i=ur?dt(Jr,Gr,Vr,Oe,q,At):dt(Gr,Jr,Vr,q,Oe,At);if(_i!==void 0){if(_i)continue;rn=!1;break}if($r){if(!zt(Oe,function(oi,Li){if(!S($r,Li)&&(Gr===oi||Xt(Gr,oi,Xe,dt,At)))return $r.push(Li)})){rn=!1;break}}else if(!(Gr===Jr||Xt(Gr,Jr,Xe,dt,At))){rn=!1;break}}return At.delete(q),At.delete(Oe),rn}function tu(q,Oe,Xe,dt,Xt,At,ur){switch(Xe){case g:if(q.byteLength!=Oe.byteLength||q.byteOffset!=Oe.byteOffset)return!1;q=q.buffer,Oe=Oe.buffer;case U:return!(q.byteLength!=Oe.byteLength||!At(new kt(q),new kt(Oe)));case G:case Y:case re:return go(+q,+Oe);case Ie:return q.name==Oe.name&&q.message==Oe.message;case ve:case De:return q==Oe+"";case _e:var mr=Ee;case se:var Cr=dt&Ue;if(mr||(mr=qe),q.size!=Oe.size&&!Cr)return!1;var sr=ur.get(q);if(sr)return sr==Oe;dt|=xe,ur.set(q,Oe);var Vr=ca(mr(q),mr(Oe),dt,Xt,At,ur);return ur.delete(q),Vr;case _:if(pr)return pr.call(q)==pr.call(Oe)}return!1}function ru(q,Oe,Xe,dt,Xt,At){var ur=Xe&Ue,mr=Fi(q),Cr=mr.length,sr=Fi(Oe),Vr=sr.length;if(Cr!=Vr&&!ur)return!1;for(var rn=Cr;rn--;){var $r=mr[rn];if(!(ur?$r in Oe:bt.call(Oe,$r)))return!1}var Gr=At.get(q);if(Gr&&At.get(Oe))return Gr==Oe;var Jr=!0;At.set(q,Oe),At.set(Oe,q);for(var _i=ur;++rn<Cr;){$r=mr[rn];var oi=q[$r],Li=Oe[$r];if(dt)var fu=ur?dt(Li,oi,$r,Oe,q,At):dt(oi,Li,$r,q,Oe,At);if(!(fu===void 0?oi===Li||Xt(oi,Li,Xe,dt,At):fu)){Jr=!1;break}_i||(_i=$r=="constructor")}if(Jr&&!_i){var Rs=q.constructor,Mi=Oe.constructor;Rs!=Mi&&"constructor"in q&&"constructor"in Oe&&!(typeof Rs=="function"&&Rs instanceof Rs&&typeof Mi=="function"&&Mi instanceof Mi)&&(Jr=!1)}return At.delete(q),At.delete(Oe),Jr}function Fi(q){return Qc(q,gi,Cs)}function Ps(q,Oe){var Xe=q.__data__;return iu(Oe)?Xe[typeof Oe=="string"?"string":"hash"]:Xe.map}function pi(q,Oe){var Xe=J(q,Oe);return Zc(Xe)?Xe:void 0}function ua(q){var Oe=bt.call(q,Lr),Xe=q[Lr];try{q[Lr]=void 0;var dt=!0}catch{}var Xt=jt.call(q);return dt&&(Oe?q[Lr]=Xe:delete q[Lr]),Xt}var Cs=kn?function(q){return q==null?[]:(q=Object(q),yt(kn(q),function(Oe){return Gt.call(q,Oe)}))}:cu,mn=rs;(ii&&mn(new ii(new ArrayBuffer(1)))!=g||si&&mn(new si)!=_e||lr&&mn(lr.resolve())!=ke||hr&&mn(new hr)!=se||cr&&mn(new cr)!=x)&&(mn=function(q){var Oe=rs(q),Xe=Oe==ze?q.constructor:void 0,dt=Xe?Ui(Xe):"";if(dt)switch(dt){case xr:return g;case _r:return _e;case dr:return ke;case Ir:return se;case Sr:return x}return Oe});function nu(q,Oe){return Oe=Oe??V,!!Oe&&(typeof q=="number"||Pe.test(q))&&q>-1&&q%1==0&&q<Oe}function iu(q){var Oe=typeof q;return Oe=="string"||Oe=="number"||Oe=="symbol"||Oe=="boolean"?q!=="__proto__":q===null}function su(q){return!!Ft&&Ft in q}function fa(q){var Oe=q&&q.constructor,Xe=typeof Oe=="function"&&Oe.prototype||lt;return q===Xe}function kl(q){return jt.call(q)}function Ui(q){if(q!=null){try{return gt.call(q)}catch{}try{return q+""}catch{}}return""}function go(q,Oe){return q===Oe||q!==q&&Oe!==Oe}var la=oa(function(){return arguments}())?oa:function(q){return Ts(q)&&bt.call(q,"callee")&&!Gt.call(q,"callee")},ji=Array.isArray;function ql(q){return q!=null&&Et(q.length)&&!Rr(q)}var Ns=di||uu;function Kr(q,Oe){return aa(q,Oe)}function Rr(q){if(!ou(q))return!1;var Oe=rs(q);return Oe==Re||Oe==ee||Oe==F||Oe==je}function Et(q){return typeof q=="number"&&q>-1&&q%1==0&&q<=V}function ou(q){var Oe=typeof q;return q!=null&&(Oe=="object"||Oe=="function")}function Ts(q){return q!=null&&typeof q=="object"}var au=nt?w(nt):eu;function gi(q){return ql(q)?Yc(q):Mr(q)}function cu(){return[]}function uu(){return!1}rt.exports=Kr},85346:function(rt){"use strict";function b(k){try{return JSON.stringify(k)}catch{return'"[Circular]"'}}rt.exports=T;function T(k,Te,Ue){var xe=Ue&&Ue.stringify||b,V=1;if(typeof k=="object"&&k!==null){var ce=Te.length+V;if(ce===1)return k;var Q=new Array(ce);Q[0]=xe(k);for(var F=1;F<ce;F++)Q[F]=xe(Te[F]);return Q.join(" ")}if(typeof k!="string")return k;var G=Te.length;if(G===0)return k;for(var Y="",Ie=1-V,Re=-1,ee=k&&k.length||0,_e=0;_e<ee;){if(k.charCodeAt(_e)===37&&_e+1<ee){switch(Re=Re>-1?Re:0,k.charCodeAt(_e+1)){case 100:case 102:if(Ie>=G||Te[Ie]==null)break;Re<_e&&(Y+=k.slice(Re,_e)),Y+=Number(Te[Ie]),Re=_e+2,_e++;break;case 105:if(Ie>=G||Te[Ie]==null)break;Re<_e&&(Y+=k.slice(Re,_e)),Y+=Math.floor(Number(Te[Ie])),Re=_e+2,_e++;break;case 79:case 111:case 106:if(Ie>=G||Te[Ie]===void 0)break;Re<_e&&(Y+=k.slice(Re,_e));var re=typeof Te[Ie];if(re==="string"){Y+="'"+Te[Ie]+"'",Re=_e+2,_e++;break}if(re==="function"){Y+=Te[Ie].name||"<anonymous>",Re=_e+2,_e++;break}Y+=xe(Te[Ie]),Re=_e+2,_e++;break;case 115:if(Ie>=G)break;Re<_e&&(Y+=k.slice(Re,_e)),Y+=String(Te[Ie]),Re=_e+2,_e++;break;case 37:Re<_e&&(Y+=k.slice(Re,_e)),Y+="%",Re=_e+2,_e++,Ie--;break}++Ie}++_e}return Re===-1?k:(Re<ee&&(Y+=k.slice(Re)),Y)}},57026:function(rt){"use strict";rt.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},74704:function(rt,b,T){var k=T(86116);function Te(Ue,xe){var V=typeof Symbol<"u"&&Ue[Symbol.iterator]||Ue["@@iterator"];if(!V){if(Array.isArray(Ue)||(V=k(Ue))||xe&&Ue&&typeof Ue.length=="number"){V&&(Ue=V);var ce=0,Q=function(){};return{s:Q,n:function(){return ce>=Ue.length?{done:!0}:{done:!1,value:Ue[ce++]}},e:function(Re){throw Re},f:Q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F=!0,G=!1,Y;return{s:function(){V=V.call(Ue)},n:function(){var Re=V.next();return F=Re.done,Re},e:function(Re){G=!0,Y=Re},f:function(){try{!F&&V.return!=null&&V.return()}finally{if(G)throw Y}}}}rt.exports=Te,rt.exports.__esModule=!0,rt.exports.default=rt.exports},36559:function(rt,b,T){"use strict";const k=T(85346);rt.exports=V;const Te=De().console||{},Ue={mapHttpRequest:re,mapHttpResponse:re,wrapRequestSerializer:Be,wrapResponseSerializer:Be,wrapErrorSerializer:Be,req:re,res:re,err:ee};function xe(_,d){return Array.isArray(_)?_.filter(function(U){return U!=="!stdSerializers.err"}):_===!0?Object.keys(d):!1}function V(_){_=_||{},_.browser=_.browser||{};const d=_.browser.transmit;if(d&&typeof d.send!="function")throw Error("pino: transmit option must have a send function");const x=_.browser.write||Te;_.browser.write&&(_.browser.asObject=!0);const U=_.serializers||{},g=xe(_.browser.serialize,U);let R=_.browser.serialize;Array.isArray(_.browser.serialize)&&_.browser.serialize.indexOf("!stdSerializers.err")>-1&&(R=!1);const I=["error","fatal","warn","info","debug","trace"];typeof x=="function"&&(x.error=x.fatal=x.warn=x.info=x.debug=x.trace=x),_.enabled===!1&&(_.level="silent");const A=_.level||"info",C=Object.create(x);C.log||(C.log=ze),Object.defineProperty(C,"levelVal",{get:P}),Object.defineProperty(C,"level",{get:$,set:Se});const O={transmit:d,serialize:g,asObject:_.browser.asObject,levels:I,timestamp:_e(_)};C.levels=V.levels,C.level=A,C.setMaxListeners=C.getMaxListeners=C.emit=C.addListener=C.on=C.prependListener=C.once=C.prependOnceListener=C.removeListener=C.removeAllListeners=C.listeners=C.listenerCount=C.eventNames=C.write=C.flush=ze,C.serializers=U,C._serialize=g,C._stdErrSerialize=R,C.child=Z,d&&(C._logEvent=Re());function P(){return this.level==="silent"?1/0:this.levels.values[this.level]}function $(){return this._level}function Se(be){if(be!=="silent"&&!this.levels.values[be])throw Error("unknown level "+be);this._level=be,ce(O,C,"error","log"),ce(O,C,"fatal","error"),ce(O,C,"warn","error"),ce(O,C,"info","log"),ce(O,C,"debug","log"),ce(O,C,"trace","log")}function Z(be,Je){if(!be)throw new Error("missing bindings for child Pino");Je=Je||{},g&&be.serializers&&(Je.serializers=be.serializers);const Pe=Je.serializers;if(g&&Pe){var We=Object.assign({},U,Pe),Ze=_.browser.serialize===!0?Object.keys(We):g;delete be.serializers,G([be],Ze,We,this._stdErrSerialize)}function it(ot){this._childLevel=(ot._childLevel|0)+1,this.error=Y(ot,be,"error"),this.fatal=Y(ot,be,"fatal"),this.warn=Y(ot,be,"warn"),this.info=Y(ot,be,"info"),this.debug=Y(ot,be,"debug"),this.trace=Y(ot,be,"trace"),We&&(this.serializers=We,this._serialize=Ze),d&&(this._logEvent=Re([].concat(ot._logEvent.bindings,be)))}return it.prototype=this,new it(this)}return C}V.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},V.stdSerializers=Ue,V.stdTimeFunctions=Object.assign({},{nullTime:ke,epochTime:je,unixTime:ve,isoTime:se});function ce(_,d,x,U){const g=Object.getPrototypeOf(d);d[x]=d.levelVal>d.levels.values[x]?ze:g[x]?g[x]:Te[x]||Te[U]||ze,Q(_,d,x)}function Q(_,d,x){!_.transmit&&d[x]===ze||(d[x]=function(U){return function(){const R=_.timestamp(),I=new Array(arguments.length),A=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Te?Te:this;for(var C=0;C<I.length;C++)I[C]=arguments[C];if(_.serialize&&!_.asObject&&G(I,this._serialize,this.serializers,this._stdErrSerialize),_.asObject?U.call(A,F(this,x,I,R)):U.apply(A,I),_.transmit){const O=_.transmit.level||d.level,P=V.levels.values[O],$=V.levels.values[x];if($<P)return;Ie(this,{ts:R,methodLevel:x,methodValue:$,transmitLevel:O,transmitValue:V.levels.values[_.transmit.level||d.level],send:_.transmit.send,val:d.levelVal},I)}}}(d[x]))}function F(_,d,x,U){_._serialize&&G(x,_._serialize,_.serializers,_._stdErrSerialize);const g=x.slice();let R=g[0];const I={};U&&(I.time=U),I.level=V.levels.values[d];let A=(_._childLevel|0)+1;if(A<1&&(A=1),R!==null&&typeof R=="object"){for(;A--&&typeof g[0]=="object";)Object.assign(I,g.shift());R=g.length?k(g.shift(),g):void 0}else typeof R=="string"&&(R=k(g.shift(),g));return R!==void 0&&(I.msg=R),I}function G(_,d,x,U){for(const g in _)if(U&&_[g]instanceof Error)_[g]=V.stdSerializers.err(_[g]);else if(typeof _[g]=="object"&&!Array.isArray(_[g]))for(const R in _[g])d&&d.indexOf(R)>-1&&R in x&&(_[g][R]=x[R](_[g][R]))}function Y(_,d,x){return function(){const U=new Array(1+arguments.length);U[0]=d;for(var g=1;g<U.length;g++)U[g]=arguments[g-1];return _[x].apply(this,U)}}function Ie(_,d,x){const U=d.send,g=d.ts,R=d.methodLevel,I=d.methodValue,A=d.val,C=_._logEvent.bindings;G(x,_._serialize||Object.keys(_.serializers),_.serializers,_._stdErrSerialize===void 0?!0:_._stdErrSerialize),_._logEvent.ts=g,_._logEvent.messages=x.filter(function(O){return C.indexOf(O)===-1}),_._logEvent.level.label=R,_._logEvent.level.value=I,U(R,_._logEvent,A),_._logEvent=Re(C)}function Re(_){return{ts:0,messages:[],bindings:_||[],level:{label:"",value:0}}}function ee(_){const d={type:_.constructor.name,msg:_.message,stack:_.stack};for(const x in _)d[x]===void 0&&(d[x]=_[x]);return d}function _e(_){return typeof _.timestamp=="function"?_.timestamp:_.timestamp===!1?ke:je}function re(){return{}}function Be(_){return _}function ze(){}function ke(){return!1}function je(){return Date.now()}function ve(){return Math.round(Date.now()/1e3)}function se(){return new Date(Date.now()).toISOString()}function De(){function _(d){return typeof d<"u"&&d}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return _(self)||_(window)||_(this)||{}}}}}]);
